(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=t(a);fetch(a.href,c)}})();function Lw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zm={exports:{}},tc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function fN(){if(_x)return tc;_x=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,c){var d=null;if(c!==void 0&&(d=""+c),a.key!==void 0&&(d=""+a.key),"key"in a){c={};for(var f in a)f!=="key"&&(c[f]=a[f])}else c=a;return a=c.ref,{$$typeof:r,type:s,key:d,ref:a!==void 0?a:null,props:c}}return tc.Fragment=e,tc.jsx=t,tc.jsxs=t,tc}var Ex;function mN(){return Ex||(Ex=1,zm.exports=fN()),zm.exports}var l=mN(),Bm={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx;function pN(){if(Nx)return Me;Nx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function E(H){return H===null||typeof H!="object"?null:(H=b&&H[b]||H["@@iterator"],typeof H=="function"?H:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,V={};function R(H,ae,fe){this.props=H,this.context=ae,this.refs=V,this.updater=fe||T}R.prototype.isReactComponent={},R.prototype.setState=function(H,ae){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ae,"setState")},R.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function L(){}L.prototype=R.prototype;function O(H,ae,fe){this.props=H,this.context=ae,this.refs=V,this.updater=fe||T}var S=O.prototype=new L;S.constructor=O,M(S,R.prototype),S.isPureReactComponent=!0;var F=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function C(H,ae,fe,ue,we,Le){return fe=Le.ref,{$$typeof:r,type:H,key:ae,ref:fe!==void 0?fe:null,props:Le}}function N(H,ae){return C(H.type,ae,void 0,void 0,void 0,H.props)}function D(H){return typeof H=="object"&&H!==null&&H.$$typeof===r}function U(H){var ae={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(fe){return ae[fe]})}var q=/\/+/g;function z(H,ae){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):ae.toString(36)}function I(){}function Z(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(I,I):(H.status="pending",H.then(function(ae){H.status==="pending"&&(H.status="fulfilled",H.value=ae)},function(ae){H.status==="pending"&&(H.status="rejected",H.reason=ae)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ce(H,ae,fe,ue,we){var Le=typeof H;(Le==="undefined"||Le==="boolean")&&(H=null);var je=!1;if(H===null)je=!0;else switch(Le){case"bigint":case"string":case"number":je=!0;break;case"object":switch(H.$$typeof){case r:case e:je=!0;break;case v:return je=H._init,ce(je(H._payload),ae,fe,ue,we)}}if(je)return we=we(H),je=ue===""?"."+z(H,0):ue,F(we)?(fe="",je!=null&&(fe=je.replace(q,"$&/")+"/"),ce(we,ae,fe,"",function(Pn){return Pn})):we!=null&&(D(we)&&(we=N(we,fe+(we.key==null||H&&H.key===we.key?"":(""+we.key).replace(q,"$&/")+"/")+je)),ae.push(we)),1;je=0;var At=ue===""?".":ue+":";if(F(H))for(var Ze=0;Ze<H.length;Ze++)ue=H[Ze],Le=At+z(ue,Ze),je+=ce(ue,ae,fe,Le,we);else if(Ze=E(H),typeof Ze=="function")for(H=Ze.call(H),Ze=0;!(ue=H.next()).done;)ue=ue.value,Le=At+z(ue,Ze++),je+=ce(ue,ae,fe,Le,we);else if(Le==="object"){if(typeof H.then=="function")return ce(Z(H),ae,fe,ue,we);throw ae=String(H),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return je}function Q(H,ae,fe){if(H==null)return H;var ue=[],we=0;return ce(H,ue,"","",function(Le){return ae.call(fe,Le,we++)}),ue}function te(H){if(H._status===-1){var ae=H._result;ae=ae(),ae.then(function(fe){(H._status===0||H._status===-1)&&(H._status=1,H._result=fe)},function(fe){(H._status===0||H._status===-1)&&(H._status=2,H._result=fe)}),H._status===-1&&(H._status=0,H._result=ae)}if(H._status===1)return H._result.default;throw H._result}var de=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function Ee(){}return Me.Children={map:Q,forEach:function(H,ae,fe){Q(H,function(){ae.apply(this,arguments)},fe)},count:function(H){var ae=0;return Q(H,function(){ae++}),ae},toArray:function(H){return Q(H,function(ae){return ae})||[]},only:function(H){if(!D(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Me.Component=R,Me.Fragment=t,Me.Profiler=a,Me.PureComponent=O,Me.StrictMode=s,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Me.__COMPILER_RUNTIME={__proto__:null,c:function(H){return P.H.useMemoCache(H)}},Me.cache=function(H){return function(){return H.apply(null,arguments)}},Me.cloneElement=function(H,ae,fe){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ue=M({},H.props),we=H.key,Le=void 0;if(ae!=null)for(je in ae.ref!==void 0&&(Le=void 0),ae.key!==void 0&&(we=""+ae.key),ae)!$.call(ae,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&ae.ref===void 0||(ue[je]=ae[je]);var je=arguments.length-2;if(je===1)ue.children=fe;else if(1<je){for(var At=Array(je),Ze=0;Ze<je;Ze++)At[Ze]=arguments[Ze+2];ue.children=At}return C(H.type,we,void 0,void 0,Le,ue)},Me.createContext=function(H){return H={$$typeof:d,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:c,_context:H},H},Me.createElement=function(H,ae,fe){var ue,we={},Le=null;if(ae!=null)for(ue in ae.key!==void 0&&(Le=""+ae.key),ae)$.call(ae,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(we[ue]=ae[ue]);var je=arguments.length-2;if(je===1)we.children=fe;else if(1<je){for(var At=Array(je),Ze=0;Ze<je;Ze++)At[Ze]=arguments[Ze+2];we.children=At}if(H&&H.defaultProps)for(ue in je=H.defaultProps,je)we[ue]===void 0&&(we[ue]=je[ue]);return C(H,Le,void 0,void 0,null,we)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(H){return{$$typeof:f,render:H}},Me.isValidElement=D,Me.lazy=function(H){return{$$typeof:v,_payload:{_status:-1,_result:H},_init:te}},Me.memo=function(H,ae){return{$$typeof:g,type:H,compare:ae===void 0?null:ae}},Me.startTransition=function(H){var ae=P.T,fe={};P.T=fe;try{var ue=H(),we=P.S;we!==null&&we(fe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ee,de)}catch(Le){de(Le)}finally{P.T=ae}},Me.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Me.use=function(H){return P.H.use(H)},Me.useActionState=function(H,ae,fe){return P.H.useActionState(H,ae,fe)},Me.useCallback=function(H,ae){return P.H.useCallback(H,ae)},Me.useContext=function(H){return P.H.useContext(H)},Me.useDebugValue=function(){},Me.useDeferredValue=function(H,ae){return P.H.useDeferredValue(H,ae)},Me.useEffect=function(H,ae,fe){var ue=P.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(H,ae)},Me.useId=function(){return P.H.useId()},Me.useImperativeHandle=function(H,ae,fe){return P.H.useImperativeHandle(H,ae,fe)},Me.useInsertionEffect=function(H,ae){return P.H.useInsertionEffect(H,ae)},Me.useLayoutEffect=function(H,ae){return P.H.useLayoutEffect(H,ae)},Me.useMemo=function(H,ae){return P.H.useMemo(H,ae)},Me.useOptimistic=function(H,ae){return P.H.useOptimistic(H,ae)},Me.useReducer=function(H,ae,fe){return P.H.useReducer(H,ae,fe)},Me.useRef=function(H){return P.H.useRef(H)},Me.useState=function(H){return P.H.useState(H)},Me.useSyncExternalStore=function(H,ae,fe){return P.H.useSyncExternalStore(H,ae,fe)},Me.useTransition=function(){return P.H.useTransition()},Me.version="19.1.0",Me}var Tx;function Yp(){return Tx||(Tx=1,Bm.exports=pN()),Bm.exports}var A=Yp();const gN=Lw(A);var Fm={exports:{}},nc={},qm={exports:{}},Hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function yN(){return Sx||(Sx=1,function(r){function e(Q,te){var de=Q.length;Q.push(te);e:for(;0<de;){var Ee=de-1>>>1,H=Q[Ee];if(0<a(H,te))Q[Ee]=te,Q[de]=H,de=Ee;else break e}}function t(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var te=Q[0],de=Q.pop();if(de!==te){Q[0]=de;e:for(var Ee=0,H=Q.length,ae=H>>>1;Ee<ae;){var fe=2*(Ee+1)-1,ue=Q[fe],we=fe+1,Le=Q[we];if(0>a(ue,de))we<H&&0>a(Le,ue)?(Q[Ee]=Le,Q[we]=de,Ee=we):(Q[Ee]=ue,Q[fe]=de,Ee=fe);else if(we<H&&0>a(Le,de))Q[Ee]=Le,Q[we]=de,Ee=we;else break e}}return te}function a(Q,te){var de=Q.sortIndex-te.sortIndex;return de!==0?de:Q.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();r.unstable_now=function(){return d.now()-f}}var p=[],g=[],v=1,b=null,E=3,T=!1,M=!1,V=!1,R=!1,L=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function F(Q){for(var te=t(g);te!==null;){if(te.callback===null)s(g);else if(te.startTime<=Q)s(g),te.sortIndex=te.expirationTime,e(p,te);else break;te=t(g)}}function P(Q){if(V=!1,F(Q),!M)if(t(p)!==null)M=!0,$||($=!0,z());else{var te=t(g);te!==null&&ce(P,te.startTime-Q)}}var $=!1,C=-1,N=5,D=-1;function U(){return R?!0:!(r.unstable_now()-D<N)}function q(){if(R=!1,$){var Q=r.unstable_now();D=Q;var te=!0;try{e:{M=!1,V&&(V=!1,O(C),C=-1),T=!0;var de=E;try{t:{for(F(Q),b=t(p);b!==null&&!(b.expirationTime>Q&&U());){var Ee=b.callback;if(typeof Ee=="function"){b.callback=null,E=b.priorityLevel;var H=Ee(b.expirationTime<=Q);if(Q=r.unstable_now(),typeof H=="function"){b.callback=H,F(Q),te=!0;break t}b===t(p)&&s(p),F(Q)}else s(p);b=t(p)}if(b!==null)te=!0;else{var ae=t(g);ae!==null&&ce(P,ae.startTime-Q),te=!1}}break e}finally{b=null,E=de,T=!1}te=void 0}}finally{te?z():$=!1}}}var z;if(typeof S=="function")z=function(){S(q)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Z=I.port2;I.port1.onmessage=q,z=function(){Z.postMessage(null)}}else z=function(){L(q,0)};function ce(Q,te){C=L(function(){Q(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var te=3;break;default:te=E}var de=E;E=te;try{return Q()}finally{E=de}},r.unstable_requestPaint=function(){R=!0},r.unstable_runWithPriority=function(Q,te){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=E;E=Q;try{return te()}finally{E=de}},r.unstable_scheduleCallback=function(Q,te,de){var Ee=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ee+de:Ee):de=Ee,Q){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=de+H,Q={id:v++,callback:te,priorityLevel:Q,startTime:de,expirationTime:H,sortIndex:-1},de>Ee?(Q.sortIndex=de,e(g,Q),t(p)===null&&Q===t(g)&&(V?(O(C),C=-1):V=!0,ce(P,de-Ee))):(Q.sortIndex=H,e(p,Q),M||T||(M=!0,$||($=!0,z()))),Q},r.unstable_shouldYield=U,r.unstable_wrapCallback=function(Q){var te=E;return function(){var de=E;E=te;try{return Q.apply(this,arguments)}finally{E=de}}}}(Hm)),Hm}var jx;function vN(){return jx||(jx=1,qm.exports=yN()),qm.exports}var Gm={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax;function xN(){if(Ax)return sn;Ax=1;var r=Yp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,v)},sn.flushSync=function(p){var g=d.T,v=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=g,s.p=v,s.d.f()}},sn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},sn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},sn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:T}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:E,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},sn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=f(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},sn.requestFormReset=function(p){s.d.r(p)},sn.unstable_batchedUpdates=function(p,g){return p(g)},sn.useFormState=function(p,g,v){return d.H.useFormState(p,g,v)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var Cx;function bN(){if(Cx)return Gm.exports;Cx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gm.exports=xN(),Gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx;function wN(){if(Rx)return nc;Rx=1;var r=vN(),e=Yp(),t=bN();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(c(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(s(188));return i!==n?null:n}for(var o=n,u=i;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return f(m),n;if(y===u)return f(m),i;y=y.sibling}throw Error(s(188))}if(o.return!==u.return)o=m,u=y;else{for(var _=!1,j=m.child;j;){if(j===o){_=!0,o=m,u=y;break}if(j===u){_=!0,u=m,o=y;break}j=j.sibling}if(!_){for(j=y.child;j;){if(j===o){_=!0,o=y,u=m;break}if(j===u){_=!0,u=y,o=m;break}j=j.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),S=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=q&&n[q]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Z(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case R:return"Profiler";case V:return"StrictMode";case P:return"Suspense";case $:return"SuspenseList";case D:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case T:return"Portal";case S:return(n.displayName||"Context")+".Provider";case O:return(n._context.displayName||"Context")+".Consumer";case F:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return i=n.displayName||null,i!==null?i:Z(n.type)||"Memo";case N:i=n._payload,n=n._init;try{return Z(n(i))}catch{}}return null}var ce=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ee=[],H=-1;function ae(n){return{current:n}}function fe(n){0>H||(n.current=Ee[H],Ee[H]=null,H--)}function ue(n,i){H++,Ee[H]=n.current,n.current=i}var we=ae(null),Le=ae(null),je=ae(null),At=ae(null);function Ze(n,i){switch(ue(je,i),ue(Le,n),ue(we,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Kv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Kv(i),n=Xv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}fe(we),ue(we,n)}function Pn(){fe(we),fe(Le),fe(je)}function mr(n){n.memoizedState!==null&&ue(At,n);var i=we.current,o=Xv(i,n.type);i!==o&&(ue(Le,n),ue(we,o))}function Tn(n){Le.current===n&&(fe(we),fe(Le)),At.current===n&&(fe(At),Kl._currentValue=de)}var Jn=Object.prototype.hasOwnProperty,er=r.unstable_scheduleCallback,tr=r.unstable_cancelCallback,Mi=r.unstable_shouldYield,pe=r.unstable_requestPaint,ve=r.unstable_now,ke=r.unstable_getCurrentPriorityLevel,Gr=r.unstable_ImmediatePriority,Ca=r.unstable_UserBlockingPriority,Li=r.unstable_NormalPriority,zh=r.unstable_LowPriority,Ra=r.unstable_IdlePriority,Yo=r.log,Wc=r.unstable_setDisableYieldValue,bt=null,Je=null;function Sn(n){if(typeof Yo=="function"&&Wc(n),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(bt,n)}catch{}}var nn=Math.clz32?Math.clz32:Oi,$c=Math.log,Bh=Math.LN2;function Oi(n){return n>>>=0,n===0?32:31-($c(n)/Bh|0)|0}var Pi=256,Vi=4194304;function nr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ka(n,i,o){var u=n.pendingLanes;if(u===0)return 0;var m=0,y=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var j=u&134217727;return j!==0?(u=j&~y,u!==0?m=nr(u):(_&=j,_!==0?m=nr(_):o||(o=j&~n,o!==0&&(m=nr(o))))):(j=u&~y,j!==0?m=nr(j):_!==0?m=nr(_):o||(o=u&~n,o!==0&&(m=nr(o)))),m===0?0:i!==0&&i!==m&&(i&y)===0&&(y=m&-m,o=i&-i,y>=o||y===32&&(o&4194048)!==0)?i:m}function Ui(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ko(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var n=Pi;return Pi<<=1,(Pi&4194048)===0&&(Pi=256),n}function Zo(){var n=Vi;return Vi<<=1,(Vi&62914560)===0&&(Vi=4194304),n}function Wr(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function $r(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Jo(n,i,o,u,m,y){var _=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var j=n.entanglements,B=n.expirationTimes,X=n.hiddenUpdates;for(o=_&~o;0<o;){var re=31-nn(o),oe=1<<re;j[re]=0,B[re]=-1;var J=X[re];if(J!==null)for(X[re]=null,re=0;re<J.length;re++){var ee=J[re];ee!==null&&(ee.lane&=-536870913)}o&=~oe}u!==0&&pr(n,u,0),y!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=y&~(_&~i))}function pr(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-nn(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function el(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var u=31-nn(o),m=1<<u;m&i|n[u]&i&&(n[u]|=i),o&=~m}}function Ds(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ia(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ms(){var n=te.p;return n!==0?n:(n=window.event,n===void 0?32:gx(n.type))}function Qc(n,i){var o=te.p;try{return te.p=n,i()}finally{te.p=o}}var ht=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ht,Ct="__reactProps$"+ht,Vn="__reactContainer$"+ht,tl="__reactEvents$"+ht,Fh="__reactListeners$"+ht,Ls="__reactHandles$"+ht,Yc="__reactResources$"+ht,zi="__reactMarker$"+ht;function Os(n){delete n[Lt],delete n[Ct],delete n[tl],delete n[Fh],delete n[Ls]}function Qr(n){var i=n[Lt];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Vn]||o[Lt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=tx(n);n!==null;){if(o=n[Lt])return o;n=tx(n)}return i}n=o,o=n.parentNode}return null}function gr(n){if(n=n[Lt]||n[Vn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function yr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function hn(n){var i=n[Yc];return i||(i=n[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(n){n[zi]=!0}var nl=new Set,Da={};function rr(n,i){Yr(n,i),Yr(n+"Capture",i)}function Yr(n,i){for(Da[n]=i,n=0;n<i.length;n++)nl.add(i[n])}var Kc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xc={},Bi={};function Zc(n){return Jn.call(Bi,n)?!0:Jn.call(Xc,n)?!1:Kc.test(n)?Bi[n]=!0:(Xc[n]=!0,!1)}function Ps(n,i,o){if(Zc(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function vr(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function Qt(n,i,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+u)}}var Fi,Jc;function Kr(n){if(Fi===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Fi=i&&i[1]||"",Jc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fi+n+Jc}var Ma=!1;function La(n,i){if(!n||Ma)return"";Ma=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var J=ee}Reflect.construct(n,[],oe)}else{try{oe.call()}catch(ee){J=ee}n.call(oe.prototype)}}else{try{throw Error()}catch(ee){J=ee}(oe=n())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),_=y[0],j=y[1];if(_&&j){var B=_.split(`
`),X=j.split(`
`);for(m=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(u===B.length||m===X.length)for(u=B.length-1,m=X.length-1;1<=u&&0<=m&&B[u]!==X[m];)m--;for(;1<=u&&0<=m;u--,m--)if(B[u]!==X[m]){if(u!==1||m!==1)do if(u--,m--,0>m||B[u]!==X[m]){var re=`
`+B[u].replace(" at new "," at ");return n.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",n.displayName)),re}while(1<=u&&0<=m);break}}}finally{Ma=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Kr(o):""}function rl(n){switch(n.tag){case 26:case 27:case 5:return Kr(n.type);case 16:return Kr("Lazy");case 13:return Kr("Suspense");case 19:return Kr("SuspenseList");case 0:case 15:return La(n.type,!1);case 11:return La(n.type.render,!1);case 1:return La(n.type,!0);case 31:return Kr("Activity");default:return""}}function Oa(n){try{var i="";do i+=rl(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function fn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function sl(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qh(n){var i=sl(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,y=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(_){u=""+_,y.call(this,_)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Pa(n){n._valueTracker||(n._valueTracker=qh(n))}function il(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return n&&(u=sl(n)?n.checked?"true":"false":n.value),n=u,n!==o?(i.setValue(n),!0):!1}function qi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Hh=/[\n"\\]/g;function Rt(n){return n.replace(Hh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function jn(n,i,o,u,m,y,_,j){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+fn(i)):n.value!==""+fn(i)&&(n.value=""+fn(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?Vs(n,_,fn(i)):o!=null?Vs(n,_,fn(o)):u!=null&&n.removeAttribute("value"),m==null&&y!=null&&(n.defaultChecked=!!y),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?n.name=""+fn(j):n.removeAttribute("name")}function Hi(n,i,o,u,m,y,_,j){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;o=o!=null?""+fn(o):"",i=i!=null?""+fn(i):o,j||i===n.value||(n.value=i),n.defaultValue=i}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=j?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function Vs(n,i,o){i==="number"&&qi(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Xr(n,i,o,u){if(n=n.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<n.length;o++)m=i.hasOwnProperty("$"+n[o].value),n[o].selected!==m&&(n[o].selected=m),m&&u&&(n[o].defaultSelected=!0)}else{for(o=""+fn(o),i=null,m=0;m<n.length;m++){if(n[m].value===o){n[m].selected=!0,u&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function nt(n,i,o){if(i!=null&&(i=""+fn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+fn(o):""}function Gi(n,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(s(92));if(ce(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=fn(i),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Un(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var Wi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(n,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,o):typeof o!="number"||o===0||Wi.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function al(n,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var m in i)u=i[m],i.hasOwnProperty(m)&&o[m]!==u&&eu(n,m,u)}else for(var y in i)i.hasOwnProperty(y)&&eu(n,y,i[y])}function ol(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(n){return Wh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Zr=null;function zn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Jr=null,es=null;function ll(n){var i=gr(n);if(i&&(n=i.stateNode)){var o=n[Ct]||null;e:switch(n=i.stateNode,i.type){case"input":if(jn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==n&&u.form===n.form){var m=u[Ct]||null;if(!m)throw Error(s(90));jn(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===n.form&&il(u)}break e;case"textarea":nt(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Xr(n,!!o.multiple,i,!1)}}}var xr=!1;function tu(n,i,o){if(xr)return n(i,o);xr=!0;try{var u=n(i);return u}finally{if(xr=!1,(Jr!==null||es!==null)&&(Qu(),Jr&&(i=Jr,n=es,es=Jr=null,ll(i),n)))for(i=0;i<n.length;i++)ll(n[i])}}function $i(n,i){var o=n.stateNode;if(o===null)return null;var u=o[Ct]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(sr)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{Bn=!1}var br=null,Us=null,ts=null;function cl(){if(ts)return ts;var n,i=Us,o=i.length,u,m="value"in br?br.value:br.textContent,y=m.length;for(n=0;n<o&&i[n]===m[n];n++);var _=o-n;for(u=1;u<=_&&i[o-u]===m[y-u];u++);return ts=m.slice(n,1<u?1-u:void 0)}function wr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function _r(){return!0}function ul(){return!1}function Bt(n){function i(o,u,m,y,_){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var j in n)n.hasOwnProperty(j)&&(o=n[j],this[j]=o?o(y):y[j]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?_r:ul,this.isPropagationStopped=ul,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),i}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Bt(Xe),Yi=v({},Xe,{view:0,detail:0}),nu=Bt(Yi),za,Ba,Er,Ki=v({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Er&&(Er&&n.type==="mousemove"?(za=n.screenX-Er.screenX,Ba=n.screenY-Er.screenY):Ba=za=0,Er=n),za)},movementY:function(n){return"movementY"in n?n.movementY:Ba}}),Fn=Bt(Ki),ru=v({},Ki,{dataTransfer:0}),$h=Bt(ru),Xi=v({},Yi,{relatedTarget:0}),Fa=Bt(Xi),dl=v({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=Bt(dl),su=v({},Xe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ha=Bt(su),Qh=v({},Xe,{data:0}),hl=Bt(Qh),Zi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=au[n])?!!i[n]:!1}function Ji(){return fl}var ou=v({},Yi,{key:function(n){if(n.key){var i=Zi[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=wr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?iu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(n){return n.type==="keypress"?wr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?wr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ga=Bt(ou),lu=v({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=Bt(lu),ns=v({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),cu=Bt(ns),uu=v({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),du=Bt(uu),hu=v({},Ki,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Wa=Bt(hu),mn=v({},Xe,{newState:0,oldState:0}),fu=Bt(mn),mu=[9,13,27,32],Nr=sr&&"CompositionEvent"in window,h=null;sr&&"documentMode"in document&&(h=document.documentMode);var x=sr&&"TextEvent"in window&&!h,w=sr&&(!Nr||h&&8<h&&11>=h),k=" ",Y=!1;function ne(n,i){switch(n){case"keyup":return mu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qe=!1;function Ot(n,i){switch(n){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(Y=!0,k);case"textInput":return n=i.data,n===k&&Y?null:n;default:return null}}function He(n,i){if(qe)return n==="compositionend"||!Nr&&ne(n,i)?(n=cl(),ts=Us=br=null,qe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return w&&i.locale!=="ko"?null:i.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Ft[n.type]:i==="textarea"}function rs(n,i,o,u){Jr?es?es.push(u):es=[u]:Jr=u,i=ed(i,"onChange"),0<i.length&&(o=new Ua("onChange","change",null,o,u),n.push({event:o,listeners:i}))}var Yt=null,Tr=null;function pl(n){Gv(n,0)}function pu(n){var i=yr(n);if(il(i))return n}function h0(n,i){if(n==="change")return i}var f0=!1;if(sr){var Yh;if(sr){var Kh="oninput"in document;if(!Kh){var m0=document.createElement("div");m0.setAttribute("oninput","return;"),Kh=typeof m0.oninput=="function"}Yh=Kh}else Yh=!1;f0=Yh&&(!document.documentMode||9<document.documentMode)}function p0(){Yt&&(Yt.detachEvent("onpropertychange",g0),Tr=Yt=null)}function g0(n){if(n.propertyName==="value"&&pu(Tr)){var i=[];rs(i,Tr,n,zn(n)),tu(pl,i)}}function q_(n,i,o){n==="focusin"?(p0(),Yt=i,Tr=o,Yt.attachEvent("onpropertychange",g0)):n==="focusout"&&p0()}function H_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return pu(Tr)}function G_(n,i){if(n==="click")return pu(i)}function W_(n,i){if(n==="input"||n==="change")return pu(i)}function $_(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var An=typeof Object.is=="function"?Object.is:$_;function gl(n,i){if(An(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Jn.call(i,m)||!An(n[m],i[m]))return!1}return!0}function y0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function v0(n,i){var o=y0(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=i&&u>=i)return{node:o,offset:i-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=y0(o)}}function x0(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?x0(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function b0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=qi(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=qi(n.document)}return i}function Xh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var Q_=sr&&"documentMode"in document&&11>=document.documentMode,$a=null,Zh=null,yl=null,Jh=!1;function w0(n,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Jh||$a==null||$a!==qi(u)||(u=$a,"selectionStart"in u&&Xh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),yl&&gl(yl,u)||(yl=u,u=ed(Zh,"onSelect"),0<u.length&&(i=new Ua("onSelect","select",null,i,o),n.push({event:i,listeners:u}),i.target=$a)))}function ea(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Qa={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},ef={},_0={};sr&&(_0=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function ta(n){if(ef[n])return ef[n];if(!Qa[n])return n;var i=Qa[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in _0)return ef[n]=i[o];return n}var E0=ta("animationend"),N0=ta("animationiteration"),T0=ta("animationstart"),Y_=ta("transitionrun"),K_=ta("transitionstart"),X_=ta("transitioncancel"),S0=ta("transitionend"),j0=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function ir(n,i){j0.set(n,i),rr(i,[n])}var A0=new WeakMap;function qn(n,i){if(typeof n=="object"&&n!==null){var o=A0.get(n);return o!==void 0?o:(i={value:n,source:i,stack:Oa(i)},A0.set(n,i),i)}return{value:n,source:i,stack:Oa(i)}}var Hn=[],Ya=0,nf=0;function gu(){for(var n=Ya,i=nf=Ya=0;i<n;){var o=Hn[i];Hn[i++]=null;var u=Hn[i];Hn[i++]=null;var m=Hn[i];Hn[i++]=null;var y=Hn[i];if(Hn[i++]=null,u!==null&&m!==null){var _=u.pending;_===null?m.next=m:(m.next=_.next,_.next=m),u.pending=m}y!==0&&C0(o,m,y)}}function yu(n,i,o,u){Hn[Ya++]=n,Hn[Ya++]=i,Hn[Ya++]=o,Hn[Ya++]=u,nf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function rf(n,i,o,u){return yu(n,i,o,u),vu(n)}function Ka(n,i){return yu(n,null,null,i),vu(n)}function C0(n,i,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var m=!1,y=n.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(m=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,m&&i!==null&&(m=31-nn(o),n=y.hiddenUpdates,u=n[m],u===null?n[m]=[i]:u.push(i),i.lane=o|536870912),y):null}function vu(n){if(50<Fl)throw Fl=0,um=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Xa={};function Z_(n,i,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(n,i,o,u){return new Z_(n,i,o,u)}function sf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ss(n,i){var o=n.alternate;return o===null?(o=Cn(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function R0(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function xu(n,i,o,u,m,y){var _=0;if(u=n,typeof n=="function")sf(n)&&(_=1);else if(typeof n=="string")_=eN(n,o,we.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case D:return n=Cn(31,o,i,m),n.elementType=D,n.lanes=y,n;case M:return na(o.children,m,y,i);case V:_=8,m|=24;break;case R:return n=Cn(12,o,i,m|2),n.elementType=R,n.lanes=y,n;case P:return n=Cn(13,o,i,m),n.elementType=P,n.lanes=y,n;case $:return n=Cn(19,o,i,m),n.elementType=$,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case L:case S:_=10;break e;case O:_=9;break e;case F:_=11;break e;case C:_=14;break e;case N:_=16,u=null;break e}_=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=Cn(_,o,i,m),i.elementType=n,i.type=u,i.lanes=y,i}function na(n,i,o,u){return n=Cn(7,n,u,i),n.lanes=o,n}function af(n,i,o){return n=Cn(6,n,null,i),n.lanes=o,n}function of(n,i,o){return i=Cn(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Za=[],Ja=0,bu=null,wu=0,Gn=[],Wn=0,ra=null,is=1,as="";function sa(n,i){Za[Ja++]=wu,Za[Ja++]=bu,bu=n,wu=i}function k0(n,i,o){Gn[Wn++]=is,Gn[Wn++]=as,Gn[Wn++]=ra,ra=n;var u=is;n=as;var m=32-nn(u)-1;u&=~(1<<m),o+=1;var y=32-nn(i)+m;if(30<y){var _=m-m%5;y=(u&(1<<_)-1).toString(32),u>>=_,m-=_,is=1<<32-nn(i)+m|o<<m|u,as=y+n}else is=1<<y|o<<m|u,as=n}function lf(n){n.return!==null&&(sa(n,1),k0(n,1,0))}function cf(n){for(;n===bu;)bu=Za[--Ja],Za[Ja]=null,wu=Za[--Ja],Za[Ja]=null;for(;n===ra;)ra=Gn[--Wn],Gn[Wn]=null,as=Gn[--Wn],Gn[Wn]=null,is=Gn[--Wn],Gn[Wn]=null}var pn=null,wt=null,Ye=!1,ia=null,Sr=!1,uf=Error(s(519));function aa(n){var i=Error(s(418,""));throw bl(qn(i,n)),uf}function I0(n){var i=n.stateNode,o=n.type,u=n.memoizedProps;switch(i[Lt]=n,i[Ct]=u,o){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(o=0;o<Hl.length;o++)ze(Hl[o],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),Hi(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Pa(i);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),Gi(i,u.value,u.defaultValue,u.children),Pa(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||Yv(i.textContent,o)?(u.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),u.onScroll!=null&&ze("scroll",i),u.onScrollEnd!=null&&ze("scrollend",i),u.onClick!=null&&(i.onclick=td),i=!0):i=!1,i||aa(n)}function D0(n){for(pn=n.return;pn;)switch(pn.tag){case 5:case 13:Sr=!1;return;case 27:case 3:Sr=!0;return;default:pn=pn.return}}function vl(n){if(n!==pn)return!1;if(!Ye)return D0(n),Ye=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Sm(n.type,n.memoizedProps)),o=!o),o&&wt&&aa(n),D0(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){wt=or(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}wt=null}}else i===27?(i=wt,ti(n.type)?(n=Rm,Rm=null,wt=n):wt=i):wt=pn?or(n.stateNode.nextSibling):null;return!0}function xl(){wt=pn=null,Ye=!1}function M0(){var n=ia;return n!==null&&(xn===null?xn=n:xn.push.apply(xn,n),ia=null),n}function bl(n){ia===null?ia=[n]:ia.push(n)}var df=ae(null),oa=null,os=null;function zs(n,i,o){ue(df,i._currentValue),i._currentValue=o}function ls(n){n._currentValue=df.current,fe(df)}function hf(n,i,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===o)break;n=n.return}}function ff(n,i,o,u){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var y=m.dependencies;if(y!==null){var _=m.child;y=y.firstContext;e:for(;y!==null;){var j=y;y=m;for(var B=0;B<i.length;B++)if(j.context===i[B]){y.lanes|=o,j=y.alternate,j!==null&&(j.lanes|=o),hf(y.return,o,n),u||(_=null);break e}y=j.next}}else if(m.tag===18){if(_=m.return,_===null)throw Error(s(341));_.lanes|=o,y=_.alternate,y!==null&&(y.lanes|=o),hf(_,o,n),_=null}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===n){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}}function wl(n,i,o,u){n=null;for(var m=i,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var _=m.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var j=m.type;An(m.pendingProps.value,_.value)||(n!==null?n.push(j):n=[j])}}else if(m===At.current){if(_=m.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(Kl):n=[Kl])}m=m.return}n!==null&&ff(i,n,o,u),i.flags|=262144}function _u(n){for(n=n.firstContext;n!==null;){if(!An(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function la(n){oa=n,os=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function rn(n){return L0(oa,n)}function Eu(n,i){return oa===null&&la(n),L0(n,i)}function L0(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},os===null){if(n===null)throw Error(s(308));os=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else os=os.next=i;return o}var J_=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},eE=r.unstable_scheduleCallback,tE=r.unstable_NormalPriority,Vt={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new J_,data:new Map,refCount:0}}function _l(n){n.refCount--,n.refCount===0&&eE(tE,function(){n.controller.abort()})}var El=null,pf=0,eo=0,to=null;function nE(n,i){if(El===null){var o=El=[];pf=0,eo=ym(),to={status:"pending",value:void 0,then:function(u){o.push(u)}}}return pf++,i.then(O0,O0),i}function O0(){if(--pf===0&&El!==null){to!==null&&(to.status="fulfilled");var n=El;El=null,eo=0,to=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function rE(n,i){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var P0=Q.S;Q.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&nE(n,i),P0!==null&&P0(n,i)};var ca=ae(null);function gf(){var n=ca.current;return n!==null?n:lt.pooledCache}function Nu(n,i){i===null?ue(ca,ca.current):ue(ca,i.pool)}function V0(){var n=gf();return n===null?null:{parent:Vt._currentValue,pool:n}}var Nl=Error(s(460)),U0=Error(s(474)),Tu=Error(s(542)),yf={then:function(){}};function z0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Su(){}function B0(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(Su,Su),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,q0(n),n;default:if(typeof i.status=="string")i.then(Su,Su);else{if(n=lt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=u}},function(u){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,q0(n),n}throw Tl=i,Nl}}var Tl=null;function F0(){if(Tl===null)throw Error(s(459));var n=Tl;return Tl=null,n}function q0(n){if(n===Nl||n===Tu)throw Error(s(483))}var Bs=!1;function vf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Fs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qs(n,i,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var m=u.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),u.pending=i,i=vu(n),C0(n,null,o),i}return yu(n,u,i,o),vu(n)}function Sl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,el(n,o)}}function bf(n,i){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=_:y=y.next=_,o=o.next}while(o!==null);y===null?m=y=i:y=y.next=i}else m=y=i;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var wf=!1;function jl(){if(wf){var n=to;if(n!==null)throw n}}function Al(n,i,o,u){wf=!1;var m=n.updateQueue;Bs=!1;var y=m.firstBaseUpdate,_=m.lastBaseUpdate,j=m.shared.pending;if(j!==null){m.shared.pending=null;var B=j,X=B.next;B.next=null,_===null?y=X:_.next=X,_=B;var re=n.alternate;re!==null&&(re=re.updateQueue,j=re.lastBaseUpdate,j!==_&&(j===null?re.firstBaseUpdate=X:j.next=X,re.lastBaseUpdate=B))}if(y!==null){var oe=m.baseState;_=0,re=X=B=null,j=y;do{var J=j.lane&-536870913,ee=J!==j.lane;if(ee?(Ge&J)===J:(u&J)===J){J!==0&&J===eo&&(wf=!0),re!==null&&(re=re.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ae=n,Ne=j;J=i;var it=o;switch(Ne.tag){case 1:if(Ae=Ne.payload,typeof Ae=="function"){oe=Ae.call(it,oe,J);break e}oe=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ne.payload,J=typeof Ae=="function"?Ae.call(it,oe,J):Ae,J==null)break e;oe=v({},oe,J);break e;case 2:Bs=!0}}J=j.callback,J!==null&&(n.flags|=64,ee&&(n.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:j.tag,payload:j.payload,callback:j.callback,next:null},re===null?(X=re=ee,B=oe):re=re.next=ee,_|=J;if(j=j.next,j===null){if(j=m.shared.pending,j===null)break;ee=j,j=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);re===null&&(B=oe),m.baseState=B,m.firstBaseUpdate=X,m.lastBaseUpdate=re,y===null&&(m.shared.lanes=0),Xs|=_,n.lanes=_,n.memoizedState=oe}}function H0(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function G0(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)H0(o[n],i)}var no=ae(null),ju=ae(0);function W0(n,i){n=ps,ue(ju,n),ue(no,i),ps=n|i.baseLanes}function _f(){ue(ju,ps),ue(no,no.current)}function Ef(){ps=ju.current,fe(no),fe(ju)}var Hs=0,Oe=null,rt=null,kt=null,Au=!1,ro=!1,ua=!1,Cu=0,Cl=0,so=null,sE=0;function Nt(){throw Error(s(321))}function Nf(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!An(n[o],i[o]))return!1;return!0}function Tf(n,i,o,u,m,y){return Hs=y,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=n===null||n.memoizedState===null?Cy:Ry,ua=!1,y=o(u,m),ua=!1,ro&&(y=Q0(i,o,u,m)),$0(n),y}function $0(n){Q.H=Lu;var i=rt!==null&&rt.next!==null;if(Hs=0,kt=rt=Oe=null,Au=!1,Cl=0,so=null,i)throw Error(s(300));n===null||qt||(n=n.dependencies,n!==null&&_u(n)&&(qt=!0))}function Q0(n,i,o,u){Oe=n;var m=0;do{if(ro&&(so=null),Cl=0,ro=!1,25<=m)throw Error(s(301));if(m+=1,kt=rt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Q.H=dE,y=i(o,u)}while(ro);return y}function iE(){var n=Q.H,i=n.useState()[0];return i=typeof i.then=="function"?Rl(i):i,n=n.useState()[0],(rt!==null?rt.memoizedState:null)!==n&&(Oe.flags|=1024),i}function Sf(){var n=Cu!==0;return Cu=0,n}function jf(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function Af(n){if(Au){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Au=!1}Hs=0,kt=rt=Oe=null,ro=!1,Cl=Cu=0,so=null}function yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Oe.memoizedState=kt=n:kt=kt.next=n,kt}function It(){if(rt===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=rt.next;var i=kt===null?Oe.memoizedState:kt.next;if(i!==null)kt=i,rt=n;else{if(n===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));rt=n,n={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},kt===null?Oe.memoizedState=kt=n:kt=kt.next=n}return kt}function Cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(n){var i=Cl;return Cl+=1,so===null&&(so=[]),n=B0(so,n,i),i=Oe,(kt===null?i.memoizedState:kt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Cy:Ry),n}function Ru(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Rl(n);if(n.$$typeof===S)return rn(n)}throw Error(s(438,String(n)))}function Rf(n){var i=null,o=Oe.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Cf(),Oe.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),u=0;u<n;u++)o[u]=U;return i.index++,o}function cs(n,i){return typeof i=="function"?i(n):i}function ku(n){var i=It();return kf(i,rt,n)}function kf(n,i,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var m=n.baseQueue,y=u.pending;if(y!==null){if(m!==null){var _=m.next;m.next=y.next,y.next=_}i.baseQueue=m=y,u.pending=null}if(y=n.baseState,m===null)n.memoizedState=y;else{i=m.next;var j=_=null,B=null,X=i,re=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(Ge&oe)===oe:(Hs&oe)===oe){var J=X.revertLane;if(J===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===eo&&(re=!0);else if((Hs&J)===J){X=X.next,J===eo&&(re=!0);continue}else oe={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(j=B=oe,_=y):B=B.next=oe,Oe.lanes|=J,Xs|=J;oe=X.action,ua&&o(y,oe),y=X.hasEagerState?X.eagerState:o(y,oe)}else J={lane:oe,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(j=B=J,_=y):B=B.next=J,Oe.lanes|=oe,Xs|=oe;X=X.next}while(X!==null&&X!==i);if(B===null?_=y:B.next=j,!An(y,n.memoizedState)&&(qt=!0,re&&(o=to,o!==null)))throw o;n.memoizedState=y,n.baseState=_,n.baseQueue=B,u.lastRenderedState=y}return m===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function If(n){var i=It(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,m=o.pending,y=i.memoizedState;if(m!==null){o.pending=null;var _=m=m.next;do y=n(y,_.action),_=_.next;while(_!==m);An(y,i.memoizedState)||(qt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),o.lastRenderedState=y}return[y,u]}function Y0(n,i,o){var u=Oe,m=It(),y=Ye;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=i();var _=!An((rt||m).memoizedState,o);_&&(m.memoizedState=o,qt=!0),m=m.queue;var j=Z0.bind(null,u,m,n);if(kl(2048,8,j,[n]),m.getSnapshot!==i||_||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,io(9,Iu(),X0.bind(null,u,m,o,i),null),lt===null)throw Error(s(349));y||(Hs&124)!==0||K0(u,i,o)}return o}function K0(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Oe.updateQueue,i===null?(i=Cf(),Oe.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function X0(n,i,o,u){i.value=o,i.getSnapshot=u,J0(i)&&ey(n)}function Z0(n,i,o){return o(function(){J0(i)&&ey(n)})}function J0(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!An(n,o)}catch{return!0}}function ey(n){var i=Ka(n,2);i!==null&&Mn(i,n,2)}function Df(n){var i=yn();if(typeof n=="function"){var o=n;if(n=o(),ua){Sn(!0);try{o()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:n},i}function ty(n,i,o,u){return n.baseState=o,kf(n,rt,typeof u=="function"?u:cs)}function aE(n,i,o,u,m){if(Mu(n))throw Error(s(485));if(n=i.action,n!==null){var y={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};Q.T!==null?o(!0):y.isTransition=!1,u(y),o=i.pending,o===null?(y.next=i.pending=y,ny(i,y)):(y.next=o.next,i.pending=o.next=y)}}function ny(n,i){var o=i.action,u=i.payload,m=n.state;if(i.isTransition){var y=Q.T,_={};Q.T=_;try{var j=o(m,u),B=Q.S;B!==null&&B(_,j),ry(n,i,j)}catch(X){Mf(n,i,X)}finally{Q.T=y}}else try{y=o(m,u),ry(n,i,y)}catch(X){Mf(n,i,X)}}function ry(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){sy(n,i,u)},function(u){return Mf(n,i,u)}):sy(n,i,o)}function sy(n,i,o){i.status="fulfilled",i.value=o,iy(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,ny(n,o)))}function Mf(n,i,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,iy(i),i=i.next;while(i!==u)}n.action=null}function iy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function ay(n,i){return i}function oy(n,i){if(Ye){var o=lt.formState;if(o!==null){e:{var u=Oe;if(Ye){if(wt){t:{for(var m=wt,y=Sr;m.nodeType!==8;){if(!y){m=null;break t}if(m=or(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){wt=or(m.nextSibling),u=m.data==="F!";break e}}aa(u)}u=!1}u&&(i=o[0])}}return o=yn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ay,lastRenderedState:i},o.queue=u,o=Sy.bind(null,Oe,u),u.dispatch=o,u=Df(!1),y=Uf.bind(null,Oe,!1,u.queue),u=yn(),m={state:i,dispatch:null,action:n,pending:null},u.queue=m,o=aE.bind(null,Oe,m,y,o),m.dispatch=o,u.memoizedState=n,[i,o,!1]}function ly(n){var i=It();return cy(i,rt,n)}function cy(n,i,o){if(i=kf(n,i,ay)[0],n=ku(cs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Rl(i)}catch(_){throw _===Nl?Tu:_}else u=i;i=It();var m=i.queue,y=m.dispatch;return o!==i.memoizedState&&(Oe.flags|=2048,io(9,Iu(),oE.bind(null,m,o),null)),[u,y,n]}function oE(n,i){n.action=i}function uy(n){var i=It(),o=rt;if(o!==null)return cy(i,o,n);It(),i=i.memoizedState,o=It();var u=o.queue.dispatch;return o.memoizedState=n,[i,u,!1]}function io(n,i,o,u){return n={tag:n,create:o,deps:u,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=Cf(),Oe.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,i.lastEffect=n),n}function Iu(){return{destroy:void 0,resource:void 0}}function dy(){return It().memoizedState}function Du(n,i,o,u){var m=yn();u=u===void 0?null:u,Oe.flags|=n,m.memoizedState=io(1|i,Iu(),o,u)}function kl(n,i,o,u){var m=It();u=u===void 0?null:u;var y=m.memoizedState.inst;rt!==null&&u!==null&&Nf(u,rt.memoizedState.deps)?m.memoizedState=io(i,y,o,u):(Oe.flags|=n,m.memoizedState=io(1|i,y,o,u))}function hy(n,i){Du(8390656,8,n,i)}function fy(n,i){kl(2048,8,n,i)}function my(n,i){return kl(4,2,n,i)}function py(n,i){return kl(4,4,n,i)}function gy(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function yy(n,i,o){o=o!=null?o.concat([n]):null,kl(4,4,gy.bind(null,i,n),o)}function Lf(){}function vy(n,i){var o=It();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&Nf(i,u[1])?u[0]:(o.memoizedState=[n,i],n)}function xy(n,i){var o=It();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&Nf(i,u[1]))return u[0];if(u=n(),ua){Sn(!0);try{n()}finally{Sn(!1)}}return o.memoizedState=[u,i],u}function Of(n,i,o){return o===void 0||(Hs&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=_v(),Oe.lanes|=n,Xs|=n,o)}function by(n,i,o,u){return An(o,i)?o:no.current!==null?(n=Of(n,o,u),An(n,i)||(qt=!0),n):(Hs&42)===0?(qt=!0,n.memoizedState=o):(n=_v(),Oe.lanes|=n,Xs|=n,i)}function wy(n,i,o,u,m){var y=te.p;te.p=y!==0&&8>y?y:8;var _=Q.T,j={};Q.T=j,Uf(n,!1,i,o);try{var B=m(),X=Q.S;if(X!==null&&X(j,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var re=rE(B,u);Il(n,i,re,Dn(n))}else Il(n,i,u,Dn(n))}catch(oe){Il(n,i,{then:function(){},status:"rejected",reason:oe},Dn())}finally{te.p=y,Q.T=_}}function lE(){}function Pf(n,i,o,u){if(n.tag!==5)throw Error(s(476));var m=_y(n).queue;wy(n,m,i,de,o===null?lE:function(){return Ey(n),o(u)})}function _y(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:de},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Ey(n){var i=_y(n).next.queue;Il(n,i,{},Dn())}function Vf(){return rn(Kl)}function Ny(){return It().memoizedState}function Ty(){return It().memoizedState}function cE(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=Dn();n=Fs(o);var u=qs(i,n,o);u!==null&&(Mn(u,i,o),Sl(u,i,o)),i={cache:mf()},n.payload=i;return}i=i.return}}function uE(n,i,o){var u=Dn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Mu(n)?jy(i,o):(o=rf(n,i,o,u),o!==null&&(Mn(o,n,u),Ay(o,i,u)))}function Sy(n,i,o){var u=Dn();Il(n,i,o,u)}function Il(n,i,o,u){var m={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Mu(n))jy(i,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var _=i.lastRenderedState,j=y(_,o);if(m.hasEagerState=!0,m.eagerState=j,An(j,_))return yu(n,i,m,0),lt===null&&gu(),!1}catch{}finally{}if(o=rf(n,i,m,u),o!==null)return Mn(o,n,u),Ay(o,i,u),!0}return!1}function Uf(n,i,o,u){if(u={lane:2,revertLane:ym(),action:u,hasEagerState:!1,eagerState:null,next:null},Mu(n)){if(i)throw Error(s(479))}else i=rf(n,o,u,2),i!==null&&Mn(i,n,2)}function Mu(n){var i=n.alternate;return n===Oe||i!==null&&i===Oe}function jy(n,i){ro=Au=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function Ay(n,i,o){if((o&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,el(n,o)}}var Lu={readContext:rn,use:Ru,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},Cy={readContext:rn,use:Ru,useCallback:function(n,i){return yn().memoizedState=[n,i===void 0?null:i],n},useContext:rn,useEffect:hy,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Du(4194308,4,gy.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Du(4194308,4,n,i)},useInsertionEffect:function(n,i){Du(4,2,n,i)},useMemo:function(n,i){var o=yn();i=i===void 0?null:i;var u=n();if(ua){Sn(!0);try{n()}finally{Sn(!1)}}return o.memoizedState=[u,i],u},useReducer:function(n,i,o){var u=yn();if(o!==void 0){var m=o(i);if(ua){Sn(!0);try{o(i)}finally{Sn(!1)}}}else m=i;return u.memoizedState=u.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},u.queue=n,n=n.dispatch=uE.bind(null,Oe,n),[u.memoizedState,n]},useRef:function(n){var i=yn();return n={current:n},i.memoizedState=n},useState:function(n){n=Df(n);var i=n.queue,o=Sy.bind(null,Oe,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:Lf,useDeferredValue:function(n,i){var o=yn();return Of(o,n,i)},useTransition:function(){var n=Df(!1);return n=wy.bind(null,Oe,n.queue,!0,!1),yn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var u=Oe,m=yn();if(Ye){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),lt===null)throw Error(s(349));(Ge&124)!==0||K0(u,i,o)}m.memoizedState=o;var y={value:o,getSnapshot:i};return m.queue=y,hy(Z0.bind(null,u,y,n),[n]),u.flags|=2048,io(9,Iu(),X0.bind(null,u,y,o,i),null),o},useId:function(){var n=yn(),i=lt.identifierPrefix;if(Ye){var o=as,u=is;o=(u&~(1<<32-nn(u)-1)).toString(32)+o,i="«"+i+"R"+o,o=Cu++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=sE++,i="«"+i+"r"+o.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Vf,useFormState:oy,useActionState:oy,useOptimistic:function(n){var i=yn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Uf.bind(null,Oe,!0,o),o.dispatch=i,[n,i]},useMemoCache:Rf,useCacheRefresh:function(){return yn().memoizedState=cE.bind(null,Oe)}},Ry={readContext:rn,use:Ru,useCallback:vy,useContext:rn,useEffect:fy,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:py,useMemo:xy,useReducer:ku,useRef:dy,useState:function(){return ku(cs)},useDebugValue:Lf,useDeferredValue:function(n,i){var o=It();return by(o,rt.memoizedState,n,i)},useTransition:function(){var n=ku(cs)[0],i=It().memoizedState;return[typeof n=="boolean"?n:Rl(n),i]},useSyncExternalStore:Y0,useId:Ny,useHostTransitionStatus:Vf,useFormState:ly,useActionState:ly,useOptimistic:function(n,i){var o=It();return ty(o,rt,n,i)},useMemoCache:Rf,useCacheRefresh:Ty},dE={readContext:rn,use:Ru,useCallback:vy,useContext:rn,useEffect:fy,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:py,useMemo:xy,useReducer:If,useRef:dy,useState:function(){return If(cs)},useDebugValue:Lf,useDeferredValue:function(n,i){var o=It();return rt===null?Of(o,n,i):by(o,rt.memoizedState,n,i)},useTransition:function(){var n=If(cs)[0],i=It().memoizedState;return[typeof n=="boolean"?n:Rl(n),i]},useSyncExternalStore:Y0,useId:Ny,useHostTransitionStatus:Vf,useFormState:uy,useActionState:uy,useOptimistic:function(n,i){var o=It();return rt!==null?ty(o,rt,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Ty},ao=null,Dl=0;function Ou(n){var i=Dl;return Dl+=1,ao===null&&(ao=[]),B0(ao,n,i)}function Ml(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Pu(n,i){throw i.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function ky(n){var i=n._init;return i(n._payload)}function Iy(n){function i(W,G){if(n){var K=W.deletions;K===null?(W.deletions=[G],W.flags|=16):K.push(G)}}function o(W,G){if(!n)return null;for(;G!==null;)i(W,G),G=G.sibling;return null}function u(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function m(W,G){return W=ss(W,G),W.index=0,W.sibling=null,W}function y(W,G,K){return W.index=K,n?(K=W.alternate,K!==null?(K=K.index,K<G?(W.flags|=67108866,G):K):(W.flags|=67108866,G)):(W.flags|=1048576,G)}function _(W){return n&&W.alternate===null&&(W.flags|=67108866),W}function j(W,G,K,se){return G===null||G.tag!==6?(G=af(K,W.mode,se),G.return=W,G):(G=m(G,K),G.return=W,G)}function B(W,G,K,se){var ye=K.type;return ye===M?re(W,G,K.props.children,se,K.key):G!==null&&(G.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&ky(ye)===G.type)?(G=m(G,K.props),Ml(G,K),G.return=W,G):(G=xu(K.type,K.key,K.props,null,W.mode,se),Ml(G,K),G.return=W,G)}function X(W,G,K,se){return G===null||G.tag!==4||G.stateNode.containerInfo!==K.containerInfo||G.stateNode.implementation!==K.implementation?(G=of(K,W.mode,se),G.return=W,G):(G=m(G,K.children||[]),G.return=W,G)}function re(W,G,K,se,ye){return G===null||G.tag!==7?(G=na(K,W.mode,se,ye),G.return=W,G):(G=m(G,K),G.return=W,G)}function oe(W,G,K){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=af(""+G,W.mode,K),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return K=xu(G.type,G.key,G.props,null,W.mode,K),Ml(K,G),K.return=W,K;case T:return G=of(G,W.mode,K),G.return=W,G;case N:var se=G._init;return G=se(G._payload),oe(W,G,K)}if(ce(G)||z(G))return G=na(G,W.mode,K,null),G.return=W,G;if(typeof G.then=="function")return oe(W,Ou(G),K);if(G.$$typeof===S)return oe(W,Eu(W,G),K);Pu(W,G)}return null}function J(W,G,K,se){var ye=G!==null?G.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ye!==null?null:j(W,G,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return K.key===ye?B(W,G,K,se):null;case T:return K.key===ye?X(W,G,K,se):null;case N:return ye=K._init,K=ye(K._payload),J(W,G,K,se)}if(ce(K)||z(K))return ye!==null?null:re(W,G,K,se,null);if(typeof K.then=="function")return J(W,G,Ou(K),se);if(K.$$typeof===S)return J(W,G,Eu(W,K),se);Pu(W,K)}return null}function ee(W,G,K,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return W=W.get(K)||null,j(G,W,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return W=W.get(se.key===null?K:se.key)||null,B(G,W,se,ye);case T:return W=W.get(se.key===null?K:se.key)||null,X(G,W,se,ye);case N:var Ve=se._init;return se=Ve(se._payload),ee(W,G,K,se,ye)}if(ce(se)||z(se))return W=W.get(K)||null,re(G,W,se,ye,null);if(typeof se.then=="function")return ee(W,G,K,Ou(se),ye);if(se.$$typeof===S)return ee(W,G,K,Eu(G,se),ye);Pu(G,se)}return null}function Ae(W,G,K,se){for(var ye=null,Ve=null,be=G,Te=G=0,Gt=null;be!==null&&Te<K.length;Te++){be.index>Te?(Gt=be,be=null):Gt=be.sibling;var $e=J(W,be,K[Te],se);if($e===null){be===null&&(be=Gt);break}n&&be&&$e.alternate===null&&i(W,be),G=y($e,G,Te),Ve===null?ye=$e:Ve.sibling=$e,Ve=$e,be=Gt}if(Te===K.length)return o(W,be),Ye&&sa(W,Te),ye;if(be===null){for(;Te<K.length;Te++)be=oe(W,K[Te],se),be!==null&&(G=y(be,G,Te),Ve===null?ye=be:Ve.sibling=be,Ve=be);return Ye&&sa(W,Te),ye}for(be=u(be);Te<K.length;Te++)Gt=ee(be,W,Te,K[Te],se),Gt!==null&&(n&&Gt.alternate!==null&&be.delete(Gt.key===null?Te:Gt.key),G=y(Gt,G,Te),Ve===null?ye=Gt:Ve.sibling=Gt,Ve=Gt);return n&&be.forEach(function(ai){return i(W,ai)}),Ye&&sa(W,Te),ye}function Ne(W,G,K,se){if(K==null)throw Error(s(151));for(var ye=null,Ve=null,be=G,Te=G=0,Gt=null,$e=K.next();be!==null&&!$e.done;Te++,$e=K.next()){be.index>Te?(Gt=be,be=null):Gt=be.sibling;var ai=J(W,be,$e.value,se);if(ai===null){be===null&&(be=Gt);break}n&&be&&ai.alternate===null&&i(W,be),G=y(ai,G,Te),Ve===null?ye=ai:Ve.sibling=ai,Ve=ai,be=Gt}if($e.done)return o(W,be),Ye&&sa(W,Te),ye;if(be===null){for(;!$e.done;Te++,$e=K.next())$e=oe(W,$e.value,se),$e!==null&&(G=y($e,G,Te),Ve===null?ye=$e:Ve.sibling=$e,Ve=$e);return Ye&&sa(W,Te),ye}for(be=u(be);!$e.done;Te++,$e=K.next())$e=ee(be,W,Te,$e.value,se),$e!==null&&(n&&$e.alternate!==null&&be.delete($e.key===null?Te:$e.key),G=y($e,G,Te),Ve===null?ye=$e:Ve.sibling=$e,Ve=$e);return n&&be.forEach(function(hN){return i(W,hN)}),Ye&&sa(W,Te),ye}function it(W,G,K,se){if(typeof K=="object"&&K!==null&&K.type===M&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case E:e:{for(var ye=K.key;G!==null;){if(G.key===ye){if(ye=K.type,ye===M){if(G.tag===7){o(W,G.sibling),se=m(G,K.props.children),se.return=W,W=se;break e}}else if(G.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&ky(ye)===G.type){o(W,G.sibling),se=m(G,K.props),Ml(se,K),se.return=W,W=se;break e}o(W,G);break}else i(W,G);G=G.sibling}K.type===M?(se=na(K.props.children,W.mode,se,K.key),se.return=W,W=se):(se=xu(K.type,K.key,K.props,null,W.mode,se),Ml(se,K),se.return=W,W=se)}return _(W);case T:e:{for(ye=K.key;G!==null;){if(G.key===ye)if(G.tag===4&&G.stateNode.containerInfo===K.containerInfo&&G.stateNode.implementation===K.implementation){o(W,G.sibling),se=m(G,K.children||[]),se.return=W,W=se;break e}else{o(W,G);break}else i(W,G);G=G.sibling}se=of(K,W.mode,se),se.return=W,W=se}return _(W);case N:return ye=K._init,K=ye(K._payload),it(W,G,K,se)}if(ce(K))return Ae(W,G,K,se);if(z(K)){if(ye=z(K),typeof ye!="function")throw Error(s(150));return K=ye.call(K),Ne(W,G,K,se)}if(typeof K.then=="function")return it(W,G,Ou(K),se);if(K.$$typeof===S)return it(W,G,Eu(W,K),se);Pu(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,G!==null&&G.tag===6?(o(W,G.sibling),se=m(G,K),se.return=W,W=se):(o(W,G),se=af(K,W.mode,se),se.return=W,W=se),_(W)):o(W,G)}return function(W,G,K,se){try{Dl=0;var ye=it(W,G,K,se);return ao=null,ye}catch(be){if(be===Nl||be===Tu)throw be;var Ve=Cn(29,be,null,W.mode);return Ve.lanes=se,Ve.return=W,Ve}finally{}}}var oo=Iy(!0),Dy=Iy(!1),$n=ae(null),jr=null;function Gs(n){var i=n.alternate;ue(Ut,Ut.current&1),ue($n,n),jr===null&&(i===null||no.current!==null||i.memoizedState!==null)&&(jr=n)}function My(n){if(n.tag===22){if(ue(Ut,Ut.current),ue($n,n),jr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(jr=n)}}else Ws()}function Ws(){ue(Ut,Ut.current),ue($n,$n.current)}function us(n){fe($n),jr===n&&(jr=null),fe(Ut)}var Ut=ae(0);function Vu(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Cm(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function zf(n,i,o,u){i=n.memoizedState,o=o(u,i),o=o==null?i:v({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Bf={enqueueSetState:function(n,i,o){n=n._reactInternals;var u=Dn(),m=Fs(u);m.payload=i,o!=null&&(m.callback=o),i=qs(n,m,u),i!==null&&(Mn(i,n,u),Sl(i,n,u))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var u=Dn(),m=Fs(u);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=qs(n,m,u),i!==null&&(Mn(i,n,u),Sl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Dn(),u=Fs(o);u.tag=2,i!=null&&(u.callback=i),i=qs(n,u,o),i!==null&&(Mn(i,n,o),Sl(i,n,o))}};function Ly(n,i,o,u,m,y,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,_):i.prototype&&i.prototype.isPureReactComponent?!gl(o,u)||!gl(m,y):!0}function Oy(n,i,o,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==n&&Bf.enqueueReplaceState(i,i.state,null)}function da(n,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(n=n.defaultProps){o===i&&(o=v({},o));for(var m in n)o[m]===void 0&&(o[m]=n[m])}return o}var Uu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Py(n){Uu(n)}function Vy(n){console.error(n)}function Uy(n){Uu(n)}function zu(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function zy(n,i,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ff(n,i,o){return o=Fs(o),o.tag=3,o.payload={element:null},o.callback=function(){zu(n,i)},o}function By(n){return n=Fs(n),n.tag=3,n}function Fy(n,i,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;n.payload=function(){return m(y)},n.callback=function(){zy(i,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){zy(i,o,u),typeof m!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var j=u.stack;this.componentDidCatch(u.value,{componentStack:j!==null?j:""})})}function hE(n,i,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&wl(i,o,m,!0),o=$n.current,o!==null){switch(o.tag){case 13:return jr===null?hm():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===yf?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),mm(n,u,m)),!1;case 22:return o.flags|=65536,u===yf?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),mm(n,u,m)),!1}throw Error(s(435,o.tag))}return mm(n,u,m),hm(),!1}if(Ye)return i=$n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,u!==uf&&(n=Error(s(422),{cause:u}),bl(qn(n,o)))):(u!==uf&&(i=Error(s(423),{cause:u}),bl(qn(i,o))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,u=qn(u,o),m=Ff(n.stateNode,u,m),bf(n,m),_t!==4&&(_t=2)),!1;var y=Error(s(520),{cause:u});if(y=qn(y,o),Bl===null?Bl=[y]:Bl.push(y),_t!==4&&(_t=2),i===null)return!0;u=qn(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=m&-m,o.lanes|=n,n=Ff(o.stateNode,u,n),bf(o,n),!1;case 1:if(i=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zs===null||!Zs.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=By(m),Fy(m,n,o,u),bf(o,m),!1}o=o.return}while(o!==null);return!1}var qy=Error(s(461)),qt=!1;function Kt(n,i,o,u){i.child=n===null?Dy(i,null,o,u):oo(i,n.child,o,u)}function Hy(n,i,o,u,m){o=o.render;var y=i.ref;if("ref"in u){var _={};for(var j in u)j!=="ref"&&(_[j]=u[j])}else _=u;return la(i),u=Tf(n,i,o,_,y,m),j=Sf(),n!==null&&!qt?(jf(n,i,m),ds(n,i,m)):(Ye&&j&&lf(i),i.flags|=1,Kt(n,i,u,m),i.child)}function Gy(n,i,o,u,m){if(n===null){var y=o.type;return typeof y=="function"&&!sf(y)&&y.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=y,Wy(n,i,y,u,m)):(n=xu(o.type,null,u,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!Kf(n,m)){var _=y.memoizedProps;if(o=o.compare,o=o!==null?o:gl,o(_,u)&&n.ref===i.ref)return ds(n,i,m)}return i.flags|=1,n=ss(y,u),n.ref=i.ref,n.return=i,i.child=n}function Wy(n,i,o,u,m){if(n!==null){var y=n.memoizedProps;if(gl(y,u)&&n.ref===i.ref)if(qt=!1,i.pendingProps=u=y,Kf(n,m))(n.flags&131072)!==0&&(qt=!0);else return i.lanes=n.lanes,ds(n,i,m)}return qf(n,i,o,u,m)}function $y(n,i,o){var u=i.pendingProps,m=u.children,y=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=y!==null?y.baseLanes|o:o,n!==null){for(m=i.child=n.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;i.childLanes=y&~u}else i.childLanes=0,i.child=null;return Qy(n,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Nu(i,y!==null?y.cachePool:null),y!==null?W0(i,y):_f(),My(i);else return i.lanes=i.childLanes=536870912,Qy(n,i,y!==null?y.baseLanes|o:o,o)}else y!==null?(Nu(i,y.cachePool),W0(i,y),Ws(),i.memoizedState=null):(n!==null&&Nu(i,null),_f(),Ws());return Kt(n,i,m,o),i.child}function Qy(n,i,o,u){var m=gf();return m=m===null?null:{parent:Vt._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},n!==null&&Nu(i,null),_f(),My(i),n!==null&&wl(n,i,u,!0),null}function Bu(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function qf(n,i,o,u,m){return la(i),o=Tf(n,i,o,u,void 0,m),u=Sf(),n!==null&&!qt?(jf(n,i,m),ds(n,i,m)):(Ye&&u&&lf(i),i.flags|=1,Kt(n,i,o,m),i.child)}function Yy(n,i,o,u,m,y){return la(i),i.updateQueue=null,o=Q0(i,u,o,m),$0(n),u=Sf(),n!==null&&!qt?(jf(n,i,y),ds(n,i,y)):(Ye&&u&&lf(i),i.flags|=1,Kt(n,i,o,y),i.child)}function Ky(n,i,o,u,m){if(la(i),i.stateNode===null){var y=Xa,_=o.contextType;typeof _=="object"&&_!==null&&(y=rn(_)),y=new o(u,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Bf,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=u,y.state=i.memoizedState,y.refs={},vf(i),_=o.contextType,y.context=typeof _=="object"&&_!==null?rn(_):Xa,y.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(zf(i,o,_,u),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&Bf.enqueueReplaceState(y,y.state,null),Al(i,u,y,m),jl(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){y=i.stateNode;var j=i.memoizedProps,B=da(o,j);y.props=B;var X=y.context,re=o.contextType;_=Xa,typeof re=="object"&&re!==null&&(_=rn(re));var oe=o.getDerivedStateFromProps;re=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",j=i.pendingProps!==j,re||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(j||X!==_)&&Oy(i,y,u,_),Bs=!1;var J=i.memoizedState;y.state=J,Al(i,u,y,m),jl(),X=i.memoizedState,j||J!==X||Bs?(typeof oe=="function"&&(zf(i,o,oe,u),X=i.memoizedState),(B=Bs||Ly(i,o,B,u,J,X,_))?(re||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=X),y.props=u,y.state=X,y.context=_,u=B):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{y=i.stateNode,xf(n,i),_=i.memoizedProps,re=da(o,_),y.props=re,oe=i.pendingProps,J=y.context,X=o.contextType,B=Xa,typeof X=="object"&&X!==null&&(B=rn(X)),j=o.getDerivedStateFromProps,(X=typeof j=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==oe||J!==B)&&Oy(i,y,u,B),Bs=!1,J=i.memoizedState,y.state=J,Al(i,u,y,m),jl();var ee=i.memoizedState;_!==oe||J!==ee||Bs||n!==null&&n.dependencies!==null&&_u(n.dependencies)?(typeof j=="function"&&(zf(i,o,j,u),ee=i.memoizedState),(re=Bs||Ly(i,o,re,u,J,ee,B)||n!==null&&n.dependencies!==null&&_u(n.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ee,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ee,B)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=ee),y.props=u,y.state=ee,y.context=B,u=re):(typeof y.componentDidUpdate!="function"||_===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),u=!1)}return y=u,Bu(n,i),u=(i.flags&128)!==0,y||u?(y=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&u?(i.child=oo(i,n.child,null,m),i.child=oo(i,null,o,m)):Kt(n,i,o,m),i.memoizedState=y.state,n=i.child):n=ds(n,i,m),n}function Xy(n,i,o,u){return xl(),i.flags|=256,Kt(n,i,o,u),i.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(n){return{baseLanes:n,cachePool:V0()}}function Wf(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Qn),n}function Zy(n,i,o){var u=i.pendingProps,m=!1,y=(i.flags&128)!==0,_;if((_=y)||(_=n!==null&&n.memoizedState===null?!1:(Ut.current&2)!==0),_&&(m=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ye){if(m?Gs(i):Ws(),Ye){var j=wt,B;if(B=j){e:{for(B=j,j=Sr;B.nodeType!==8;){if(!j){j=null;break e}if(B=or(B.nextSibling),B===null){j=null;break e}}j=B}j!==null?(i.memoizedState={dehydrated:j,treeContext:ra!==null?{id:is,overflow:as}:null,retryLane:536870912,hydrationErrors:null},B=Cn(18,null,null,0),B.stateNode=j,B.return=i,i.child=B,pn=i,wt=null,B=!0):B=!1}B||aa(i)}if(j=i.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Cm(j)?i.lanes=32:i.lanes=536870912,null;us(i)}return j=u.children,u=u.fallback,m?(Ws(),m=i.mode,j=Fu({mode:"hidden",children:j},m),u=na(u,m,o,null),j.return=i,u.return=i,j.sibling=u,i.child=j,m=i.child,m.memoizedState=Gf(o),m.childLanes=Wf(n,_,o),i.memoizedState=Hf,u):(Gs(i),$f(i,j))}if(B=n.memoizedState,B!==null&&(j=B.dehydrated,j!==null)){if(y)i.flags&256?(Gs(i),i.flags&=-257,i=Qf(n,i,o)):i.memoizedState!==null?(Ws(),i.child=n.child,i.flags|=128,i=null):(Ws(),m=u.fallback,j=i.mode,u=Fu({mode:"visible",children:u.children},j),m=na(m,j,o,null),m.flags|=2,u.return=i,m.return=i,u.sibling=m,i.child=u,oo(i,n.child,null,o),u=i.child,u.memoizedState=Gf(o),u.childLanes=Wf(n,_,o),i.memoizedState=Hf,i=m);else if(Gs(i),Cm(j)){if(_=j.nextSibling&&j.nextSibling.dataset,_)var X=_.dgst;_=X,u=Error(s(419)),u.stack="",u.digest=_,bl({value:u,source:null,stack:null}),i=Qf(n,i,o)}else if(qt||wl(n,i,o,!1),_=(o&n.childLanes)!==0,qt||_){if(_=lt,_!==null&&(u=o&-o,u=(u&42)!==0?1:Ds(u),u=(u&(_.suspendedLanes|o))!==0?0:u,u!==0&&u!==B.retryLane))throw B.retryLane=u,Ka(n,u),Mn(_,n,u),qy;j.data==="$?"||hm(),i=Qf(n,i,o)}else j.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=B.treeContext,wt=or(j.nextSibling),pn=i,Ye=!0,ia=null,Sr=!1,n!==null&&(Gn[Wn++]=is,Gn[Wn++]=as,Gn[Wn++]=ra,is=n.id,as=n.overflow,ra=i),i=$f(i,u.children),i.flags|=4096);return i}return m?(Ws(),m=u.fallback,j=i.mode,B=n.child,X=B.sibling,u=ss(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&65011712,X!==null?m=ss(X,m):(m=na(m,j,o,null),m.flags|=2),m.return=i,u.return=i,u.sibling=m,i.child=u,u=m,m=i.child,j=n.child.memoizedState,j===null?j=Gf(o):(B=j.cachePool,B!==null?(X=Vt._currentValue,B=B.parent!==X?{parent:X,pool:X}:B):B=V0(),j={baseLanes:j.baseLanes|o,cachePool:B}),m.memoizedState=j,m.childLanes=Wf(n,_,o),i.memoizedState=Hf,u):(Gs(i),o=n.child,n=o.sibling,o=ss(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=o,i.memoizedState=null,o)}function $f(n,i){return i=Fu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Fu(n,i){return n=Cn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Qf(n,i,o){return oo(i,n.child,null,o),n=$f(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Jy(n,i,o){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),hf(n.return,i,o)}function Yf(n,i,o,u,m){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=m)}function ev(n,i,o){var u=i.pendingProps,m=u.revealOrder,y=u.tail;if(Kt(n,i,u.children,o),u=Ut.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Jy(n,o,i);else if(n.tag===19)Jy(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(ue(Ut,u),m){case"forwards":for(o=i.child,m=null;o!==null;)n=o.alternate,n!==null&&Vu(n)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Yf(i,!1,m,o,y);break;case"backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&Vu(n)===null){i.child=m;break}n=m.sibling,m.sibling=o,o=m,m=n}Yf(i,!0,o,null,y);break;case"together":Yf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ds(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Xs|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(wl(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,o=ss(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=ss(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function Kf(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&_u(n)))}function fE(n,i,o){switch(i.tag){case 3:Ze(i,i.stateNode.containerInfo),zs(i,Vt,n.memoizedState.cache),xl();break;case 27:case 5:mr(i);break;case 4:Ze(i,i.stateNode.containerInfo);break;case 10:zs(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Gs(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Zy(n,i,o):(Gs(i),n=ds(n,i,o),n!==null?n.sibling:null);Gs(i);break;case 19:var m=(n.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(wl(n,i,o,!1),u=(o&i.childLanes)!==0),m){if(u)return ev(n,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ue(Ut,Ut.current),u)break;return null;case 22:case 23:return i.lanes=0,$y(n,i,o);case 24:zs(i,Vt,n.memoizedState.cache)}return ds(n,i,o)}function tv(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)qt=!0;else{if(!Kf(n,o)&&(i.flags&128)===0)return qt=!1,fE(n,i,o);qt=(n.flags&131072)!==0}else qt=!1,Ye&&(i.flags&1048576)!==0&&k0(i,wu,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,m=u._init;if(u=m(u._payload),i.type=u,typeof u=="function")sf(u)?(n=da(u,n),i.tag=1,i=Ky(null,i,u,n,o)):(i.tag=0,i=qf(null,i,u,n,o));else{if(u!=null){if(m=u.$$typeof,m===F){i.tag=11,i=Hy(null,i,u,n,o);break e}else if(m===C){i.tag=14,i=Gy(null,i,u,n,o);break e}}throw i=Z(u)||u,Error(s(306,i,""))}}return i;case 0:return qf(n,i,i.type,i.pendingProps,o);case 1:return u=i.type,m=da(u,i.pendingProps),Ky(n,i,u,m,o);case 3:e:{if(Ze(i,i.stateNode.containerInfo),n===null)throw Error(s(387));u=i.pendingProps;var y=i.memoizedState;m=y.element,xf(n,i),Al(i,u,null,o);var _=i.memoizedState;if(u=_.cache,zs(i,Vt,u),u!==y.cache&&ff(i,[Vt],o,!0),jl(),u=_.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Xy(n,i,u,o);break e}else if(u!==m){m=qn(Error(s(424)),i),bl(m),i=Xy(n,i,u,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(wt=or(n.firstChild),pn=i,Ye=!0,ia=null,Sr=!0,o=Dy(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(xl(),u===m){i=ds(n,i,o);break e}Kt(n,i,u,o)}i=i.child}return i;case 26:return Bu(n,i),n===null?(o=ix(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ye||(o=i.type,n=i.pendingProps,u=nd(je.current).createElement(o),u[Lt]=i,u[Ct]=n,Zt(u,o,n),Et(u),i.stateNode=u):i.memoizedState=ix(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return mr(i),n===null&&Ye&&(u=i.stateNode=nx(i.type,i.pendingProps,je.current),pn=i,Sr=!0,m=wt,ti(i.type)?(Rm=m,wt=or(u.firstChild)):wt=m),Kt(n,i,i.pendingProps.children,o),Bu(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ye&&((m=u=wt)&&(u=BE(u,i.type,i.pendingProps,Sr),u!==null?(i.stateNode=u,pn=i,wt=or(u.firstChild),Sr=!1,m=!0):m=!1),m||aa(i)),mr(i),m=i.type,y=i.pendingProps,_=n!==null?n.memoizedProps:null,u=y.children,Sm(m,y)?u=null:_!==null&&Sm(m,_)&&(i.flags|=32),i.memoizedState!==null&&(m=Tf(n,i,iE,null,null,o),Kl._currentValue=m),Bu(n,i),Kt(n,i,u,o),i.child;case 6:return n===null&&Ye&&((n=o=wt)&&(o=FE(o,i.pendingProps,Sr),o!==null?(i.stateNode=o,pn=i,wt=null,n=!0):n=!1),n||aa(i)),null;case 13:return Zy(n,i,o);case 4:return Ze(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=oo(i,null,u,o):Kt(n,i,u,o),i.child;case 11:return Hy(n,i,i.type,i.pendingProps,o);case 7:return Kt(n,i,i.pendingProps,o),i.child;case 8:return Kt(n,i,i.pendingProps.children,o),i.child;case 12:return Kt(n,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,zs(i,i.type,u.value),Kt(n,i,u.children,o),i.child;case 9:return m=i.type._context,u=i.pendingProps.children,la(i),m=rn(m),u=u(m),i.flags|=1,Kt(n,i,u,o),i.child;case 14:return Gy(n,i,i.type,i.pendingProps,o);case 15:return Wy(n,i,i.type,i.pendingProps,o);case 19:return ev(n,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},n===null?(o=Fu(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=ss(n.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return $y(n,i,o);case 24:return la(i),u=rn(Vt),n===null?(m=gf(),m===null&&(m=lt,y=mf(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),i.memoizedState={parent:u,cache:m},vf(i),zs(i,Vt,m)):((n.lanes&o)!==0&&(xf(n,i),Al(i,null,null,o),jl()),m=n.memoizedState,y=i.memoizedState,m.parent!==u?(m={parent:u,cache:u},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),zs(i,Vt,u)):(u=y.cache,zs(i,Vt,u),u!==m.cache&&ff(i,[Vt],o,!0))),Kt(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function hs(n){n.flags|=4}function nv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!ux(i)){if(i=$n.current,i!==null&&((Ge&4194048)===Ge?jr!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||i!==jr))throw Tl=yf,U0;n.flags|=8192}}function qu(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Zo():536870912,n.lanes|=i,ho|=i)}function Ll(n,i){if(!Ye)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function pt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(i)for(var m=n.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=u,n.childLanes=o,i}function mE(n,i,o){var u=i.pendingProps;switch(cf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(i),null;case 1:return pt(i),null;case 3:return o=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),ls(Vt),Pn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(vl(i)?hs(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,M0())),pt(i),null;case 26:return o=i.memoizedState,n===null?(hs(i),o!==null?(pt(i),nv(i,o)):(pt(i),i.flags&=-16777217)):o?o!==n.memoizedState?(hs(i),pt(i),nv(i,o)):(pt(i),i.flags&=-16777217):(n.memoizedProps!==u&&hs(i),pt(i),i.flags&=-16777217),null;case 27:Tn(i),o=je.current;var m=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&hs(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return pt(i),null}n=we.current,vl(i)?I0(i):(n=nx(m,u,o),i.stateNode=n,hs(i))}return pt(i),null;case 5:if(Tn(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&hs(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return pt(i),null}if(n=we.current,vl(i))I0(i);else{switch(m=nd(je.current),n){case 1:n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=m.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?m.createElement(o,{is:u.is}):m.createElement(o)}}n[Lt]=i,n[Ct]=u;e:for(m=i.child;m!==null;){if(m.tag===5||m.tag===6)n.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===i)break e;for(;m.sibling===null;){if(m.return===null||m.return===i)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}i.stateNode=n;e:switch(Zt(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&hs(i)}}return pt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&hs(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=je.current,vl(i)){if(n=i.stateNode,o=i.memoizedProps,u=null,m=pn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}n[Lt]=i,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Yv(n.nodeValue,o)),n||aa(i)}else n=nd(n).createTextNode(u),n[Lt]=i,i.stateNode=n}return pt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=vl(i),u!==null&&u.dehydrated!==null){if(n===null){if(!m)throw Error(s(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Lt]=i}else xl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),m=!1}else m=M0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(us(i),i):(us(i),null)}if(us(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=i.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),qu(i,i.updateQueue),pt(i),null;case 4:return Pn(),n===null&&wm(i.stateNode.containerInfo),pt(i),null;case 10:return ls(i.type),pt(i),null;case 19:if(fe(Ut),m=i.memoizedState,m===null)return pt(i),null;if(u=(i.flags&128)!==0,y=m.rendering,y===null)if(u)Ll(m,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=Vu(n),y!==null){for(i.flags|=128,Ll(m,!1),n=y.updateQueue,i.updateQueue=n,qu(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)R0(o,n),o=o.sibling;return ue(Ut,Ut.current&1|2),i.child}n=n.sibling}m.tail!==null&&ve()>Wu&&(i.flags|=128,u=!0,Ll(m,!1),i.lanes=4194304)}else{if(!u)if(n=Vu(y),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,qu(i,n),Ll(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ye)return pt(i),null}else 2*ve()-m.renderingStartTime>Wu&&o!==536870912&&(i.flags|=128,u=!0,Ll(m,!1),i.lanes=4194304);m.isBackwards?(y.sibling=i.child,i.child=y):(n=m.last,n!==null?n.sibling=y:i.child=y,m.last=y)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=ve(),i.sibling=null,n=Ut.current,ue(Ut,u?n&1|2:n&1),i):(pt(i),null);case 22:case 23:return us(i),Ef(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(pt(i),i.subtreeFlags&6&&(i.flags|=8192)):pt(i),o=i.updateQueue,o!==null&&qu(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),n!==null&&fe(ca),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ls(Vt),pt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function pE(n,i){switch(cf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ls(Vt),Pn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Tn(i),null;case 13:if(us(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));xl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return fe(Ut),null;case 4:return Pn(),null;case 10:return ls(i.type),null;case 22:case 23:return us(i),Ef(),n!==null&&fe(ca),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ls(Vt),null;case 25:return null;default:return null}}function rv(n,i){switch(cf(i),i.tag){case 3:ls(Vt),Pn();break;case 26:case 27:case 5:Tn(i);break;case 4:Pn();break;case 13:us(i);break;case 19:fe(Ut);break;case 10:ls(i.type);break;case 22:case 23:us(i),Ef(),n!==null&&fe(ca);break;case 24:ls(Vt)}}function Ol(n,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&n)===n){u=void 0;var y=o.create,_=o.inst;u=y(),_.destroy=u}o=o.next}while(o!==m)}}catch(j){ot(i,i.return,j)}}function $s(n,i,o){try{var u=i.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&n)===n){var _=u.inst,j=_.destroy;if(j!==void 0){_.destroy=void 0,m=i;var B=o,X=j;try{X()}catch(re){ot(m,B,re)}}}u=u.next}while(u!==y)}}catch(re){ot(i,i.return,re)}}function sv(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{G0(i,o)}catch(u){ot(n,n.return,u)}}}function iv(n,i,o){o.props=da(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){ot(n,i,u)}}function Pl(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(m){ot(n,i,m)}}function Ar(n,i){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){ot(n,i,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ot(n,i,m)}else o.current=null}function av(n){var i=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){ot(n,n.return,m)}}function Xf(n,i,o){try{var u=n.stateNode;OE(u,n.type,o,i),u[Ct]=i}catch(m){ot(n,n.return,m)}}function ov(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ti(n.type)||n.tag===4}function Zf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ov(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ti(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Jf(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=td));else if(u!==4&&(u===27&&ti(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(Jf(n,i,o),n=n.sibling;n!==null;)Jf(n,i,o),n=n.sibling}function Hu(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(u!==4&&(u===27&&ti(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Hu(n,i,o),n=n.sibling;n!==null;)Hu(n,i,o),n=n.sibling}function lv(n){var i=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);Zt(i,u,o),i[Lt]=n,i[Ct]=o}catch(y){ot(n,n.return,y)}}var fs=!1,Tt=!1,em=!1,cv=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function gE(n,i){if(n=n.containerInfo,Nm=ld,n=b0(n),Xh(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var _=0,j=-1,B=-1,X=0,re=0,oe=n,J=null;t:for(;;){for(var ee;oe!==o||m!==0&&oe.nodeType!==3||(j=_+m),oe!==y||u!==0&&oe.nodeType!==3||(B=_+u),oe.nodeType===3&&(_+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)J=oe,oe=ee;for(;;){if(oe===n)break t;if(J===o&&++X===m&&(j=_),J===y&&++re===u&&(B=_),(ee=oe.nextSibling)!==null)break;oe=J,J=oe.parentNode}oe=ee}o=j===-1||B===-1?null:{start:j,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tm={focusedElem:n,selectionRange:o},ld=!1,Ht=i;Ht!==null;)if(i=Ht,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ht=n;else for(;Ht!==null;){switch(i=Ht,y=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,o=i,m=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Ae=da(o.type,m,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(Ae,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ne){ot(o,o.return,Ne)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)Am(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Am(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Ht=n;break}Ht=i.return}}function uv(n,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Qs(n,o),u&4&&Ol(5,o);break;case 1:if(Qs(n,o),u&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(_){ot(o,o.return,_)}else{var m=da(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(m,i,n.__reactInternalSnapshotBeforeUpdate)}catch(_){ot(o,o.return,_)}}u&64&&sv(o),u&512&&Pl(o,o.return);break;case 3:if(Qs(n,o),u&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{G0(n,i)}catch(_){ot(o,o.return,_)}}break;case 27:i===null&&u&4&&lv(o);case 26:case 5:Qs(n,o),i===null&&u&4&&av(o),u&512&&Pl(o,o.return);break;case 12:Qs(n,o);break;case 13:Qs(n,o),u&4&&fv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=TE.bind(null,o),qE(n,o))));break;case 22:if(u=o.memoizedState!==null||fs,!u){i=i!==null&&i.memoizedState!==null||Tt,m=fs;var y=Tt;fs=u,(Tt=i)&&!y?Ys(n,o,(o.subtreeFlags&8772)!==0):Qs(n,o),fs=m,Tt=y}break;case 30:break;default:Qs(n,o)}}function dv(n){var i=n.alternate;i!==null&&(n.alternate=null,dv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Os(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ft=null,vn=!1;function ms(n,i,o){for(o=o.child;o!==null;)hv(n,i,o),o=o.sibling}function hv(n,i,o){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(bt,o)}catch{}switch(o.tag){case 26:Tt||Ar(o,i),ms(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Tt||Ar(o,i);var u=ft,m=vn;ti(o.type)&&(ft=o.stateNode,vn=!1),ms(n,i,o),Wl(o.stateNode),ft=u,vn=m;break;case 5:Tt||Ar(o,i);case 6:if(u=ft,m=vn,ft=null,ms(n,i,o),ft=u,vn=m,ft!==null)if(vn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(y){ot(o,i,y)}else try{ft.removeChild(o.stateNode)}catch(y){ot(o,i,y)}break;case 18:ft!==null&&(vn?(n=ft,ex(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),ec(n)):ex(ft,o.stateNode));break;case 4:u=ft,m=vn,ft=o.stateNode.containerInfo,vn=!0,ms(n,i,o),ft=u,vn=m;break;case 0:case 11:case 14:case 15:Tt||$s(2,o,i),Tt||$s(4,o,i),ms(n,i,o);break;case 1:Tt||(Ar(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&iv(o,i,u)),ms(n,i,o);break;case 21:ms(n,i,o);break;case 22:Tt=(u=Tt)||o.memoizedState!==null,ms(n,i,o),Tt=u;break;default:ms(n,i,o)}}function fv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ec(n)}catch(o){ot(i,i.return,o)}}function yE(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new cv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new cv),i;default:throw Error(s(435,n.tag))}}function tm(n,i){var o=yE(n);i.forEach(function(u){var m=SE.bind(null,n,u);o.has(u)||(o.add(u),u.then(m,m))})}function Rn(n,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],y=n,_=i,j=_;e:for(;j!==null;){switch(j.tag){case 27:if(ti(j.type)){ft=j.stateNode,vn=!1;break e}break;case 5:ft=j.stateNode,vn=!1;break e;case 3:case 4:ft=j.stateNode.containerInfo,vn=!0;break e}j=j.return}if(ft===null)throw Error(s(160));hv(y,_,m),ft=null,vn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)mv(i,n),i=i.sibling}var ar=null;function mv(n,i){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Rn(i,n),kn(n),u&4&&($s(3,n,n.return),Ol(3,n),$s(5,n,n.return));break;case 1:Rn(i,n),kn(n),u&512&&(Tt||o===null||Ar(o,o.return)),u&64&&fs&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=ar;if(Rn(i,n),kn(n),u&512&&(Tt||o===null||Ar(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[zi]||y[Lt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),Zt(y,u,o),y[Lt]=n,Et(y),u=y;break e;case"link":var _=lx("link","href",m).get(u+(o.href||""));if(_){for(var j=0;j<_.length;j++)if(y=_[j],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(j,1);break t}}y=m.createElement(u),Zt(y,u,o),m.head.appendChild(y);break;case"meta":if(_=lx("meta","content",m).get(u+(o.content||""))){for(j=0;j<_.length;j++)if(y=_[j],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(j,1);break t}}y=m.createElement(u),Zt(y,u,o),m.head.appendChild(y);break;default:throw Error(s(468,u))}y[Lt]=n,Et(y),u=y}n.stateNode=u}else cx(m,n.type,n.stateNode);else n.stateNode=ox(m,u,n.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?cx(m,n.type,n.stateNode):ox(m,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Xf(n,n.memoizedProps,o.memoizedProps)}break;case 27:Rn(i,n),kn(n),u&512&&(Tt||o===null||Ar(o,o.return)),o!==null&&u&4&&Xf(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Rn(i,n),kn(n),u&512&&(Tt||o===null||Ar(o,o.return)),n.flags&32){m=n.stateNode;try{Un(m,"")}catch(ee){ot(n,n.return,ee)}}u&4&&n.stateNode!=null&&(m=n.memoizedProps,Xf(n,m,o!==null?o.memoizedProps:m)),u&1024&&(em=!0);break;case 6:if(Rn(i,n),kn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(ee){ot(n,n.return,ee)}}break;case 3:if(id=null,m=ar,ar=rd(i.containerInfo),Rn(i,n),ar=m,kn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ec(i.containerInfo)}catch(ee){ot(n,n.return,ee)}em&&(em=!1,pv(n));break;case 4:u=ar,ar=rd(n.stateNode.containerInfo),Rn(i,n),kn(n),ar=u;break;case 12:Rn(i,n),kn(n);break;case 13:Rn(i,n),kn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(om=ve()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,tm(n,u)));break;case 22:m=n.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,X=fs,re=Tt;if(fs=X||m,Tt=re||B,Rn(i,n),Tt=re,fs=X,kn(n),u&8192)e:for(i=n.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||B||fs||Tt||ha(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){B=o=i;try{if(y=B.stateNode,m)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{j=B.stateNode;var oe=B.memoizedProps.style,J=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;j.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){ot(B,B.return,ee)}}}else if(i.tag===6){if(o===null){B=i;try{B.stateNode.nodeValue=m?"":B.memoizedProps}catch(ee){ot(B,B.return,ee)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,tm(n,o))));break;case 19:Rn(i,n),kn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,tm(n,u)));break;case 30:break;case 21:break;default:Rn(i,n),kn(n)}}function kn(n){var i=n.flags;if(i&2){try{for(var o,u=n.return;u!==null;){if(ov(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,y=Zf(n);Hu(n,y,m);break;case 5:var _=o.stateNode;o.flags&32&&(Un(_,""),o.flags&=-33);var j=Zf(n);Hu(n,j,_);break;case 3:case 4:var B=o.stateNode.containerInfo,X=Zf(n);Jf(n,X,B);break;default:throw Error(s(161))}}catch(re){ot(n,n.return,re)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function pv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;pv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Qs(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)uv(n,i.alternate,i),i=i.sibling}function ha(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:$s(4,i,i.return),ha(i);break;case 1:Ar(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&iv(i,i.return,o),ha(i);break;case 27:Wl(i.stateNode);case 26:case 5:Ar(i,i.return),ha(i);break;case 22:i.memoizedState===null&&ha(i);break;case 30:ha(i);break;default:ha(i)}n=n.sibling}}function Ys(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,m=n,y=i,_=y.flags;switch(y.tag){case 0:case 11:case 15:Ys(m,y,o),Ol(4,y);break;case 1:if(Ys(m,y,o),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){ot(u,u.return,X)}if(u=y,m=u.updateQueue,m!==null){var j=u.stateNode;try{var B=m.shared.hiddenCallbacks;if(B!==null)for(m.shared.hiddenCallbacks=null,m=0;m<B.length;m++)H0(B[m],j)}catch(X){ot(u,u.return,X)}}o&&_&64&&sv(y),Pl(y,y.return);break;case 27:lv(y);case 26:case 5:Ys(m,y,o),o&&u===null&&_&4&&av(y),Pl(y,y.return);break;case 12:Ys(m,y,o);break;case 13:Ys(m,y,o),o&&_&4&&fv(m,y);break;case 22:y.memoizedState===null&&Ys(m,y,o),Pl(y,y.return);break;case 30:break;default:Ys(m,y,o)}i=i.sibling}}function nm(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&_l(o))}function rm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&_l(n))}function Cr(n,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gv(n,i,o,u),i=i.sibling}function gv(n,i,o,u){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Cr(n,i,o,u),m&2048&&Ol(9,i);break;case 1:Cr(n,i,o,u);break;case 3:Cr(n,i,o,u),m&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&_l(n)));break;case 12:if(m&2048){Cr(n,i,o,u),n=i.stateNode;try{var y=i.memoizedProps,_=y.id,j=y.onPostCommit;typeof j=="function"&&j(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(B){ot(i,i.return,B)}}else Cr(n,i,o,u);break;case 13:Cr(n,i,o,u);break;case 23:break;case 22:y=i.stateNode,_=i.alternate,i.memoizedState!==null?y._visibility&2?Cr(n,i,o,u):Vl(n,i):y._visibility&2?Cr(n,i,o,u):(y._visibility|=2,lo(n,i,o,u,(i.subtreeFlags&10256)!==0)),m&2048&&nm(_,i);break;case 24:Cr(n,i,o,u),m&2048&&rm(i.alternate,i);break;default:Cr(n,i,o,u)}}function lo(n,i,o,u,m){for(m=m&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=n,_=i,j=o,B=u,X=_.flags;switch(_.tag){case 0:case 11:case 15:lo(y,_,j,B,m),Ol(8,_);break;case 23:break;case 22:var re=_.stateNode;_.memoizedState!==null?re._visibility&2?lo(y,_,j,B,m):Vl(y,_):(re._visibility|=2,lo(y,_,j,B,m)),m&&X&2048&&nm(_.alternate,_);break;case 24:lo(y,_,j,B,m),m&&X&2048&&rm(_.alternate,_);break;default:lo(y,_,j,B,m)}i=i.sibling}}function Vl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,u=i,m=u.flags;switch(u.tag){case 22:Vl(o,u),m&2048&&nm(u.alternate,u);break;case 24:Vl(o,u),m&2048&&rm(u.alternate,u);break;default:Vl(o,u)}i=i.sibling}}var Ul=8192;function co(n){if(n.subtreeFlags&Ul)for(n=n.child;n!==null;)yv(n),n=n.sibling}function yv(n){switch(n.tag){case 26:co(n),n.flags&Ul&&n.memoizedState!==null&&nN(ar,n.memoizedState,n.memoizedProps);break;case 5:co(n);break;case 3:case 4:var i=ar;ar=rd(n.stateNode.containerInfo),co(n),ar=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Ul,Ul=16777216,co(n),Ul=i):co(n));break;default:co(n)}}function vv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function zl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Ht=u,bv(u,n)}vv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xv(n),n=n.sibling}function xv(n){switch(n.tag){case 0:case 11:case 15:zl(n),n.flags&2048&&$s(9,n,n.return);break;case 3:zl(n);break;case 12:zl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Gu(n)):zl(n);break;default:zl(n)}}function Gu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Ht=u,bv(u,n)}vv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:$s(8,i,i.return),Gu(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Gu(i));break;default:Gu(i)}n=n.sibling}}function bv(n,i){for(;Ht!==null;){var o=Ht;switch(o.tag){case 0:case 11:case 15:$s(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:_l(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ht=u;else e:for(o=n;Ht!==null;){u=Ht;var m=u.sibling,y=u.return;if(dv(u),u===o){Ht=null;break e}if(m!==null){m.return=y,Ht=m;break e}Ht=y}}}var vE={getCacheForType:function(n){var i=rn(Vt),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},xE=typeof WeakMap=="function"?WeakMap:Map,et=0,lt=null,Ue=null,Ge=0,tt=0,In=null,Ks=!1,uo=!1,sm=!1,ps=0,_t=0,Xs=0,fa=0,im=0,Qn=0,ho=0,Bl=null,xn=null,am=!1,om=0,Wu=1/0,$u=null,Zs=null,Xt=0,Js=null,fo=null,mo=0,lm=0,cm=null,wv=null,Fl=0,um=null;function Dn(){if((et&2)!==0&&Ge!==0)return Ge&-Ge;if(Q.T!==null){var n=eo;return n!==0?n:ym()}return Ms()}function _v(){Qn===0&&(Qn=(Ge&536870912)===0||Ye?Xo():536870912);var n=$n.current;return n!==null&&(n.flags|=32),Qn}function Mn(n,i,o){(n===lt&&(tt===2||tt===9)||n.cancelPendingCommit!==null)&&(po(n,0),ei(n,Ge,Qn,!1)),$r(n,o),((et&2)===0||n!==lt)&&(n===lt&&((et&2)===0&&(fa|=o),_t===4&&ei(n,Ge,Qn,!1)),Rr(n))}function Ev(n,i,o){if((et&6)!==0)throw Error(s(327));var u=!o&&(i&124)===0&&(i&n.expiredLanes)===0||Ui(n,i),m=u?_E(n,i):fm(n,i,!0),y=u;do{if(m===0){uo&&!u&&ei(n,i,0,!1);break}else{if(o=n.current.alternate,y&&!bE(o)){m=fm(n,i,!1),y=!1;continue}if(m===2){if(y=i,n.errorRecoveryDisabledLanes&y)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var j=n;m=Bl;var B=j.current.memoizedState.isDehydrated;if(B&&(po(j,_).flags|=256),_=fm(j,_,!1),_!==2){if(sm&&!B){j.errorRecoveryDisabledLanes|=y,fa|=y,m=4;break e}y=xn,xn=m,y!==null&&(xn===null?xn=y:xn.push.apply(xn,y))}m=_}if(y=!1,m!==2)continue}}if(m===1){po(n,0),ei(n,i,0,!0);break}e:{switch(u=n,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ei(u,i,Qn,!Ks);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(m=om+300-ve(),10<m)){if(ei(u,i,Qn,!Ks),ka(u,0,!0)!==0)break e;u.timeoutHandle=Zv(Nv.bind(null,u,o,xn,$u,am,i,Qn,fa,ho,Ks,y,2,-0,0),m);break e}Nv(u,o,xn,$u,am,i,Qn,fa,ho,Ks,y,0,-0,0)}}break}while(!0);Rr(n)}function Nv(n,i,o,u,m,y,_,j,B,X,re,oe,J,ee){if(n.timeoutHandle=-1,oe=i.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:tN},yv(i),oe=rN(),oe!==null)){n.cancelPendingCommit=oe(kv.bind(null,n,i,y,o,u,m,_,j,B,re,1,J,ee)),ei(n,y,_,!X);return}kv(n,i,y,o,u,m,_,j,B)}function bE(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],y=m.getSnapshot;m=m.value;try{if(!An(y(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ei(n,i,o,u){i&=~im,i&=~fa,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var m=i;0<m;){var y=31-nn(m),_=1<<y;u[y]=-1,m&=~_}o!==0&&pr(n,o,i)}function Qu(){return(et&6)===0?(ql(0),!1):!0}function dm(){if(Ue!==null){if(tt===0)var n=Ue.return;else n=Ue,os=oa=null,Af(n),ao=null,Dl=0,n=Ue;for(;n!==null;)rv(n.alternate,n),n=n.return;Ue=null}}function po(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,VE(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),dm(),lt=n,Ue=o=ss(n.current,null),Ge=i,tt=0,In=null,Ks=!1,uo=Ui(n,i),sm=!1,ho=Qn=im=fa=Xs=_t=0,xn=Bl=null,am=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var m=31-nn(u),y=1<<m;i|=n[m],u&=~y}return ps=i,gu(),o}function Tv(n,i){Oe=null,Q.H=Lu,i===Nl||i===Tu?(i=F0(),tt=3):i===U0?(i=F0(),tt=4):tt=i===qy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,Ue===null&&(_t=1,zu(n,qn(i,n.current)))}function Sv(){var n=Q.H;return Q.H=Lu,n===null?Lu:n}function jv(){var n=Q.A;return Q.A=vE,n}function hm(){_t=4,Ks||(Ge&4194048)!==Ge&&$n.current!==null||(uo=!0),(Xs&134217727)===0&&(fa&134217727)===0||lt===null||ei(lt,Ge,Qn,!1)}function fm(n,i,o){var u=et;et|=2;var m=Sv(),y=jv();(lt!==n||Ge!==i)&&($u=null,po(n,i)),i=!1;var _=_t;e:do try{if(tt!==0&&Ue!==null){var j=Ue,B=In;switch(tt){case 8:dm(),_=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(i=!0);var X=tt;if(tt=0,In=null,go(n,j,B,X),o&&uo){_=0;break e}break;default:X=tt,tt=0,In=null,go(n,j,B,X)}}wE(),_=_t;break}catch(re){Tv(n,re)}while(!0);return i&&n.shellSuspendCounter++,os=oa=null,et=u,Q.H=m,Q.A=y,Ue===null&&(lt=null,Ge=0,gu()),_}function wE(){for(;Ue!==null;)Av(Ue)}function _E(n,i){var o=et;et|=2;var u=Sv(),m=jv();lt!==n||Ge!==i?($u=null,Wu=ve()+500,po(n,i)):uo=Ui(n,i);e:do try{if(tt!==0&&Ue!==null){i=Ue;var y=In;t:switch(tt){case 1:tt=0,In=null,go(n,i,y,1);break;case 2:case 9:if(z0(y)){tt=0,In=null,Cv(i);break}i=function(){tt!==2&&tt!==9||lt!==n||(tt=7),Rr(n)},y.then(i,i);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:z0(y)?(tt=0,In=null,Cv(i)):(tt=0,In=null,go(n,i,y,7));break;case 5:var _=null;switch(Ue.tag){case 26:_=Ue.memoizedState;case 5:case 27:var j=Ue;if(!_||ux(_)){tt=0,In=null;var B=j.sibling;if(B!==null)Ue=B;else{var X=j.return;X!==null?(Ue=X,Yu(X)):Ue=null}break t}}tt=0,In=null,go(n,i,y,5);break;case 6:tt=0,In=null,go(n,i,y,6);break;case 8:dm(),_t=6;break e;default:throw Error(s(462))}}EE();break}catch(re){Tv(n,re)}while(!0);return os=oa=null,Q.H=u,Q.A=m,et=o,Ue!==null?0:(lt=null,Ge=0,gu(),_t)}function EE(){for(;Ue!==null&&!Mi();)Av(Ue)}function Av(n){var i=tv(n.alternate,n,ps);n.memoizedProps=n.pendingProps,i===null?Yu(n):Ue=i}function Cv(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Yy(o,i,i.pendingProps,i.type,void 0,Ge);break;case 11:i=Yy(o,i,i.pendingProps,i.type.render,i.ref,Ge);break;case 5:Af(i);default:rv(o,i),i=Ue=R0(i,ps),i=tv(o,i,ps)}n.memoizedProps=n.pendingProps,i===null?Yu(n):Ue=i}function go(n,i,o,u){os=oa=null,Af(i),ao=null,Dl=0;var m=i.return;try{if(hE(n,m,i,o,Ge)){_t=1,zu(n,qn(o,n.current)),Ue=null;return}}catch(y){if(m!==null)throw Ue=m,y;_t=1,zu(n,qn(o,n.current)),Ue=null;return}i.flags&32768?(Ye||u===1?n=!0:uo||(Ge&536870912)!==0?n=!1:(Ks=n=!0,(u===2||u===9||u===3||u===6)&&(u=$n.current,u!==null&&u.tag===13&&(u.flags|=16384))),Rv(i,n)):Yu(i)}function Yu(n){var i=n;do{if((i.flags&32768)!==0){Rv(i,Ks);return}n=i.return;var o=mE(i.alternate,i,ps);if(o!==null){Ue=o;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=n}while(i!==null);_t===0&&(_t=5)}function Rv(n,i){do{var o=pE(n.alternate,n);if(o!==null){o.flags&=32767,Ue=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Ue=n;return}Ue=n=o}while(n!==null);_t=6,Ue=null}function kv(n,i,o,u,m,y,_,j,B){n.cancelPendingCommit=null;do Ku();while(Xt!==0);if((et&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=nf,Jo(n,o,y,_,j,B),n===lt&&(Ue=lt=null,Ge=0),fo=i,Js=n,mo=o,lm=y,cm=m,wv=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,jE(Li,function(){return Ov(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,m=te.p,te.p=2,_=et,et|=4;try{gE(n,i,o)}finally{et=_,te.p=m,Q.T=u}}Xt=1,Iv(),Dv(),Mv()}}function Iv(){if(Xt===1){Xt=0;var n=Js,i=fo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var u=te.p;te.p=2;var m=et;et|=4;try{mv(i,n);var y=Tm,_=b0(n.containerInfo),j=y.focusedElem,B=y.selectionRange;if(_!==j&&j&&j.ownerDocument&&x0(j.ownerDocument.documentElement,j)){if(B!==null&&Xh(j)){var X=B.start,re=B.end;if(re===void 0&&(re=X),"selectionStart"in j)j.selectionStart=X,j.selectionEnd=Math.min(re,j.value.length);else{var oe=j.ownerDocument||document,J=oe&&oe.defaultView||window;if(J.getSelection){var ee=J.getSelection(),Ae=j.textContent.length,Ne=Math.min(B.start,Ae),it=B.end===void 0?Ne:Math.min(B.end,Ae);!ee.extend&&Ne>it&&(_=it,it=Ne,Ne=_);var W=v0(j,Ne),G=v0(j,it);if(W&&G&&(ee.rangeCount!==1||ee.anchorNode!==W.node||ee.anchorOffset!==W.offset||ee.focusNode!==G.node||ee.focusOffset!==G.offset)){var K=oe.createRange();K.setStart(W.node,W.offset),ee.removeAllRanges(),Ne>it?(ee.addRange(K),ee.extend(G.node,G.offset)):(K.setEnd(G.node,G.offset),ee.addRange(K))}}}}for(oe=[],ee=j;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<oe.length;j++){var se=oe[j];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}ld=!!Nm,Tm=Nm=null}finally{et=m,te.p=u,Q.T=o}}n.current=i,Xt=2}}function Dv(){if(Xt===2){Xt=0;var n=Js,i=fo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var u=te.p;te.p=2;var m=et;et|=4;try{uv(n,i.alternate,i)}finally{et=m,te.p=u,Q.T=o}}Xt=3}}function Mv(){if(Xt===4||Xt===3){Xt=0,pe();var n=Js,i=fo,o=mo,u=wv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Xt=5:(Xt=0,fo=Js=null,Lv(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(Zs=null),Ia(o),i=i.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(bt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=Q.T,m=te.p,te.p=2,Q.T=null;try{for(var y=n.onRecoverableError,_=0;_<u.length;_++){var j=u[_];y(j.value,{componentStack:j.stack})}}finally{Q.T=i,te.p=m}}(mo&3)!==0&&Ku(),Rr(n),m=n.pendingLanes,(o&4194090)!==0&&(m&42)!==0?n===um?Fl++:(Fl=0,um=n):Fl=0,ql(0)}}function Lv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,_l(i)))}function Ku(n){return Iv(),Dv(),Mv(),Ov()}function Ov(){if(Xt!==5)return!1;var n=Js,i=lm;lm=0;var o=Ia(mo),u=Q.T,m=te.p;try{te.p=32>o?32:o,Q.T=null,o=cm,cm=null;var y=Js,_=mo;if(Xt=0,fo=Js=null,mo=0,(et&6)!==0)throw Error(s(331));var j=et;if(et|=4,xv(y.current),gv(y,y.current,_,o),et=j,ql(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(bt,y)}catch{}return!0}finally{te.p=m,Q.T=u,Lv(n,i)}}function Pv(n,i,o){i=qn(o,i),i=Ff(n.stateNode,i,2),n=qs(n,i,2),n!==null&&($r(n,2),Rr(n))}function ot(n,i,o){if(n.tag===3)Pv(n,n,o);else for(;i!==null;){if(i.tag===3){Pv(i,n,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zs===null||!Zs.has(u))){n=qn(o,n),o=By(2),u=qs(i,o,2),u!==null&&(Fy(o,u,i,n),$r(u,2),Rr(u));break}}i=i.return}}function mm(n,i,o){var u=n.pingCache;if(u===null){u=n.pingCache=new xE;var m=new Set;u.set(i,m)}else m=u.get(i),m===void 0&&(m=new Set,u.set(i,m));m.has(o)||(sm=!0,m.add(o),n=NE.bind(null,n,i,o),i.then(n,n))}function NE(n,i,o){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,lt===n&&(Ge&o)===o&&(_t===4||_t===3&&(Ge&62914560)===Ge&&300>ve()-om?(et&2)===0&&po(n,0):im|=o,ho===Ge&&(ho=0)),Rr(n)}function Vv(n,i){i===0&&(i=Zo()),n=Ka(n,i),n!==null&&($r(n,i),Rr(n))}function TE(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Vv(n,o)}function SE(n,i){var o=0;switch(n.tag){case 13:var u=n.stateNode,m=n.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),Vv(n,o)}function jE(n,i){return er(n,i)}var Xu=null,yo=null,pm=!1,Zu=!1,gm=!1,ma=0;function Rr(n){n!==yo&&n.next===null&&(yo===null?Xu=yo=n:yo=yo.next=n),Zu=!0,pm||(pm=!0,CE())}function ql(n,i){if(!gm&&Zu){gm=!0;do for(var o=!1,u=Xu;u!==null;){if(n!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var _=u.suspendedLanes,j=u.pingedLanes;y=(1<<31-nn(42|n)+1)-1,y&=m&~(_&~j),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Fv(u,y))}else y=Ge,y=ka(u,u===lt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Ui(u,y)||(o=!0,Fv(u,y));u=u.next}while(o);gm=!1}}function AE(){Uv()}function Uv(){Zu=pm=!1;var n=0;ma!==0&&(PE()&&(n=ma),ma=0);for(var i=ve(),o=null,u=Xu;u!==null;){var m=u.next,y=zv(u,i);y===0?(u.next=null,o===null?Xu=m:o.next=m,m===null&&(yo=o)):(o=u,(n!==0||(y&3)!==0)&&(Zu=!0)),u=m}ql(n)}function zv(n,i){for(var o=n.suspendedLanes,u=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var _=31-nn(y),j=1<<_,B=m[_];B===-1?((j&o)===0||(j&u)!==0)&&(m[_]=Ko(j,i)):B<=i&&(n.expiredLanes|=j),y&=~j}if(i=lt,o=Ge,o=ka(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===i&&(tt===2||tt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&tr(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ui(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(u!==null&&tr(u),Ia(o)){case 2:case 8:o=Ca;break;case 32:o=Li;break;case 268435456:o=Ra;break;default:o=Li}return u=Bv.bind(null,n),o=er(o,u),n.callbackPriority=i,n.callbackNode=o,i}return u!==null&&u!==null&&tr(u),n.callbackPriority=2,n.callbackNode=null,2}function Bv(n,i){if(Xt!==0&&Xt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Ku()&&n.callbackNode!==o)return null;var u=Ge;return u=ka(n,n===lt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Ev(n,u,i),zv(n,ve()),n.callbackNode!=null&&n.callbackNode===o?Bv.bind(null,n):null)}function Fv(n,i){if(Ku())return null;Ev(n,i,!0)}function CE(){UE(function(){(et&6)!==0?er(Gr,AE):Uv()})}function ym(){return ma===0&&(ma=Xo()),ma}function qv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Va(""+n)}function Hv(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function RE(n,i,o,u,m){if(i==="submit"&&o&&o.stateNode===m){var y=qv((m[Ct]||null).action),_=u.submitter;_&&(i=(i=_[Ct]||null)?qv(i.formAction):_.getAttribute("formAction"),i!==null&&(y=i,_=null));var j=new Ua("action","action",null,u,m);n.push({event:j,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ma!==0){var B=_?Hv(m,_):new FormData(m);Pf(o,{pending:!0,data:B,method:m.method,action:y},null,B)}}else typeof y=="function"&&(j.preventDefault(),B=_?Hv(m,_):new FormData(m),Pf(o,{pending:!0,data:B,method:m.method,action:y},y,B))},currentTarget:m}]})}}for(var vm=0;vm<tf.length;vm++){var xm=tf[vm],kE=xm.toLowerCase(),IE=xm[0].toUpperCase()+xm.slice(1);ir(kE,"on"+IE)}ir(E0,"onAnimationEnd"),ir(N0,"onAnimationIteration"),ir(T0,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(Y_,"onTransitionRun"),ir(K_,"onTransitionStart"),ir(X_,"onTransitionCancel"),ir(S0,"onTransitionEnd"),Yr("onMouseEnter",["mouseout","mouseover"]),Yr("onMouseLeave",["mouseout","mouseover"]),Yr("onPointerEnter",["pointerout","pointerover"]),Yr("onPointerLeave",["pointerout","pointerover"]),rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function Gv(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],m=u.event;u=u.listeners;e:{var y=void 0;if(i)for(var _=u.length-1;0<=_;_--){var j=u[_],B=j.instance,X=j.currentTarget;if(j=j.listener,B!==y&&m.isPropagationStopped())break e;y=j,m.currentTarget=X;try{y(m)}catch(re){Uu(re)}m.currentTarget=null,y=B}else for(_=0;_<u.length;_++){if(j=u[_],B=j.instance,X=j.currentTarget,j=j.listener,B!==y&&m.isPropagationStopped())break e;y=j,m.currentTarget=X;try{y(m)}catch(re){Uu(re)}m.currentTarget=null,y=B}}}}function ze(n,i){var o=i[tl];o===void 0&&(o=i[tl]=new Set);var u=n+"__bubble";o.has(u)||(Wv(i,n,2,!1),o.add(u))}function bm(n,i,o){var u=0;i&&(u|=4),Wv(o,n,u,i)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function wm(n){if(!n[Ju]){n[Ju]=!0,nl.forEach(function(o){o!=="selectionchange"&&(DE.has(o)||bm(o,!1,n),bm(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ju]||(i[Ju]=!0,bm("selectionchange",!1,i))}}function Wv(n,i,o,u){switch(gx(i)){case 2:var m=aN;break;case 8:m=oN;break;default:m=Lm}o=m.bind(null,i,o,n),m=void 0,!Bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),u?m!==void 0?n.addEventListener(i,o,{capture:!0,passive:m}):n.addEventListener(i,o,!0):m!==void 0?n.addEventListener(i,o,{passive:m}):n.addEventListener(i,o,!1)}function _m(n,i,o,u,m){var y=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var j=u.stateNode.containerInfo;if(j===m)break;if(_===4)for(_=u.return;_!==null;){var B=_.tag;if((B===3||B===4)&&_.stateNode.containerInfo===m)return;_=_.return}for(;j!==null;){if(_=Qr(j),_===null)return;if(B=_.tag,B===5||B===6||B===26||B===27){u=y=_;continue e}j=j.parentNode}}u=u.return}tu(function(){var X=y,re=zn(o),oe=[];e:{var J=j0.get(n);if(J!==void 0){var ee=Ua,Ae=n;switch(n){case"keypress":if(wr(o)===0)break e;case"keydown":case"keyup":ee=Ga;break;case"focusin":Ae="focus",ee=Fa;break;case"focusout":Ae="blur",ee=Fa;break;case"beforeblur":case"afterblur":ee=Fa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=$h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=cu;break;case E0:case N0:case T0:ee=qa;break;case S0:ee=du;break;case"scroll":case"scrollend":ee=nu;break;case"wheel":ee=Wa;break;case"copy":case"cut":case"paste":ee=Ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=ml;break;case"toggle":case"beforetoggle":ee=fu}var Ne=(i&4)!==0,it=!Ne&&(n==="scroll"||n==="scrollend"),W=Ne?J!==null?J+"Capture":null:J;Ne=[];for(var G=X,K;G!==null;){var se=G;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||W===null||(se=$i(G,W),se!=null&&Ne.push(Gl(G,se,K))),it)break;G=G.return}0<Ne.length&&(J=new ee(J,Ae,null,o,re),oe.push({event:J,listeners:Ne}))}}if((i&7)===0){e:{if(J=n==="mouseover"||n==="pointerover",ee=n==="mouseout"||n==="pointerout",J&&o!==Zr&&(Ae=o.relatedTarget||o.fromElement)&&(Qr(Ae)||Ae[Vn]))break e;if((ee||J)&&(J=re.window===re?re:(J=re.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(Ae=o.relatedTarget||o.toElement,ee=X,Ae=Ae?Qr(Ae):null,Ae!==null&&(it=c(Ae),Ne=Ae.tag,Ae!==it||Ne!==5&&Ne!==27&&Ne!==6)&&(Ae=null)):(ee=null,Ae=X),ee!==Ae)){if(Ne=Fn,se="onMouseLeave",W="onMouseEnter",G="mouse",(n==="pointerout"||n==="pointerover")&&(Ne=ml,se="onPointerLeave",W="onPointerEnter",G="pointer"),it=ee==null?J:yr(ee),K=Ae==null?J:yr(Ae),J=new Ne(se,G+"leave",ee,o,re),J.target=it,J.relatedTarget=K,se=null,Qr(re)===X&&(Ne=new Ne(W,G+"enter",Ae,o,re),Ne.target=K,Ne.relatedTarget=it,se=Ne),it=se,ee&&Ae)t:{for(Ne=ee,W=Ae,G=0,K=Ne;K;K=vo(K))G++;for(K=0,se=W;se;se=vo(se))K++;for(;0<G-K;)Ne=vo(Ne),G--;for(;0<K-G;)W=vo(W),K--;for(;G--;){if(Ne===W||W!==null&&Ne===W.alternate)break t;Ne=vo(Ne),W=vo(W)}Ne=null}else Ne=null;ee!==null&&$v(oe,J,ee,Ne,!1),Ae!==null&&it!==null&&$v(oe,it,Ae,Ne,!0)}}e:{if(J=X?yr(X):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var ye=h0;else if(Pt(J))if(f0)ye=W_;else{ye=H_;var Ve=q_}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&ol(X.elementType)&&(ye=h0):ye=G_;if(ye&&(ye=ye(n,X))){rs(oe,ye,o,re);break e}Ve&&Ve(n,J,X),n==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&Vs(J,"number",J.value)}switch(Ve=X?yr(X):window,n){case"focusin":(Pt(Ve)||Ve.contentEditable==="true")&&($a=Ve,Zh=X,yl=null);break;case"focusout":yl=Zh=$a=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,w0(oe,o,re);break;case"selectionchange":if(Q_)break;case"keydown":case"keyup":w0(oe,o,re)}var be;if(Nr)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else qe?ne(n,o)&&(Te="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(w&&o.locale!=="ko"&&(qe||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&qe&&(be=cl()):(br=re,Us="value"in br?br.value:br.textContent,qe=!0)),Ve=ed(X,Te),0<Ve.length&&(Te=new hl(Te,n,null,o,re),oe.push({event:Te,listeners:Ve}),be?Te.data=be:(be=he(o),be!==null&&(Te.data=be)))),(be=x?Ot(n,o):He(n,o))&&(Te=ed(X,"onBeforeInput"),0<Te.length&&(Ve=new hl("onBeforeInput","beforeinput",null,o,re),oe.push({event:Ve,listeners:Te}),Ve.data=be)),RE(oe,n,X,o,re)}Gv(oe,i)})}function Gl(n,i,o){return{instance:n,listener:i,currentTarget:o}}function ed(n,i){for(var o=i+"Capture",u=[];n!==null;){var m=n,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=$i(n,o),m!=null&&u.unshift(Gl(n,m,y)),m=$i(n,i),m!=null&&u.push(Gl(n,m,y))),n.tag===3)return u;n=n.return}return[]}function vo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function $v(n,i,o,u,m){for(var y=i._reactName,_=[];o!==null&&o!==u;){var j=o,B=j.alternate,X=j.stateNode;if(j=j.tag,B!==null&&B===u)break;j!==5&&j!==26&&j!==27||X===null||(B=X,m?(X=$i(o,y),X!=null&&_.unshift(Gl(o,X,B))):m||(X=$i(o,y),X!=null&&_.push(Gl(o,X,B)))),o=o.return}_.length!==0&&n.push({event:i,listeners:_})}var ME=/\r\n?/g,LE=/\u0000|\uFFFD/g;function Qv(n){return(typeof n=="string"?n:""+n).replace(ME,`
`).replace(LE,"")}function Yv(n,i){return i=Qv(i),Qv(n)===i}function td(){}function st(n,i,o,u,m,y){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Un(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Un(n,""+u);break;case"className":vr(n,"class",u);break;case"tabIndex":vr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(n,o,u);break;case"style":al(n,u,y);break;case"data":if(i!=="object"){vr(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Va(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(i!=="input"&&st(n,i,"name",m.name,m,null),st(n,i,"formEncType",m.formEncType,m,null),st(n,i,"formMethod",m.formMethod,m,null),st(n,i,"formTarget",m.formTarget,m,null)):(st(n,i,"encType",m.encType,m,null),st(n,i,"method",m.method,m,null),st(n,i,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Va(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=td);break;case"onScroll":u!=null&&ze("scroll",n);break;case"onScrollEnd":u!=null&&ze("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Va(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":ze("beforetoggle",n),ze("toggle",n),Ps(n,"popover",u);break;case"xlinkActuate":Qt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Qt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Qt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Qt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Qt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Qt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ps(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Gh.get(o)||o,Ps(n,o,u))}}function Em(n,i,o,u,m,y){switch(o){case"style":al(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Un(n,u):(typeof u=="number"||typeof u=="bigint")&&Un(n,""+u);break;case"onScroll":u!=null&&ze("scroll",n);break;case"onScrollEnd":u!=null&&ze("scrollend",n);break;case"onClick":u!=null&&(n.onclick=td);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),y=n[Ct]||null,y=y!=null?y[o]:null,typeof y=="function"&&n.removeEventListener(i,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,u,m);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Ps(n,o,u)}}}function Zt(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",n),ze("load",n);var u=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var _=o[y];if(_!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:st(n,i,y,_,o,null)}}m&&st(n,i,"srcSet",o.srcSet,o,null),u&&st(n,i,"src",o.src,o,null);return;case"input":ze("invalid",n);var j=y=_=m=null,B=null,X=null;for(u in o)if(o.hasOwnProperty(u)){var re=o[u];if(re!=null)switch(u){case"name":m=re;break;case"type":_=re;break;case"checked":B=re;break;case"defaultChecked":X=re;break;case"value":y=re;break;case"defaultValue":j=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:st(n,i,u,re,o,null)}}Hi(n,y,j,B,X,_,m,!1),Pa(n);return;case"select":ze("invalid",n),u=_=y=null;for(m in o)if(o.hasOwnProperty(m)&&(j=o[m],j!=null))switch(m){case"value":y=j;break;case"defaultValue":_=j;break;case"multiple":u=j;default:st(n,i,m,j,o,null)}i=y,o=_,n.multiple=!!u,i!=null?Xr(n,!!u,i,!1):o!=null&&Xr(n,!!u,o,!0);return;case"textarea":ze("invalid",n),y=m=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(j=o[_],j!=null))switch(_){case"value":u=j;break;case"defaultValue":m=j;break;case"children":y=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:st(n,i,_,j,o,null)}Gi(n,u,m,y),Pa(n);return;case"option":for(B in o)if(o.hasOwnProperty(B)&&(u=o[B],u!=null))switch(B){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:st(n,i,B,u,o,null)}return;case"dialog":ze("beforetoggle",n),ze("toggle",n),ze("cancel",n),ze("close",n);break;case"iframe":case"object":ze("load",n);break;case"video":case"audio":for(u=0;u<Hl.length;u++)ze(Hl[u],n);break;case"image":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"embed":case"source":case"link":ze("error",n),ze("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(u=o[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:st(n,i,X,u,o,null)}return;default:if(ol(i)){for(re in o)o.hasOwnProperty(re)&&(u=o[re],u!==void 0&&Em(n,i,re,u,o,void 0));return}}for(j in o)o.hasOwnProperty(j)&&(u=o[j],u!=null&&st(n,i,j,u,o,null))}function OE(n,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,_=null,j=null,B=null,X=null,re=null;for(ee in o){var oe=o[ee];if(o.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":B=oe;default:u.hasOwnProperty(ee)||st(n,i,ee,null,u,oe)}}for(var J in u){var ee=u[J];if(oe=o[J],u.hasOwnProperty(J)&&(ee!=null||oe!=null))switch(J){case"type":y=ee;break;case"name":m=ee;break;case"checked":X=ee;break;case"defaultChecked":re=ee;break;case"value":_=ee;break;case"defaultValue":j=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,i));break;default:ee!==oe&&st(n,i,J,ee,u,oe)}}jn(n,_,j,B,X,re,y,m);return;case"select":ee=_=j=J=null;for(y in o)if(B=o[y],o.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":ee=B;default:u.hasOwnProperty(y)||st(n,i,y,null,u,B)}for(m in u)if(y=u[m],B=o[m],u.hasOwnProperty(m)&&(y!=null||B!=null))switch(m){case"value":J=y;break;case"defaultValue":j=y;break;case"multiple":_=y;default:y!==B&&st(n,i,m,y,u,B)}i=j,o=_,u=ee,J!=null?Xr(n,!!o,J,!1):!!u!=!!o&&(i!=null?Xr(n,!!o,i,!0):Xr(n,!!o,o?[]:"",!1));return;case"textarea":ee=J=null;for(j in o)if(m=o[j],o.hasOwnProperty(j)&&m!=null&&!u.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:st(n,i,j,null,u,m)}for(_ in u)if(m=u[_],y=o[_],u.hasOwnProperty(_)&&(m!=null||y!=null))switch(_){case"value":J=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&st(n,i,_,m,u,y)}nt(n,J,ee);return;case"option":for(var Ae in o)if(J=o[Ae],o.hasOwnProperty(Ae)&&J!=null&&!u.hasOwnProperty(Ae))switch(Ae){case"selected":n.selected=!1;break;default:st(n,i,Ae,null,u,J)}for(B in u)if(J=u[B],ee=o[B],u.hasOwnProperty(B)&&J!==ee&&(J!=null||ee!=null))switch(B){case"selected":n.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:st(n,i,B,J,u,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in o)J=o[Ne],o.hasOwnProperty(Ne)&&J!=null&&!u.hasOwnProperty(Ne)&&st(n,i,Ne,null,u,J);for(X in u)if(J=u[X],ee=o[X],u.hasOwnProperty(X)&&J!==ee&&(J!=null||ee!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:st(n,i,X,J,u,ee)}return;default:if(ol(i)){for(var it in o)J=o[it],o.hasOwnProperty(it)&&J!==void 0&&!u.hasOwnProperty(it)&&Em(n,i,it,void 0,u,J);for(re in u)J=u[re],ee=o[re],!u.hasOwnProperty(re)||J===ee||J===void 0&&ee===void 0||Em(n,i,re,J,u,ee);return}}for(var W in o)J=o[W],o.hasOwnProperty(W)&&J!=null&&!u.hasOwnProperty(W)&&st(n,i,W,null,u,J);for(oe in u)J=u[oe],ee=o[oe],!u.hasOwnProperty(oe)||J===ee||J==null&&ee==null||st(n,i,oe,J,u,ee)}var Nm=null,Tm=null;function nd(n){return n.nodeType===9?n:n.ownerDocument}function Kv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Sm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jm=null;function PE(){var n=window.event;return n&&n.type==="popstate"?n===jm?!1:(jm=n,!0):(jm=null,!1)}var Zv=typeof setTimeout=="function"?setTimeout:void 0,VE=typeof clearTimeout=="function"?clearTimeout:void 0,Jv=typeof Promise=="function"?Promise:void 0,UE=typeof queueMicrotask=="function"?queueMicrotask:typeof Jv<"u"?function(n){return Jv.resolve(null).then(n).catch(zE)}:Zv;function zE(n){setTimeout(function(){throw n})}function ti(n){return n==="head"}function ex(n,i){var o=i,u=0,m=0;do{var y=o.nextSibling;if(n.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<u&&8>u){o=u;var _=n.ownerDocument;if(o&1&&Wl(_.documentElement),o&2&&Wl(_.body),o&4)for(o=_.head,Wl(o),_=o.firstChild;_;){var j=_.nextSibling,B=_.nodeName;_[zi]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&_.rel.toLowerCase()==="stylesheet"||o.removeChild(_),_=j}}if(m===0){n.removeChild(y),ec(i);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:u=o.charCodeAt(0)-48;else u=0;o=y}while(o);ec(i)}function Am(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Am(o),Os(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function BE(n,i,o,u){for(;n.nodeType===1;){var m=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[zi])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=or(n.nextSibling),n===null)break}return null}function FE(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=or(n.nextSibling),n===null))return null;return n}function Cm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function qE(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function or(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Rm=null;function tx(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function nx(n,i,o){switch(i=nd(o),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Wl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Os(n)}var Yn=new Map,rx=new Set;function rd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var gs=te.d;te.d={f:HE,r:GE,D:WE,C:$E,L:QE,m:YE,X:XE,S:KE,M:ZE};function HE(){var n=gs.f(),i=Qu();return n||i}function GE(n){var i=gr(n);i!==null&&i.tag===5&&i.type==="form"?Ey(i):gs.r(n)}var xo=typeof document>"u"?null:document;function sx(n,i,o){var u=xo;if(u&&typeof i=="string"&&i){var m=Rt(i);m='link[rel="'+n+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),rx.has(m)||(rx.add(m),n={rel:n,crossOrigin:o,href:i},u.querySelector(m)===null&&(i=u.createElement("link"),Zt(i,"link",n),Et(i),u.head.appendChild(i)))}}function WE(n){gs.D(n),sx("dns-prefetch",n,null)}function $E(n,i){gs.C(n,i),sx("preconnect",n,i)}function QE(n,i,o){gs.L(n,i,o);var u=xo;if(u&&n&&i){var m='link[rel="preload"][as="'+Rt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Rt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Rt(o.imageSizes)+'"]')):m+='[href="'+Rt(n)+'"]';var y=m;switch(i){case"style":y=bo(n);break;case"script":y=wo(n)}Yn.has(y)||(n=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Yn.set(y,n),u.querySelector(m)!==null||i==="style"&&u.querySelector($l(y))||i==="script"&&u.querySelector(Ql(y))||(i=u.createElement("link"),Zt(i,"link",n),Et(i),u.head.appendChild(i)))}}function YE(n,i){gs.m(n,i);var o=xo;if(o&&n){var u=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Rt(u)+'"][href="'+Rt(n)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=wo(n)}if(!Yn.has(y)&&(n=v({rel:"modulepreload",href:n},i),Yn.set(y,n),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ql(y)))return}u=o.createElement("link"),Zt(u,"link",n),Et(u),o.head.appendChild(u)}}}function KE(n,i,o){gs.S(n,i,o);var u=xo;if(u&&n){var m=hn(u).hoistableStyles,y=bo(n);i=i||"default";var _=m.get(y);if(!_){var j={loading:0,preload:null};if(_=u.querySelector($l(y)))j.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Yn.get(y))&&km(n,o);var B=_=u.createElement("link");Et(B),Zt(B,"link",n),B._p=new Promise(function(X,re){B.onload=X,B.onerror=re}),B.addEventListener("load",function(){j.loading|=1}),B.addEventListener("error",function(){j.loading|=2}),j.loading|=4,sd(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:j},m.set(y,_)}}}function XE(n,i){gs.X(n,i);var o=xo;if(o&&n){var u=hn(o).hoistableScripts,m=wo(n),y=u.get(m);y||(y=o.querySelector(Ql(m)),y||(n=v({src:n,async:!0},i),(i=Yn.get(m))&&Im(n,i),y=o.createElement("script"),Et(y),Zt(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function ZE(n,i){gs.M(n,i);var o=xo;if(o&&n){var u=hn(o).hoistableScripts,m=wo(n),y=u.get(m);y||(y=o.querySelector(Ql(m)),y||(n=v({src:n,async:!0,type:"module"},i),(i=Yn.get(m))&&Im(n,i),y=o.createElement("script"),Et(y),Zt(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function ix(n,i,o,u){var m=(m=je.current)?rd(m):null;if(!m)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=bo(o.href),o=hn(m).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=bo(o.href);var y=hn(m).hoistableStyles,_=y.get(n);if(_||(m=m.ownerDocument||m,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,_),(y=m.querySelector($l(n)))&&!y._p&&(_.instance=y,_.state.loading=5),Yn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Yn.set(n,o),y||JE(m,n,o,_.state))),i&&u===null)throw Error(s(528,""));return _}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wo(o),o=hn(m).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function bo(n){return'href="'+Rt(n)+'"'}function $l(n){return'link[rel="stylesheet"]['+n+"]"}function ax(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function JE(n,i,o,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Zt(i,"link",o),Et(i),n.head.appendChild(i))}function wo(n){return'[src="'+Rt(n)+'"]'}function Ql(n){return"script[async]"+n}function ox(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+Rt(o.href)+'"]');if(u)return i.instance=u,Et(u),u;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Et(u),Zt(u,"style",m),sd(u,o.precedence,n),i.instance=u;case"stylesheet":m=bo(o.href);var y=n.querySelector($l(m));if(y)return i.state.loading|=4,i.instance=y,Et(y),y;u=ax(o),(m=Yn.get(m))&&km(u,m),y=(n.ownerDocument||n).createElement("link"),Et(y);var _=y;return _._p=new Promise(function(j,B){_.onload=j,_.onerror=B}),Zt(y,"link",u),i.state.loading|=4,sd(y,o.precedence,n),i.instance=y;case"script":return y=wo(o.src),(m=n.querySelector(Ql(y)))?(i.instance=m,Et(m),m):(u=o,(m=Yn.get(y))&&(u=v({},o),Im(u,m)),n=n.ownerDocument||n,m=n.createElement("script"),Et(m),Zt(m,"link",u),n.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,sd(u,o.precedence,n));return i.instance}function sd(n,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,_=0;_<u.length;_++){var j=u[_];if(j.dataset.precedence===i)y=j;else if(y!==m)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function km(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Im(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var id=null;function lx(n,i,o){if(id===null){var u=new Map,m=id=new Map;m.set(o,u)}else m=id,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),m=0;m<o.length;m++){var y=o[m];if(!(y[zi]||y[Lt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(i)||"";_=n+_;var j=u.get(_);j?j.push(y):u.set(_,[y])}}return u}function cx(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function eN(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ux(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Yl=null;function tN(){}function nN(n,i,o){if(Yl===null)throw Error(s(475));var u=Yl;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var m=bo(o.href),y=n.querySelector($l(m));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=ad.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=y,Et(y);return}y=n.ownerDocument||n,o=ax(o),(m=Yn.get(m))&&km(o,m),y=y.createElement("link"),Et(y);var _=y;_._p=new Promise(function(j,B){_.onload=j,_.onerror=B}),Zt(y,"link",o),i.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=ad.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function rN(){if(Yl===null)throw Error(s(475));var n=Yl;return n.stylesheets&&n.count===0&&Dm(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&Dm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function ad(){if(this.count--,this.count===0){if(this.stylesheets)Dm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var od=null;function Dm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,od=new Map,i.forEach(sN,n),od=null,ad.call(n))}function sN(n,i){if(!(i.state.loading&4)){var o=od.get(n);if(o)var u=o.get(null);else{o=new Map,od.set(n,o);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var _=m[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}m=i.instance,_=m.getAttribute("data-precedence"),y=o.get(_)||u,y===u&&o.set(null,m),o.set(_,m),this.count++,u=ad.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),i.state.loading|=4}}var Kl={$$typeof:S,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function iN(n,i,o,u,m,y,_,j){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function dx(n,i,o,u,m,y,_,j,B,X,re,oe){return n=new iN(n,i,o,_,j,B,X,oe),i=1,y===!0&&(i|=24),y=Cn(3,null,null,i),n.current=y,y.stateNode=n,i=mf(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:i},vf(y),n}function hx(n){return n?(n=Xa,n):Xa}function fx(n,i,o,u,m,y){m=hx(m),u.context===null?u.context=m:u.pendingContext=m,u=Fs(i),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=qs(n,u,i),o!==null&&(Mn(o,n,i),Sl(o,n,i))}function mx(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Mm(n,i){mx(n,i),(n=n.alternate)&&mx(n,i)}function px(n){if(n.tag===13){var i=Ka(n,67108864);i!==null&&Mn(i,n,67108864),Mm(n,67108864)}}var ld=!0;function aN(n,i,o,u){var m=Q.T;Q.T=null;var y=te.p;try{te.p=2,Lm(n,i,o,u)}finally{te.p=y,Q.T=m}}function oN(n,i,o,u){var m=Q.T;Q.T=null;var y=te.p;try{te.p=8,Lm(n,i,o,u)}finally{te.p=y,Q.T=m}}function Lm(n,i,o,u){if(ld){var m=Om(u);if(m===null)_m(n,i,u,cd,o),yx(n,u);else if(cN(m,n,i,o,u))u.stopPropagation();else if(yx(n,u),i&4&&-1<lN.indexOf(n)){for(;m!==null;){var y=gr(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=nr(y.pendingLanes);if(_!==0){var j=y;for(j.pendingLanes|=2,j.entangledLanes|=2;_;){var B=1<<31-nn(_);j.entanglements[1]|=B,_&=~B}Rr(y),(et&6)===0&&(Wu=ve()+500,ql(0))}}break;case 13:j=Ka(y,2),j!==null&&Mn(j,y,2),Qu(),Mm(y,2)}if(y=Om(u),y===null&&_m(n,i,u,cd,o),y===m)break;m=y}m!==null&&u.stopPropagation()}else _m(n,i,u,null,o)}}function Om(n){return n=zn(n),Pm(n)}var cd=null;function Pm(n){if(cd=null,n=Qr(n),n!==null){var i=c(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=d(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return cd=n,null}function gx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case Gr:return 2;case Ca:return 8;case Li:case zh:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var Vm=!1,ni=null,ri=null,si=null,Xl=new Map,Zl=new Map,ii=[],lN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yx(n,i){switch(n){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":Xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(i.pointerId)}}function Jl(n,i,o,u,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},i!==null&&(i=gr(i),i!==null&&px(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function cN(n,i,o,u,m){switch(i){case"focusin":return ni=Jl(ni,n,i,o,u,m),!0;case"dragenter":return ri=Jl(ri,n,i,o,u,m),!0;case"mouseover":return si=Jl(si,n,i,o,u,m),!0;case"pointerover":var y=m.pointerId;return Xl.set(y,Jl(Xl.get(y)||null,n,i,o,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Zl.set(y,Jl(Zl.get(y)||null,n,i,o,u,m)),!0}return!1}function vx(n){var i=Qr(n.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){n.blockedOn=i,Qc(n.priority,function(){if(o.tag===13){var u=Dn();u=Ds(u);var m=Ka(o,u);m!==null&&Mn(m,o,u),Mm(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ud(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Om(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Zr=u,o.target.dispatchEvent(u),Zr=null}else return i=gr(o),i!==null&&px(i),n.blockedOn=o,!1;i.shift()}return!0}function xx(n,i,o){ud(n)&&o.delete(i)}function uN(){Vm=!1,ni!==null&&ud(ni)&&(ni=null),ri!==null&&ud(ri)&&(ri=null),si!==null&&ud(si)&&(si=null),Xl.forEach(xx),Zl.forEach(xx)}function dd(n,i){n.blockedOn===i&&(n.blockedOn=null,Vm||(Vm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uN)))}var hd=null;function bx(n){hd!==n&&(hd=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hd===n&&(hd=null);for(var i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],m=n[i+2];if(typeof u!="function"){if(Pm(u||o)===null)continue;break}var y=gr(o);y!==null&&(n.splice(i,3),i-=3,Pf(y,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function ec(n){function i(B){return dd(B,n)}ni!==null&&dd(ni,n),ri!==null&&dd(ri,n),si!==null&&dd(si,n),Xl.forEach(i),Zl.forEach(i);for(var o=0;o<ii.length;o++){var u=ii[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ii.length&&(o=ii[0],o.blockedOn===null);)vx(o),o.blockedOn===null&&ii.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],_=m[Ct]||null;if(typeof y=="function")_||bx(o);else if(_){var j=null;if(y&&y.hasAttribute("formAction")){if(m=y,_=y[Ct]||null)j=_.formAction;else if(Pm(m)!==null)continue}else j=_.action;typeof j=="function"?o[u+1]=j:(o.splice(u,3),u-=3),bx(o)}}}function Um(n){this._internalRoot=n}fd.prototype.render=Um.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,u=Dn();fx(o,u,n,i,null,null)},fd.prototype.unmount=Um.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;fx(n.current,2,null,n,null,null),Qu(),i[Vn]=null}};function fd(n){this._internalRoot=n}fd.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ms();n={blockedOn:null,target:n,priority:i};for(var o=0;o<ii.length&&i!==0&&i<ii[o].priority;o++);ii.splice(o,0,n),o===0&&vx(n)}};var wx=e.version;if(wx!=="19.1.0")throw Error(s(527,wx,"19.1.0"));te.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var dN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{bt=md.inject(dN),Je=md}catch{}}return nc.createRoot=function(n,i){if(!a(n))throw Error(s(299));var o=!1,u="",m=Py,y=Vy,_=Uy,j=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(j=i.unstable_transitionCallbacks)),i=dx(n,1,!1,null,null,o,u,m,y,_,j,null),n[Vn]=i.current,wm(n),new Um(i)},nc.hydrateRoot=function(n,i,o){if(!a(n))throw Error(s(299));var u=!1,m="",y=Py,_=Vy,j=Uy,B=null,X=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(j=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(B=o.unstable_transitionCallbacks),o.formState!==void 0&&(X=o.formState)),i=dx(n,1,!0,i,o??null,u,m,y,_,j,B,X),i.context=hx(null),o=i.current,u=Dn(),u=Ds(u),m=Fs(u),m.callback=null,qs(o,m,u),o=u,i.current.lanes=o,$r(i,o),Rr(i),n[Vn]=i.current,wm(n),new fd(i)},nc.version="19.1.0",nc}var kx;function _N(){if(kx)return Fm.exports;kx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fm.exports=wN(),Fm.exports}var EN=_N(),rc={},Ix;function NN(){if(Ix)return rc;Ix=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.parse=d,rc.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,c=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function d(E,T){const M=new c,V=E.length;if(V<2)return M;const R=(T==null?void 0:T.decode)||v;let L=0;do{const O=E.indexOf("=",L);if(O===-1)break;const S=E.indexOf(";",L),F=S===-1?V:S;if(O>F){L=E.lastIndexOf(";",O-1)+1;continue}const P=f(E,L,O),$=p(E,O,P),C=E.slice(P,$);if(M[C]===void 0){let N=f(E,O+1,F),D=p(E,F,N);const U=R(E.slice(N,D));M[C]=U}L=F+1}while(L<V);return M}function f(E,T,M){do{const V=E.charCodeAt(T);if(V!==32&&V!==9)return T}while(++T<M);return M}function p(E,T,M){for(;T>M;){const V=E.charCodeAt(--T);if(V!==32&&V!==9)return T+1}return M}function g(E,T,M){const V=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(E))throw new TypeError(`argument name is invalid: ${E}`);const R=V(T);if(!e.test(R))throw new TypeError(`argument val is invalid: ${T}`);let L=E+"="+R;if(!M)return L;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);L+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);L+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);L+="; Path="+M.path}if(M.expires){if(!b(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);L+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(L+="; HttpOnly"),M.secure&&(L+="; Secure"),M.partitioned&&(L+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return L}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function b(E){return a.call(E)==="[object Date]"}return rc}NN();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dx="popstate";function TN(r={}){function e(a,c){let{pathname:d="/",search:f="",hash:p=""}=Na(a.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),pp("",{pathname:d,search:f,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function t(a,c){let d=a.document.querySelector("base"),f="";if(d&&d.getAttribute("href")){let p=a.location.href,g=p.indexOf("#");f=g===-1?p:p.slice(0,g)}return f+"#"+(typeof c=="string"?c:bc(c))}function s(a,c){Xn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return jN(e,t,s,r)}function yt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Xn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SN(){return Math.random().toString(36).substring(2,10)}function Mx(r,e){return{usr:r.state,key:r.key,idx:e}}function pp(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:t,key:e&&e.key||s||SN()}}function bc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Na(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function jN(r,e,t,s={}){let{window:a=document.defaultView,v5Compat:c=!1}=s,d=a.history,f="POP",p=null,g=v();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function v(){return(d.state||{idx:null}).idx}function b(){f="POP";let R=v(),L=R==null?null:R-g;g=R,p&&p({action:f,location:V.location,delta:L})}function E(R,L){f="PUSH";let O=pp(V.location,R,L);t&&t(O,R),g=v()+1;let S=Mx(O,g),F=V.createHref(O);try{d.pushState(S,"",F)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(F)}c&&p&&p({action:f,location:V.location,delta:1})}function T(R,L){f="REPLACE";let O=pp(V.location,R,L);t&&t(O,R),g=v();let S=Mx(O,g),F=V.createHref(O);d.replaceState(S,"",F),c&&p&&p({action:f,location:V.location,delta:0})}function M(R){let L=a.location.origin!=="null"?a.location.origin:a.location.href,O=typeof R=="string"?R:bc(R);return O=O.replace(/ $/,"%20"),yt(L,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,L)}let V={get action(){return f},get location(){return r(a,d)},listen(R){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Dx,b),p=R,()=>{a.removeEventListener(Dx,b),p=null}},createHref(R){return e(a,R)},createURL:M,encodeLocation(R){let L=M(R);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:T,go(R){return d.go(R)}};return V}function Ow(r,e,t="/"){return AN(r,e,t,!1)}function AN(r,e,t,s){let a=typeof e=="string"?Na(e):e,c=Ns(a.pathname||"/",t);if(c==null)return null;let d=Pw(r);CN(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let g=zN(c);f=VN(d[p],g,s)}return f}function Pw(r,e=[],t=[],s=""){let a=(c,d,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(yt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=_s([s,p.relativePath]),v=t.concat(p);c.children&&c.children.length>0&&(yt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Pw(c.children,e,v,g)),!(c.path==null&&!c.index)&&e.push({path:g,score:ON(g,c.index),routesMeta:v})};return r.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))a(c,d);else for(let p of Vw(c.path))a(c,d,p)}),e}function Vw(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let d=Vw(s.join("/")),f=[];return f.push(...d.map(p=>p===""?c:[c,p].join("/"))),a&&f.push(...d),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function CN(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:PN(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var RN=/^:[\w-]+$/,kN=3,IN=2,DN=1,MN=10,LN=-2,Lx=r=>r==="*";function ON(r,e){let t=r.split("/"),s=t.length;return t.some(Lx)&&(s+=LN),e&&(s+=IN),t.filter(a=>!Lx(a)).reduce((a,c)=>a+(RN.test(c)?kN:c===""?DN:MN),s)}function PN(r,e){return r.length===e.length&&r.slice(0,-1).every((s,a)=>s===e[a])?r[r.length-1]-e[e.length-1]:0}function VN(r,e,t=!1){let{routesMeta:s}=r,a={},c="/",d=[];for(let f=0;f<s.length;++f){let p=s[f],g=f===s.length-1,v=c==="/"?e:e.slice(c.length)||"/",b=zd({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),E=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=zd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),d.push({params:a,pathname:_s([c,b.pathname]),pathnameBase:HN(_s([c,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(c=_s([c,b.pathnameBase]))}return d}function zd(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=UN(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let c=a[0],d=c.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},E)=>{if(v==="*"){let M=f[E]||"";d=c.slice(0,c.length-M.length).replace(/(.)\/+$/,"$1")}const T=f[E];return b&&!T?g[v]=void 0:g[v]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:r}}function UN(r,e=!1,t=!0){Xn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function zN(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ns(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function BN(r,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof r=="string"?Na(r):r;return{pathname:t?t.startsWith("/")?t:FN(t,e):e,search:GN(s),hash:WN(a)}}function FN(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Wm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qN(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Uw(r){let e=qN(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function zw(r,e,t,s=!1){let a;typeof r=="string"?a=Na(r):(a={...r},yt(!a.pathname||!a.pathname.includes("?"),Wm("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),Wm("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),Wm("#","search","hash",a)));let c=r===""||a.pathname==="",d=c?"/":a.pathname,f;if(d==null)f=t;else{let b=e.length-1;if(!s&&d.startsWith("..")){let E=d.split("/");for(;E[0]==="..";)E.shift(),b-=1;a.pathname=E.join("/")}f=b>=0?e[b]:"/"}let p=BN(a,f),g=d&&d!=="/"&&d.endsWith("/"),v=(c||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var _s=r=>r.join("/").replace(/\/\/+/g,"/"),HN=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),GN=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,WN=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function $N(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Bw=["POST","PUT","PATCH","DELETE"];new Set(Bw);var QN=["GET",...Bw];new Set(QN);var zo=A.createContext(null);zo.displayName="DataRouter";var ch=A.createContext(null);ch.displayName="DataRouterState";var Fw=A.createContext({isTransitioning:!1});Fw.displayName="ViewTransition";var YN=A.createContext(new Map);YN.displayName="Fetchers";var KN=A.createContext(null);KN.displayName="Await";var Br=A.createContext(null);Br.displayName="Navigation";var kc=A.createContext(null);kc.displayName="Location";var fr=A.createContext({outlet:null,matches:[],isDataRoute:!1});fr.displayName="Route";var Kp=A.createContext(null);Kp.displayName="RouteError";function XN(r,{relative:e}={}){yt(Ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=A.useContext(Br),{hash:a,pathname:c,search:d}=Dc(r,{relative:e}),f=c;return t!=="/"&&(f=c==="/"?t:_s([t,c])),s.createHref({pathname:f,search:d,hash:a})}function Ic(){return A.useContext(kc)!=null}function Rs(){return yt(Ic(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(kc).location}var qw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hw(r){A.useContext(Br).static||A.useLayoutEffect(r)}function Fr(){let{isDataRoute:r}=A.useContext(fr);return r?fT():ZN()}function ZN(){yt(Ic(),"useNavigate() may be used only in the context of a <Router> component.");let r=A.useContext(zo),{basename:e,navigator:t}=A.useContext(Br),{matches:s}=A.useContext(fr),{pathname:a}=Rs(),c=JSON.stringify(Uw(s)),d=A.useRef(!1);return Hw(()=>{d.current=!0}),A.useCallback((p,g={})=>{if(Xn(d.current,qw),!d.current)return;if(typeof p=="number"){t.go(p);return}let v=zw(p,JSON.parse(c),a,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:_s([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,c,a,r])}var JN=A.createContext(null);function eT(r){let e=A.useContext(fr).outlet;return e&&A.createElement(JN.Provider,{value:r},e)}function tT(){let{matches:r}=A.useContext(fr),e=r[r.length-1];return e?e.params:{}}function Dc(r,{relative:e}={}){let{matches:t}=A.useContext(fr),{pathname:s}=Rs(),a=JSON.stringify(Uw(t));return A.useMemo(()=>zw(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function nT(r,e){return Gw(r,e)}function Gw(r,e,t,s){var O;yt(Ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:c}=A.useContext(Br),{matches:d}=A.useContext(fr),f=d[d.length-1],p=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let S=b&&b.path||"";Ww(g,!b||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let E=Rs(),T;if(e){let S=typeof e=="string"?Na(e):e;yt(v==="/"||((O=S.pathname)==null?void 0:O.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${S.pathname}" was given in the \`location\` prop.`),T=S}else T=E;let M=T.pathname||"/",V=M;if(v!=="/"){let S=v.replace(/^\//,"").split("/");V="/"+M.replace(/^\//,"").split("/").slice(S.length).join("/")}let R=!c&&t&&t.matches&&t.matches.length>0?t.matches:Ow(r,{pathname:V});Xn(b||R!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Xn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=oT(R&&R.map(S=>Object.assign({},S,{params:Object.assign({},p,S.params),pathname:_s([v,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?v:_s([v,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),d,t,s);return e&&L?A.createElement(kc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function rT(){let r=hT(),e=$N(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:c},"ErrorBoundary")," or"," ",A.createElement("code",{style:c},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:a},t):null,d)}var sT=A.createElement(rT,null),iT=class extends A.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?A.createElement(fr.Provider,{value:this.props.routeContext},A.createElement(Kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aT({routeContext:r,match:e,children:t}){let s=A.useContext(zo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(fr.Provider,{value:r},t)}function oT(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,c=t==null?void 0:t.errors;if(c!=null){let p=a.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);yt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let d=!1,f=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:v,errors:b}=t,E=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||E){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,g,v)=>{let b,E=!1,T=null,M=null;t&&(b=c&&g.route.id?c[g.route.id]:void 0,T=g.route.errorElement||sT,d&&(f<0&&v===0?(Ww("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,M=null):f===v&&(E=!0,M=g.route.hydrateFallbackElement||null)));let V=e.concat(a.slice(0,v+1)),R=()=>{let L;return b?L=T:E?L=M:g.route.Component?L=A.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=p,A.createElement(aT,{match:g,routeContext:{outlet:p,matches:V,isDataRoute:t!=null},children:L})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?A.createElement(iT,{location:t.location,revalidation:t.revalidation,component:T,error:b,children:R(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):R()},null)}function Xp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lT(r){let e=A.useContext(zo);return yt(e,Xp(r)),e}function cT(r){let e=A.useContext(ch);return yt(e,Xp(r)),e}function uT(r){let e=A.useContext(fr);return yt(e,Xp(r)),e}function Zp(r){let e=uT(r),t=e.matches[e.matches.length-1];return yt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function dT(){return Zp("useRouteId")}function hT(){var s;let r=A.useContext(Kp),e=cT("useRouteError"),t=Zp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function fT(){let{router:r}=lT("useNavigate"),e=Zp("useNavigate"),t=A.useRef(!1);return Hw(()=>{t.current=!0}),A.useCallback(async(a,c={})=>{Xn(t.current,qw),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...c}))},[r,e])}var Ox={};function Ww(r,e,t){!e&&!Ox[r]&&(Ox[r]=!0,Xn(!1,t))}A.memo(mT);function mT({routes:r,future:e,state:t}){return Gw(r,void 0,t,e)}function pT(r){return eT(r.context)}function bn(r){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gT({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:c=!1}){yt(!Ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),f=A.useMemo(()=>({basename:d,navigator:a,static:c,future:{}}),[d,a,c]);typeof t=="string"&&(t=Na(t));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:E="default"}=t,T=A.useMemo(()=>{let M=Ns(p,d);return M==null?null:{location:{pathname:M,search:g,hash:v,state:b,key:E},navigationType:s}},[d,p,g,v,b,E,s]);return Xn(T!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:A.createElement(Br.Provider,{value:f},A.createElement(kc.Provider,{children:e,value:T}))}function yT({children:r,location:e}){return nT(gp(r),e)}function gp(r,e=[]){let t=[];return A.Children.forEach(r,(s,a)=>{if(!A.isValidElement(s))return;let c=[...e,a];if(s.type===A.Fragment){t.push.apply(t,gp(s.props.children,c));return}yt(s.type===bn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=gp(s.props.children,c)),t.push(d)}),t}var Sd="get",jd="application/x-www-form-urlencoded";function uh(r){return r!=null&&typeof r.tagName=="string"}function vT(r){return uh(r)&&r.tagName.toLowerCase()==="button"}function xT(r){return uh(r)&&r.tagName.toLowerCase()==="form"}function bT(r){return uh(r)&&r.tagName.toLowerCase()==="input"}function wT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function _T(r,e){return r.button===0&&(!e||e==="_self")&&!wT(r)}function yp(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let s=r[t];return e.concat(Array.isArray(s)?s.map(a=>[t,a]):[[t,s]])},[]))}function ET(r,e){let t=yp(r);return e&&e.forEach((s,a)=>{t.has(a)||e.getAll(a).forEach(c=>{t.append(a,c)})}),t}var pd=null;function NT(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var TT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $m(r){return r!=null&&!TT.has(r)?(Xn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jd}"`),null):r}function ST(r,e){let t,s,a,c,d;if(xT(r)){let f=r.getAttribute("action");s=f?Ns(f,e):null,t=r.getAttribute("method")||Sd,a=$m(r.getAttribute("enctype"))||jd,c=new FormData(r)}else if(vT(r)||bT(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(s=p?Ns(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||Sd,a=$m(r.getAttribute("formenctype"))||$m(f.getAttribute("enctype"))||jd,c=new FormData(f,r),!NT()){let{name:g,type:v,value:b}=r;if(v==="image"){let E=g?`${g}.`:"";c.append(`${E}x`,"0"),c.append(`${E}y`,"0")}else g&&c.append(g,b)}}else{if(uh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sd,s=null,a=jd,d=r}return c&&a==="text/plain"&&(d=c,c=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:c,body:d}}function Jp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function jT(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AT(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function CT(r,e,t){let s=await Promise.all(r.map(async a=>{let c=e.routes[a.route.id];if(c){let d=await jT(c,t);return d.links?d.links():[]}return[]}));return DT(s.flat(1).filter(AT).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Px(r,e,t,s,a,c){let d=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,f=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,g)=>d(p,g)||f(p,g)):c==="data"?e.filter((p,g)=>{var b;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(d(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function RT(r,e,{includeHydrateFallback:t}={}){return kT(r.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let c=[a.module];return a.clientActionModule&&(c=c.concat(a.clientActionModule)),a.clientLoaderModule&&(c=c.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(c=c.concat(a.hydrateFallbackModule)),a.imports&&(c=c.concat(a.imports)),c}).flat(1))}function kT(r){return[...new Set(r)]}function IT(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function DT(r,e){let t=new Set;return new Set(e),r.reduce((s,a)=>{let c=JSON.stringify(IT(a));return t.has(c)||(t.add(c),s.push({key:c,link:a})),s},[])}function MT(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Ns(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function $w(){let r=A.useContext(zo);return Jp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function LT(){let r=A.useContext(ch);return Jp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var eg=A.createContext(void 0);eg.displayName="FrameworkContext";function Qw(){let r=A.useContext(eg);return Jp(r,"You must render this element inside a <HydratedRouter> element"),r}function OT(r,e){let t=A.useContext(eg),[s,a]=A.useState(!1),[c,d]=A.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,E=A.useRef(null);A.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let V=L=>{L.forEach(O=>{d(O.isIntersecting)})},R=new IntersectionObserver(V,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[r]),A.useEffect(()=>{if(s){let V=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(V)}}},[s]);let T=()=>{a(!0)},M=()=>{a(!1),d(!1)};return t?r!=="intent"?[c,E,{}]:[c,E,{onFocus:sc(f,T),onBlur:sc(p,M),onMouseEnter:sc(g,T),onMouseLeave:sc(v,M),onTouchStart:sc(b,T)}]:[!1,E,{}]}function sc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function PT({page:r,...e}){let{router:t}=$w(),s=A.useMemo(()=>Ow(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?A.createElement(UT,{page:r,matches:s,...e}):null}function VT(r){let{manifest:e,routeModules:t}=Qw(),[s,a]=A.useState([]);return A.useEffect(()=>{let c=!1;return CT(r,e,t).then(d=>{c||a(d)}),()=>{c=!0}},[r,e,t]),s}function UT({page:r,matches:e,...t}){let s=Rs(),{manifest:a,routeModules:c}=Qw(),{basename:d}=$w(),{loaderData:f,matches:p}=LT(),g=A.useMemo(()=>Px(r,e,p,a,s,"data"),[r,e,p,a,s]),v=A.useMemo(()=>Px(r,e,p,a,s,"assets"),[r,e,p,a,s]),b=A.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,V=!1;if(e.forEach(L=>{var S;let O=a.routes[L.route.id];!O||!O.hasLoader||(!g.some(F=>F.route.id===L.route.id)&&L.route.id in f&&((S=c[L.route.id])!=null&&S.shouldRevalidate)||O.hasClientLoader?V=!0:M.add(L.route.id))}),M.size===0)return[];let R=MT(r,d);return V&&M.size>0&&R.searchParams.set("_routes",e.filter(L=>M.has(L.route.id)).map(L=>L.route.id).join(",")),[R.pathname+R.search]},[d,f,s,a,g,e,r,c]),E=A.useMemo(()=>RT(v,a),[v,a]),T=VT(v);return A.createElement(A.Fragment,null,b.map(M=>A.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),E.map(M=>A.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),T.map(({key:M,link:V})=>A.createElement("link",{key:M,...V})))}function zT(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Yw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yw&&(window.__reactRouterVersion="7.5.0")}catch{}function BT({basename:r,children:e,window:t}){let s=A.useRef();s.current==null&&(s.current=TN({window:t,v5Compat:!0}));let a=s.current,[c,d]=A.useState({action:a.action,location:a.location}),f=A.useCallback(p=>{A.startTransition(()=>d(p))},[d]);return A.useLayoutEffect(()=>a.listen(f),[a,f]),A.createElement(gT,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:a})}var Kw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=A.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:c,replace:d,state:f,target:p,to:g,preventScrollReset:v,viewTransition:b,...E},T){let{basename:M}=A.useContext(Br),V=typeof g=="string"&&Kw.test(g),R,L=!1;if(typeof g=="string"&&V&&(R=g,Yw))try{let D=new URL(window.location.href),U=g.startsWith("//")?new URL(D.protocol+g):new URL(g),q=Ns(U.pathname,M);U.origin===D.origin&&q!=null?g=q+U.search+U.hash:L=!0}catch{Xn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=XN(g,{relative:a}),[S,F,P]=OT(s,E),$=GT(g,{replace:d,state:f,target:p,preventScrollReset:v,relative:a,viewTransition:b});function C(D){e&&e(D),D.defaultPrevented||$(D)}let N=A.createElement("a",{...E,...P,href:R||O,onClick:L||c?e:C,ref:zT(T,F),target:p,"data-discover":!V&&t==="render"?"true":void 0});return S&&!V?A.createElement(A.Fragment,null,N,A.createElement(PT,{page:O})):N});De.displayName="Link";var FT=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:c,to:d,viewTransition:f,children:p,...g},v){let b=Dc(d,{relative:g.relative}),E=Rs(),T=A.useContext(ch),{navigator:M,basename:V}=A.useContext(Br),R=T!=null&&XT(b)&&f===!0,L=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,O=E.pathname,S=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(O=O.toLowerCase(),S=S?S.toLowerCase():null,L=L.toLowerCase()),S&&V&&(S=Ns(S,V)||S);const F=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let P=O===L||!a&&O.startsWith(L)&&O.charAt(F)==="/",$=S!=null&&(S===L||!a&&S.startsWith(L)&&S.charAt(L.length)==="/"),C={isActive:P,isPending:$,isTransitioning:R},N=P?e:void 0,D;typeof s=="function"?D=s(C):D=[s,P?"active":null,$?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let U=typeof c=="function"?c(C):c;return A.createElement(De,{...g,"aria-current":N,className:D,ref:v,style:U,to:d,viewTransition:f},typeof p=="function"?p(C):p)});FT.displayName="NavLink";var qT=A.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:c,method:d=Sd,action:f,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...E},T)=>{let M=YT(),V=KT(f,{relative:g}),R=d.toLowerCase()==="get"?"get":"post",L=typeof f=="string"&&Kw.test(f),O=S=>{if(p&&p(S),S.defaultPrevented)return;S.preventDefault();let F=S.nativeEvent.submitter,P=(F==null?void 0:F.getAttribute("formmethod"))||d;M(F||S.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:a,state:c,relative:g,preventScrollReset:v,viewTransition:b})};return A.createElement("form",{ref:T,method:R,action:V,onSubmit:s?p:O,...E,"data-discover":!L&&r==="render"?"true":void 0})});qT.displayName="Form";function HT(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xw(r){let e=A.useContext(zo);return yt(e,HT(r)),e}function GT(r,{target:e,replace:t,state:s,preventScrollReset:a,relative:c,viewTransition:d}={}){let f=Fr(),p=Rs(),g=Dc(r,{relative:c});return A.useCallback(v=>{if(_T(v,e)){v.preventDefault();let b=t!==void 0?t:bc(p)===bc(g);f(r,{replace:b,state:s,preventScrollReset:a,relative:c,viewTransition:d})}},[p,f,g,t,s,e,r,a,c,d])}function WT(r){Xn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=A.useRef(yp(r)),t=A.useRef(!1),s=Rs(),a=A.useMemo(()=>ET(s.search,t.current?null:e.current),[s.search]),c=Fr(),d=A.useCallback((f,p)=>{const g=yp(typeof f=="function"?f(a):f);t.current=!0,c("?"+g,p)},[c,a]);return[a,d]}var $T=0,QT=()=>`__${String(++$T)}__`;function YT(){let{router:r}=Xw("useSubmit"),{basename:e}=A.useContext(Br),t=dT();return A.useCallback(async(s,a={})=>{let{action:c,method:d,encType:f,formData:p,body:g}=ST(s,e);if(a.navigate===!1){let v=a.fetcherKey||QT();await r.fetch(v,t,a.action||c,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||d,formEncType:a.encType||f,flushSync:a.flushSync})}else await r.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||d,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function KT(r,{relative:e}={}){let{basename:t}=A.useContext(Br),s=A.useContext(fr);yt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),c={...Dc(r||".",{relative:e})},d=Rs();if(r==null){c.search=d.search;let f=new URLSearchParams(c.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();c.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:_s([t,c.pathname])),bc(c)}function XT(r,e={}){let t=A.useContext(Fw);yt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Xw("useViewTransitionState"),a=Dc(r,{relative:e.relative});if(!t.isTransitioning)return!1;let c=Ns(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=Ns(t.nextLocation.pathname,s)||t.nextLocation.pathname;return zd(a.pathname,d)!=null||zd(a.pathname,c)!=null}new TextEncoder;const ZT=()=>{};var Vx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},JT=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const a=r[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=r[t++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=r[t++],d=r[t++],f=r[t++],p=((a&7)<<18|(c&63)<<12|(d&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[t++],d=r[t++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Jw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const c=r[a],d=a+1<r.length,f=d?r[a+1]:0,p=a+2<r.length,g=p?r[a+2]:0,v=c>>2,b=(c&3)<<4|f>>4;let E=(f&15)<<2|g>>6,T=g&63;p||(T=64,d||(E=64)),s.push(t[v],t[b],t[E],t[T])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Zw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):JT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const c=t[r.charAt(a++)],f=a<r.length?t[r.charAt(a)]:0;++a;const g=a<r.length?t[r.charAt(a)]:64;++a;const b=a<r.length?t[r.charAt(a)]:64;if(++a,c==null||f==null||g==null||b==null)throw new eS;const E=c<<2|f>>4;if(s.push(E),g!==64){const T=f<<4&240|g>>2;if(s.push(T),b!==64){const M=g<<6&192|b;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class eS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tS=function(r){const e=Zw(r);return Jw.encodeByteArray(e,!0)},Bd=function(r){return tS(r).replace(/\./g,"")},e2=function(r){try{return Jw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=()=>nS().__FIREBASE_DEFAULTS__,sS=()=>{if(typeof process>"u"||typeof Vx>"u")return;const r=Vx.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},iS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&e2(r[1]);return e&&JSON.parse(e)},dh=()=>{try{return ZT()||rS()||sS()||iS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},t2=r=>{var e,t;return(t=(e=dh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},n2=r=>{const e=t2(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},r2=()=>{var r;return(r=dh())===null||r===void 0?void 0:r.config},s2=r=>{var e;return(e=dh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Bd(JSON.stringify(t)),Bd(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function lS(){var r;const e=(r=dh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hS(){const r=dn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function fS(){return!lS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mS(){try{return typeof indexedDB=="object"}catch{return!1}}function pS(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="FirebaseError";class qr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=gS,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,c=this.errors[e],d=c?yS(c,s):"Error",f=`${this.serviceName}: ${d} (${a}).`;return new qr(a,f,s)}}function yS(r,e){return r.replace(vS,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const vS=/\{\$([^}]+)}/g;function xS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function xi(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const c=r[a],d=e[a];if(Ux(c)&&Ux(d)){if(!xi(c,d))return!1}else if(c!==d)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function Ux(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function lc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,c]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(c)}}),e}function cc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function bS(r,e){const t=new wS(r,e);return t.subscribe.bind(t)}class wS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");_S(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Qm),a.error===void 0&&(a.error=Qm),a.complete===void 0&&(a.complete=Qm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _S(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r){return r&&r._delegate?r._delegate:r}class bi{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new aS;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TS(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);s===f&&d.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const d=this.instances.get(a);return d&&e(d,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NS(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NS(r){return r===pa?void 0:r}function TS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ES(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Be||(Be={}));const jS={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},AS=Be.INFO,CS={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},RS=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=CS[e];if(a)console[a](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tg{constructor(e){this.name=e,this._logLevel=AS,this._logHandler=RS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const kS=(r,e)=>e.some(t=>r instanceof t);let zx,Bx;function IS(){return zx||(zx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DS(){return Bx||(Bx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a2=new WeakMap,vp=new WeakMap,o2=new WeakMap,Ym=new WeakMap,ng=new WeakMap;function MS(r){const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{t(mi(r.result)),a()},d=()=>{s(r.error),a()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&a2.set(t,r)}).catch(()=>{}),ng.set(e,r),e}function LS(r){if(vp.has(r))return;const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{t(),a()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});vp.set(r,e)}let xp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return vp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||o2.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function OS(r){xp=r(xp)}function PS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Km(this),e,...t);return o2.set(s,e.sort?e.sort():[e]),mi(s)}:DS().includes(r)?function(...e){return r.apply(Km(this),e),mi(a2.get(this))}:function(...e){return mi(r.apply(Km(this),e))}}function VS(r){return typeof r=="function"?PS(r):(r instanceof IDBTransaction&&LS(r),kS(r,IS())?new Proxy(r,xp):r)}function mi(r){if(r instanceof IDBRequest)return MS(r);if(Ym.has(r))return Ym.get(r);const e=VS(r);return e!==r&&(Ym.set(r,e),ng.set(e,r)),e}const Km=r=>ng.get(r);function US(r,e,{blocked:t,upgrade:s,blocking:a,terminated:c}={}){const d=indexedDB.open(r,e),f=mi(d);return s&&d.addEventListener("upgradeneeded",p=>{s(mi(d.result),p.oldVersion,p.newVersion,mi(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{c&&p.addEventListener("close",()=>c()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const zS=["get","getKey","getAll","getAllKeys","count"],BS=["put","add","delete","clear"],Xm=new Map;function Fx(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Xm.get(e))return Xm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=BS.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||zS.includes(t)))return;const c=async function(d,...f){const p=this.transaction(d,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),a&&p.done]))[0]};return Xm.set(e,c),c}OS(r=>({...r,get:(e,t,s)=>Fx(e,t)||r.get(e,t,s),has:(e,t)=>!!Fx(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qS(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function qS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bp="@firebase/app",qx="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new tg("@firebase/app"),HS="@firebase/app-compat",GS="@firebase/analytics-compat",WS="@firebase/analytics",$S="@firebase/app-check-compat",QS="@firebase/app-check",YS="@firebase/auth",KS="@firebase/auth-compat",XS="@firebase/database",ZS="@firebase/data-connect",JS="@firebase/database-compat",ej="@firebase/functions",tj="@firebase/functions-compat",nj="@firebase/installations",rj="@firebase/installations-compat",sj="@firebase/messaging",ij="@firebase/messaging-compat",aj="@firebase/performance",oj="@firebase/performance-compat",lj="@firebase/remote-config",cj="@firebase/remote-config-compat",uj="@firebase/storage",dj="@firebase/storage-compat",hj="@firebase/firestore",fj="@firebase/vertexai",mj="@firebase/firestore-compat",pj="firebase",gj="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="[DEFAULT]",yj={[bp]:"fire-core",[HS]:"fire-core-compat",[WS]:"fire-analytics",[GS]:"fire-analytics-compat",[QS]:"fire-app-check",[$S]:"fire-app-check-compat",[YS]:"fire-auth",[KS]:"fire-auth-compat",[XS]:"fire-rtdb",[ZS]:"fire-data-connect",[JS]:"fire-rtdb-compat",[ej]:"fire-fn",[tj]:"fire-fn-compat",[nj]:"fire-iid",[rj]:"fire-iid-compat",[sj]:"fire-fcm",[ij]:"fire-fcm-compat",[aj]:"fire-perf",[oj]:"fire-perf-compat",[lj]:"fire-rc",[cj]:"fire-rc-compat",[uj]:"fire-gcs",[dj]:"fire-gcs-compat",[hj]:"fire-fst",[mj]:"fire-fst-compat",[fj]:"fire-vertex","fire-js":"fire-js",[pj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Map,vj=new Map,_p=new Map;function Hx(r,e){try{r.container.addComponent(e)}catch(t){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function xa(r){const e=r.name;if(_p.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,r);for(const t of Fd.values())Hx(t,r);for(const t of vj.values())Hx(t,r);return!0}function hh(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function _n(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new Mc("app","Firebase",xj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=gj;function l2(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:wp,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw pi.create("bad-app-name",{appName:String(a)});if(t||(t=r2()),!t)throw pi.create("no-options");const c=Fd.get(a);if(c){if(xi(t,c.options)&&xi(s,c.config))return c;throw pi.create("duplicate-app",{appName:a})}const d=new SS(a);for(const p of _p.values())d.addComponent(p);const f=new bj(t,s,d);return Fd.set(a,f),f}function rg(r=wp){const e=Fd.get(r);if(!e&&r===wp&&r2())return l2();if(!e)throw pi.create("no-app",{appName:r});return e}function Ir(r,e,t){var s;let a=(s=yj[r])!==null&&s!==void 0?s:r;t&&(a+=`-${t}`);const c=a.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const f=[`Unable to register library "${a}" with version "${e}":`];c&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&d&&f.push("and"),d&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(f.join(" "));return}xa(new bi(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="firebase-heartbeat-database",_j=1,wc="firebase-heartbeat-store";let Zm=null;function c2(){return Zm||(Zm=US(wj,_j,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(wc)}catch(t){console.warn(t)}}}}).catch(r=>{throw pi.create("idb-open",{originalErrorMessage:r.message})})),Zm}async function Ej(r){try{const t=(await c2()).transaction(wc),s=await t.objectStore(wc).get(u2(r));return await t.done,s}catch(e){if(e instanceof qr)Ts.warn(e.message);else{const t=pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ts.warn(t.message)}}}async function Gx(r,e){try{const s=(await c2()).transaction(wc,"readwrite");await s.objectStore(wc).put(e,u2(r)),await s.done}catch(t){if(t instanceof qr)Ts.warn(t.message);else{const s=pi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ts.warn(s.message)}}}function u2(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=1024,Tj=30;class Sj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Aj(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Wx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>Tj){const d=Cj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ts.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Wx(),{heartbeatsToSend:s,unsentEntries:a}=jj(this._heartbeatsCache.heartbeats),c=Bd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return Ts.warn(t),""}}}function Wx(){return new Date().toISOString().substring(0,10)}function jj(r,e=Nj){const t=[];let s=r.slice();for(const a of r){const c=t.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),$x(t)>e){c.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),$x(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Aj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mS()?pS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ej(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Gx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Gx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function $x(r){return Bd(JSON.stringify({version:2,heartbeats:r})).length}function Cj(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(r){xa(new bi("platform-logger",e=>new FS(e),"PRIVATE")),xa(new bi("heartbeat",e=>new Sj(e),"PRIVATE")),Ir(bp,qx,r),Ir(bp,qx,"esm2017"),Ir("fire-js","")}Rj("");var Ep=function(r,e){return Ep=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])},Ep(r,e)};function kj(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ep(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Wt=function(){return Wt=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},Wt.apply(this,arguments)};function sg(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(t[s[a]]=r[s[a]]);return t}function d2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ij=d2,h2=new Mc("auth","Firebase",d2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new tg("@firebase/auth");function Dj(r,...e){qd.logLevel<=Be.WARN&&qd.warn(`Auth (${Ta}): ${r}`,...e)}function Ad(r,...e){qd.logLevel<=Be.ERROR&&qd.error(`Auth (${Ta}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(r,...e){throw ag(r,...e)}function ur(r,...e){return ag(r,...e)}function ig(r,e,t){const s=Object.assign(Object.assign({},Ij()),{[e]:t});return new Mc("auth","Firebase",s).create(e,{appName:r.name})}function Es(r){return ig(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mj(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Zn(r,"argument-error"),ig(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ag(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return h2.create(r,...e)}function Se(r,e,...t){if(!r)throw ag(e,...t)}function bs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ad(e),new Error(e)}function Ss(r,e){r||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Lj(){return Qx()==="http:"||Qx()==="https:"}function Qx(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lj()||uS()||"connection"in navigator)?navigator.onLine:!0}function Pj(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ss(t>e,"Short delay should be less than long delay!"),this.isMobile=oS()||dS()}get(){return Oj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(r,e){Ss(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zj=new Oc(3e4,6e4);function Ci(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ks(r,e,t,s,a={}){return m2(r,a,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const f=Lc(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},c);return cS()||(g.referrerPolicy="no-referrer"),f2.fetch()(await p2(r,r.config.apiHost,t,f),g)})}async function m2(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},Vj),e);try{const a=new Fj(r),c=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw gd(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const f=c.ok?d.errorMessage:d.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw gd(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw gd(r,"user-disabled",d);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ig(r,v,g);Zn(r,v)}}catch(a){if(a instanceof qr)throw a;Zn(r,"network-request-failed",{message:String(a)})}}async function Pc(r,e,t,s,a={}){const c=await ks(r,e,t,s,a);return"mfaPendingCredential"in c&&Zn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function p2(r,e,t,s){const a=`${e}${t}?${s}`,c=r,d=c.config.emulator?og(r.config,a):`${r.config.apiScheme}://${a}`;return Uj.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Bj(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Fj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ur(this.auth,"network-request-failed")),zj.get())})}}function gd(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=ur(r,e,s);return a.customData._tokenResponse=t,a}function Yx(r){return r!==void 0&&r.enterprise!==void 0}class qj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Bj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Hj(r,e){return ks(r,"GET","/v2/recaptchaConfig",Ci(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(r,e){return ks(r,"POST","/v1/accounts:delete",e)}async function Hd(r,e){return ks(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(r,e=!1){return vt(r).getIdToken(e)}async function Wj(r,e=!1){const t=vt(r),s=await t.getIdToken(e),a=lg(s);Se(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:a,token:s,authTime:mc(Jm(a.auth_time)),issuedAtTime:mc(Jm(a.iat)),expirationTime:mc(Jm(a.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Jm(r){return Number(r)*1e3}function lg(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Ad("JWT malformed, contained fewer than 3 sections"),null;try{const a=e2(t);return a?JSON.parse(a):(Ad("Failed to decode base64 JWT payload"),null)}catch(a){return Ad("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Xx(r){const e=lg(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof qr&&$j(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function $j({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mc(this.lastLoginAt),this.creationTime=mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gd(r){var e;const t=r.auth,s=await r.getIdToken(),a=await Co(r,Hd(t,{idToken:s}));Se(a==null?void 0:a.users.length,t,"internal-error");const c=a.users[0];r._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?g2(c.providerUserInfo):[],f=Kj(r.providerData,d),p=r.isAnonymous,g=!(r.email&&c.passwordHash)&&!(f!=null&&f.length),v=p?g:!1,b={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:f,metadata:new Tp(c.createdAt,c.lastLoginAt),isAnonymous:v};Object.assign(r,b)}async function Yj(r){const e=vt(r);await Gd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Kj(r,e){return[...r.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function g2(r){return r.map(e=>{var{providerId:t}=e,s=sg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(r,e){const t=await m2(r,{},async()=>{const s=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=r.config,d=await p2(r,a,"/v1/token",`key=${c}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",f2.fetch()(d,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Zj(r,e){return ks(r,"POST","/v2/accounts:revokeToken",Ci(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=Xx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:c}=await Xj(e,t);this.updateTokensAndExpiration(s,a,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:c}=t,d=new To;return s&&(Se(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),a&&(Se(typeof a=="string","internal-error",{appName:e}),d.accessToken=a),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class lr{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,c=sg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Tp(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await Co(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Wj(this,e)}reload(){return Yj(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Gd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await Co(this,Gj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,c,d,f,p,g,v;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,T=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,M=(d=t.photoURL)!==null&&d!==void 0?d:void 0,V=(f=t.tenantId)!==null&&f!==void 0?f:void 0,R=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,L=(g=t.createdAt)!==null&&g!==void 0?g:void 0,O=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:S,emailVerified:F,isAnonymous:P,providerData:$,stsTokenManager:C}=t;Se(S&&C,e,"internal-error");const N=To.fromJSON(this.name,C);Se(typeof S=="string",e,"internal-error"),oi(b,e.name),oi(E,e.name),Se(typeof F=="boolean",e,"internal-error"),Se(typeof P=="boolean",e,"internal-error"),oi(T,e.name),oi(M,e.name),oi(V,e.name),oi(R,e.name),oi(L,e.name),oi(O,e.name);const D=new lr({uid:S,auth:e,email:E,emailVerified:F,displayName:b,isAnonymous:P,photoURL:M,phoneNumber:T,tenantId:V,stsTokenManager:N,createdAt:L,lastLoginAt:O});return $&&Array.isArray($)&&(D.providerData=$.map(U=>Object.assign({},U))),R&&(D._redirectEventId=R),D}static async _fromIdTokenResponse(e,t,s=!1){const a=new To;a.updateFromServerResponse(t);const c=new lr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Gd(c),c}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Se(a.localId!==void 0,"internal-error");const c=a.providerUserInfo!==void 0?g2(a.providerUserInfo):[],d=!(a.email&&a.passwordHash)&&!(c!=null&&c.length),f=new To;f.updateFromIdToken(s);const p=new lr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:d}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Tp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new Map;function ws(r){Ss(r instanceof Function,"Expected a class definition");let e=Zx.get(r);return e?(Ss(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Zx.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}y2.type="NONE";const Jx=y2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(r,e,t){return`firebase:${r}:${e}:${t}`}class So{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:c}=this.auth;this.fullUserKey=Cd(this.userKey,a.apiKey,c),this.fullPersistenceKey=Cd("persistence",a.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hd(this.auth,{idToken:e}).catch(()=>{});return t?lr._fromGetAccountInfoResponse(this.auth,t,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new So(ws(Jx),e,s);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=a[0]||ws(Jx);const d=Cd(s,e.config.apiKey,e.name);let f=null;for(const g of t)try{const v=await g._get(d);if(v){let b;if(typeof v=="string"){const E=await Hd(e,{idToken:v}).catch(()=>{});if(!E)break;b=await lr._fromGetAccountInfoResponse(e,E,v)}else b=lr._fromJSON(e,v);g!==c&&(f=b),c=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new So(c,e,s):(c=p[0],f&&await c._set(d,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new So(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E2(e))return"Blackberry";if(N2(e))return"Webos";if(x2(e))return"Safari";if((e.includes("chrome/")||b2(e))&&!e.includes("edge/"))return"Chrome";if(_2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function v2(r=dn()){return/firefox\//i.test(r)}function x2(r=dn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b2(r=dn()){return/crios\//i.test(r)}function w2(r=dn()){return/iemobile/i.test(r)}function _2(r=dn()){return/android/i.test(r)}function E2(r=dn()){return/blackberry/i.test(r)}function N2(r=dn()){return/webos/i.test(r)}function cg(r=dn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Jj(r=dn()){var e;return cg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eA(){return hS()&&document.documentMode===10}function T2(r=dn()){return cg(r)||_2(r)||N2(r)||E2(r)||/windows phone/i.test(r)||w2(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(r,e=[]){let t;switch(r){case"Browser":t=eb(dn());break;case"Worker":t=`${eb(dn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ta}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((d,f)=>{try{const p=e(c);d(p)}catch(p){f(p)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(r,e={}){return ks(r,"GET","/v2/passwordPolicy",Ci(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=6;class sA{constructor(e){var t,s,a,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:rA,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,c,d,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tb(this),this.idTokenSubscription=new tb(this),this.beforeStateQueue=new tA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ws(t)),this._initializationPromise=this.queue(async()=>{var s,a,c;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hd(this,{idToken:e}),s=await lr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_n(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===f)&&(p!=null&&p.user)&&(a=p.user,c=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Pj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Es(this));const t=e?vt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nA(this),t=new sA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await Zj(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ws(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[ws(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,a);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Dj(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ri(r){return vt(r)}class tb{constructor(e){this.auth=e,this.observer=null,this.addObserver=bS(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aA(r){fh=r}function j2(r){return fh.loadJS(r)}function oA(){return fh.recaptchaEnterpriseScript}function lA(){return fh.gapiScript}function cA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class uA{constructor(){this.enterprise=new dA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class dA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const hA="recaptcha-enterprise",A2="NO_RECAPTCHA";class fA{constructor(e){this.type=hA,this.auth=Ri(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,f)=>{Hj(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new qj(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(p=>{f(p)})})}function a(c,d,f){const p=window.grecaptcha;Yx(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{d(g)}).catch(()=>{d(A2)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uA().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(f=>{if(!t&&Yx(window.grecaptcha))a(f,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=oA();p.length!==0&&(p+=f),j2(p).then(()=>{a(f,c,d)}).catch(g=>{d(g)})}}).catch(f=>{d(f)})})}}async function nb(r,e,t,s=!1,a=!1){const c=new fA(r);let d;if(a)d=A2;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Sp(r,e,t,s,a){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await nb(r,e,t,t==="getOobCode");return s(r,d)}else return s(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await nb(r,e,t,t==="getOobCode");return s(r,f)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(r,e){const t=hh(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),c=t.getOptions();if(xi(c,e??{}))return a;Zn(a,"already-initialized")}return t.initialize({options:e})}function pA(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ws);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function gA(r,e,t){const s=Ri(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,c=C2(e),{host:d,port:f}=yA(e),p=f===null?"":`:${f}`,g={url:`${c}//${d}${p}/`},v=Object.freeze({host:d,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(xi(g,s.config.emulator)&&xi(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,vA()}function C2(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function yA(r){const e=C2(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const c=a[1];return{host:c,port:rb(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:rb(d)}}}function rb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function vA(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,t){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function xA(r,e){return ks(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(r,e){return Pc(r,"POST","/v1/accounts:signInWithPassword",Ci(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(r,e){return Pc(r,"POST","/v1/accounts:signInWithEmailLink",Ci(r,e))}async function _A(r,e){return Pc(r,"POST","/v1/accounts:signInWithEmailLink",Ci(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends ug{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new _c(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new _c(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sp(e,t,"signInWithPassword",bA);case"emailLink":return wA(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sp(e,s,"signUpPassword",xA);case"emailLink":return _A(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(r,e){return Pc(r,"POST","/v1/accounts:signInWithIdp",Ci(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="http://localhost";class ba extends ug{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,c=sg(t,["providerId","signInMethod"]);if(!s||!a)return null;const d=new ba(s,a);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return jo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,jo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jo(e,t)}buildRequest(){const e={requestUri:EA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TA(r){const e=lc(cc(r)).link,t=e?lc(cc(e)).deep_link_id:null,s=lc(cc(r)).deep_link_id;return(s?lc(cc(s)).link:null)||s||t||e||r}class dg{constructor(e){var t,s,a,c,d,f;const p=lc(cc(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(s=p.oobCode)!==null&&s!==void 0?s:null,b=NA((a=p.mode)!==null&&a!==void 0?a:null);Se(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=TA(e);try{return new dg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,t){return _c._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=dg.parseLink(t);return Se(s,"argument-error"),_c._fromEmailAndCode(e,s.code,s.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends hg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Vc{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ba._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return xs.credential(t,s)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Vc{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Vc{constructor(){super("twitter.com")}static credential(e,t){return ba._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ui.credential(t,s)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(r,e){return Pc(r,"POST","/v1/accounts:signUp",Ci(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const c=await lr._fromIdTokenResponse(e,s,a),d=sb(s);return new wa({user:c,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=sb(s);return new wa({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function sb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends qr{constructor(e,t,s,a){var c;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Wd.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new Wd(e,t,s,a)}}function R2(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wd._fromErrorAndOperation(r,c,e,s):c})}async function jA(r,e,t=!1){const s=await Co(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return wa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(r,e,t=!1){const{auth:s}=r;if(_n(s.app))return Promise.reject(Es(s));const a="reauthenticate";try{const c=await Co(r,R2(s,a,e,r),t);Se(c.idToken,s,"internal-error");const d=lg(c.idToken);Se(d,s,"internal-error");const{sub:f}=d;return Se(r.uid===f,s,"user-mismatch"),wa._forOperation(r,a,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Zn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(r,e,t=!1){if(_n(r.app))return Promise.reject(Es(r));const s="signIn",a=await R2(r,s,e),c=await wa._fromIdTokenResponse(r,s,a);return t||await r._updateCurrentUser(c.user),c}async function CA(r,e){return k2(Ri(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(r){const e=Ri(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RA(r,e,t){if(_n(r.app))return Promise.reject(Es(r));const s=Ri(r),d=await Sp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SA).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&I2(r),p}),f=await wa._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(f.user),f}function kA(r,e,t){return _n(r.app)?Promise.reject(Es(r)):CA(vt(r),Bo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&I2(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(r,e){return ks(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=vt(r),c={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await Co(s,IA(s.auth,c));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const f=s.providerData.find(({providerId:p})=>p==="password");f&&(f.displayName=s.displayName,f.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(r,e){return vt(r).setPersistence(e)}function D2(r,e,t,s){return vt(r).onIdTokenChanged(e,t,s)}function LA(r,e,t){return vt(r).beforeAuthStateChanged(e,t)}function OA(r,e,t,s){return vt(r).onAuthStateChanged(e,t,s)}function PA(r){return vt(r).signOut()}const $d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($d,"1"),this.storage.removeItem($d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=1e3,UA=10;class L2 extends M2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,f,p)=>{this.notifyListeners(d,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);eA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,UA):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},VA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}L2.type="LOCAL";const O2=L2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2 extends M2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}P2.type="SESSION";const V2=P2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new mh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:c}=t.data,d=this.handlersMap[a];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(d).map(async g=>g(t.origin,c)),p=await zA(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,d;return new Promise((f,p)=>{const g=fg("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:a,onMessage(b){const E=b;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(E.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),a.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function FA(r){Dr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function qA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HA(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function GA(){return U2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="firebaseLocalStorageDb",WA=1,Qd="firebaseLocalStorage",B2="fbase_key";class Uc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ph(r,e){return r.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function $A(){const r=indexedDB.deleteDatabase(z2);return new Uc(r).toPromise()}function jp(){const r=indexedDB.open(z2,WA);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Qd,{keyPath:B2})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Qd)?e(s):(s.close(),await $A(),e(await jp()))})})}async function ib(r,e,t){const s=ph(r,!0).put({[B2]:e,value:t});return new Uc(s).toPromise()}async function QA(r,e){const t=ph(r,!1).get(e),s=await new Uc(t).toPromise();return s===void 0?null:s.value}function ab(r,e){const t=ph(r,!0).delete(e);return new Uc(t).toPromise()}const YA=800,KA=3;class F2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>KA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(GA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await qA(),!this.activeServiceWorker)return;this.sender=new BA(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await ib(e,$d,"1"),await ab(e,$d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>ib(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>QA(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ab(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=ph(a,!1).getAll();return new Uc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:c}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F2.type="LOCAL";const XA=F2;new Oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(r,e){return e?ws(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends ug{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ZA(r){return k2(r.auth,new mg(r),r.bypassAuthState)}function JA(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),AA(t,new mg(r),r.bypassAuthState)}async function eC(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),jA(t,new mg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,t,s,a,c=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:c,error:d,type:f}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZA;case"linkViaPopup":case"linkViaRedirect":return eC;case"reauthViaPopup":case"reauthViaRedirect":return JA;default:Zn(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new Oc(2e3,1e4);async function nC(r,e,t){if(_n(r.app))return Promise.reject(ur(r,"operation-not-supported-in-this-environment"));const s=Ri(r);Mj(r,e,hg);const a=q2(s,t);return new ga(s,"signInViaPopup",e,a).executeNotNull()}class ga extends H2{constructor(e,t,s,a,c){super(e,t,a,c),this.provider=s,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tC.get())};e()}}ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="pendingRedirect",Rd=new Map;class sC extends H2{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Rd.get(this.auth._key());if(!e){try{const s=await iC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Rd.set(this.auth._key(),e)}return this.bypassAuthState||Rd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iC(r,e){const t=lC(e),s=oC(r);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function aC(r,e){Rd.set(r._key(),e)}function oC(r){return ws(r._redirectPersistence)}function lC(r){return Cd(rC,r.config.apiKey,r.name)}async function cC(r,e,t=!1){if(_n(r.app))return Promise.reject(Es(r));const s=Ri(r),a=q2(s,e),d=await new sC(s,a,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=10*60*1e3;class dC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!G2(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(ur(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uC&&this.cachedEventUids.clear(),this.cachedEventUids.has(ob(e))}saveEventToCache(e){this.cachedEventUids.add(ob(e)),this.lastProcessedEventTime=Date.now()}}function ob(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function G2({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G2(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(r,e={}){return ks(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pC=/^https?/;async function gC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await fC(r);for(const t of e)try{if(yC(t))return}catch{}Zn(r,"unauthorized-domain")}function yC(r){const e=Np(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!pC.test(t))return!1;if(mC.test(r))return s===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new Oc(3e4,6e4);function lb(){const r=Dr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function xC(r){return new Promise((e,t)=>{var s,a,c;function d(){lb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lb(),t(ur(r,"network-request-failed"))},timeout:vC.get()})}if(!((a=(s=Dr().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((c=Dr().gapi)===null||c===void 0)&&c.load)d();else{const f=cA("iframefcb");return Dr()[f]=()=>{gapi.load?d():t(ur(r,"network-request-failed"))},j2(`${lA()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw kd=null,e})}let kd=null;function bC(r){return kd=kd||xC(r),kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new Oc(5e3,15e3),_C="__/auth/iframe",EC="emulator/auth/iframe",NC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SC(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?og(e,EC):`https://${r.config.authDomain}/${_C}`,s={apiKey:e.apiKey,appName:r.name,v:Ta},a=TC.get(r.config.apiHost);a&&(s.eid=a);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Lc(s).slice(1)}`}async function jC(r){const e=await bC(r),t=Dr().gapi;return Se(t,r,"internal-error"),e.open({where:document.body,url:SC(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NC,dontclear:!0},s=>new Promise(async(a,c)=>{await s.restyle({setHideOnLeave:!1});const d=ur(r,"network-request-failed"),f=Dr().setTimeout(()=>{c(d)},wC.get());function p(){Dr().clearTimeout(f),a(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CC=500,RC=600,kC="_blank",IC="http://localhost";class cb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DC(r,e,t,s=CC,a=RC){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p=Object.assign(Object.assign({},AC),{width:s.toString(),height:a.toString(),top:c,left:d}),g=dn().toLowerCase();t&&(f=b2(g)?kC:t),v2(g)&&(e=e||IC,p.scrollbars="yes");const v=Object.entries(p).reduce((E,[T,M])=>`${E}${T}=${M},`,"");if(Jj(g)&&f!=="_self")return MC(e||"",f),new cb(null);const b=window.open(e||"",f,v);Se(b,r,"popup-blocked");try{b.focus()}catch{}return new cb(b)}function MC(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="__/auth/handler",OC="emulator/auth/handler",PC=encodeURIComponent("fac");async function ub(r,e,t,s,a,c){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Ta,eventId:a};if(e instanceof hg){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",xS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))d[v]=b}if(e instanceof Vc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(d.scopes=v.join(","))}r.tenantId&&(d.tid=r.tenantId);const f=d;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await r._getAppCheckToken(),g=p?`#${PC}=${encodeURIComponent(p)}`:"";return`${VC(r)}?${Lc(f).slice(1)}${g}`}function VC({config:r}){return r.emulator?og(r,OC):`https://${r.authDomain}/${LC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="webStorageSupport";class UC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V2,this._completeRedirectFn=cC,this._overrideRedirectResult=aC}async _openPopup(e,t,s,a){var c;Ss((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await ub(e,t,s,Np(),a);return DC(e,d,fg())}async _openRedirect(e,t,s,a){await this._originValidation(e);const c=await ub(e,t,s,Np(),a);return FA(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:c}=this.eventManagers[t];return a?Promise.resolve(a):(Ss(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await jC(e),s=new dC(e);return t.register("authEvent",a=>(Se(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ep,{type:ep},a=>{var c;const d=(c=a==null?void 0:a[0])===null||c===void 0?void 0:c[ep];d!==void 0&&t(!!d),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return T2()||x2()||cg()}}const zC=UC;var db="@firebase/auth",hb="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qC(r){xa(new bi("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=s.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S2(r)},g=new iA(s,a,c,p);return pA(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),xa(new bi("auth-internal",e=>{const t=Ri(e.getProvider("auth").getImmediate());return(s=>new BC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(db,hb,FC(r)),Ir(db,hb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=5*60,GC=s2("authIdTokenMaxAge")||HC;let fb=null;const WC=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>GC)return;const a=t==null?void 0:t.token;fb!==a&&(fb=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function $C(r=rg()){const e=hh(r,"auth");if(e.isInitialized())return e.getImmediate();const t=mA(r,{popupRedirectResolver:zC,persistence:[XA,O2,V2]}),s=s2("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=WC(c.toString());LA(t,d,()=>d(t.currentUser)),D2(t,f=>d(f))}}const a=t2("auth");return a&&gA(t,`http://${a}`),t}function QC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}aA({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=a=>{const c=ur("internal-error");c.customData=a,t(c)},s.type="text/javascript",s.charset="UTF-8",QC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qC("Browser");var mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gi,W2;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,N){function D(){}D.prototype=N.prototype,C.D=N.prototype,C.prototype=new D,C.prototype.constructor=C,C.C=function(U,q,z){for(var I=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)I[Z-2]=arguments[Z];return N.prototype[q].apply(U,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,N,D){D||(D=0);var U=Array(16);if(typeof N=="string")for(var q=0;16>q;++q)U[q]=N.charCodeAt(D++)|N.charCodeAt(D++)<<8|N.charCodeAt(D++)<<16|N.charCodeAt(D++)<<24;else for(q=0;16>q;++q)U[q]=N[D++]|N[D++]<<8|N[D++]<<16|N[D++]<<24;N=C.g[0],D=C.g[1],q=C.g[2];var z=C.g[3],I=N+(z^D&(q^z))+U[0]+3614090360&4294967295;N=D+(I<<7&4294967295|I>>>25),I=z+(q^N&(D^q))+U[1]+3905402710&4294967295,z=N+(I<<12&4294967295|I>>>20),I=q+(D^z&(N^D))+U[2]+606105819&4294967295,q=z+(I<<17&4294967295|I>>>15),I=D+(N^q&(z^N))+U[3]+3250441966&4294967295,D=q+(I<<22&4294967295|I>>>10),I=N+(z^D&(q^z))+U[4]+4118548399&4294967295,N=D+(I<<7&4294967295|I>>>25),I=z+(q^N&(D^q))+U[5]+1200080426&4294967295,z=N+(I<<12&4294967295|I>>>20),I=q+(D^z&(N^D))+U[6]+2821735955&4294967295,q=z+(I<<17&4294967295|I>>>15),I=D+(N^q&(z^N))+U[7]+4249261313&4294967295,D=q+(I<<22&4294967295|I>>>10),I=N+(z^D&(q^z))+U[8]+1770035416&4294967295,N=D+(I<<7&4294967295|I>>>25),I=z+(q^N&(D^q))+U[9]+2336552879&4294967295,z=N+(I<<12&4294967295|I>>>20),I=q+(D^z&(N^D))+U[10]+4294925233&4294967295,q=z+(I<<17&4294967295|I>>>15),I=D+(N^q&(z^N))+U[11]+2304563134&4294967295,D=q+(I<<22&4294967295|I>>>10),I=N+(z^D&(q^z))+U[12]+1804603682&4294967295,N=D+(I<<7&4294967295|I>>>25),I=z+(q^N&(D^q))+U[13]+4254626195&4294967295,z=N+(I<<12&4294967295|I>>>20),I=q+(D^z&(N^D))+U[14]+2792965006&4294967295,q=z+(I<<17&4294967295|I>>>15),I=D+(N^q&(z^N))+U[15]+1236535329&4294967295,D=q+(I<<22&4294967295|I>>>10),I=N+(q^z&(D^q))+U[1]+4129170786&4294967295,N=D+(I<<5&4294967295|I>>>27),I=z+(D^q&(N^D))+U[6]+3225465664&4294967295,z=N+(I<<9&4294967295|I>>>23),I=q+(N^D&(z^N))+U[11]+643717713&4294967295,q=z+(I<<14&4294967295|I>>>18),I=D+(z^N&(q^z))+U[0]+3921069994&4294967295,D=q+(I<<20&4294967295|I>>>12),I=N+(q^z&(D^q))+U[5]+3593408605&4294967295,N=D+(I<<5&4294967295|I>>>27),I=z+(D^q&(N^D))+U[10]+38016083&4294967295,z=N+(I<<9&4294967295|I>>>23),I=q+(N^D&(z^N))+U[15]+3634488961&4294967295,q=z+(I<<14&4294967295|I>>>18),I=D+(z^N&(q^z))+U[4]+3889429448&4294967295,D=q+(I<<20&4294967295|I>>>12),I=N+(q^z&(D^q))+U[9]+568446438&4294967295,N=D+(I<<5&4294967295|I>>>27),I=z+(D^q&(N^D))+U[14]+3275163606&4294967295,z=N+(I<<9&4294967295|I>>>23),I=q+(N^D&(z^N))+U[3]+4107603335&4294967295,q=z+(I<<14&4294967295|I>>>18),I=D+(z^N&(q^z))+U[8]+1163531501&4294967295,D=q+(I<<20&4294967295|I>>>12),I=N+(q^z&(D^q))+U[13]+2850285829&4294967295,N=D+(I<<5&4294967295|I>>>27),I=z+(D^q&(N^D))+U[2]+4243563512&4294967295,z=N+(I<<9&4294967295|I>>>23),I=q+(N^D&(z^N))+U[7]+1735328473&4294967295,q=z+(I<<14&4294967295|I>>>18),I=D+(z^N&(q^z))+U[12]+2368359562&4294967295,D=q+(I<<20&4294967295|I>>>12),I=N+(D^q^z)+U[5]+4294588738&4294967295,N=D+(I<<4&4294967295|I>>>28),I=z+(N^D^q)+U[8]+2272392833&4294967295,z=N+(I<<11&4294967295|I>>>21),I=q+(z^N^D)+U[11]+1839030562&4294967295,q=z+(I<<16&4294967295|I>>>16),I=D+(q^z^N)+U[14]+4259657740&4294967295,D=q+(I<<23&4294967295|I>>>9),I=N+(D^q^z)+U[1]+2763975236&4294967295,N=D+(I<<4&4294967295|I>>>28),I=z+(N^D^q)+U[4]+1272893353&4294967295,z=N+(I<<11&4294967295|I>>>21),I=q+(z^N^D)+U[7]+4139469664&4294967295,q=z+(I<<16&4294967295|I>>>16),I=D+(q^z^N)+U[10]+3200236656&4294967295,D=q+(I<<23&4294967295|I>>>9),I=N+(D^q^z)+U[13]+681279174&4294967295,N=D+(I<<4&4294967295|I>>>28),I=z+(N^D^q)+U[0]+3936430074&4294967295,z=N+(I<<11&4294967295|I>>>21),I=q+(z^N^D)+U[3]+3572445317&4294967295,q=z+(I<<16&4294967295|I>>>16),I=D+(q^z^N)+U[6]+76029189&4294967295,D=q+(I<<23&4294967295|I>>>9),I=N+(D^q^z)+U[9]+3654602809&4294967295,N=D+(I<<4&4294967295|I>>>28),I=z+(N^D^q)+U[12]+3873151461&4294967295,z=N+(I<<11&4294967295|I>>>21),I=q+(z^N^D)+U[15]+530742520&4294967295,q=z+(I<<16&4294967295|I>>>16),I=D+(q^z^N)+U[2]+3299628645&4294967295,D=q+(I<<23&4294967295|I>>>9),I=N+(q^(D|~z))+U[0]+4096336452&4294967295,N=D+(I<<6&4294967295|I>>>26),I=z+(D^(N|~q))+U[7]+1126891415&4294967295,z=N+(I<<10&4294967295|I>>>22),I=q+(N^(z|~D))+U[14]+2878612391&4294967295,q=z+(I<<15&4294967295|I>>>17),I=D+(z^(q|~N))+U[5]+4237533241&4294967295,D=q+(I<<21&4294967295|I>>>11),I=N+(q^(D|~z))+U[12]+1700485571&4294967295,N=D+(I<<6&4294967295|I>>>26),I=z+(D^(N|~q))+U[3]+2399980690&4294967295,z=N+(I<<10&4294967295|I>>>22),I=q+(N^(z|~D))+U[10]+4293915773&4294967295,q=z+(I<<15&4294967295|I>>>17),I=D+(z^(q|~N))+U[1]+2240044497&4294967295,D=q+(I<<21&4294967295|I>>>11),I=N+(q^(D|~z))+U[8]+1873313359&4294967295,N=D+(I<<6&4294967295|I>>>26),I=z+(D^(N|~q))+U[15]+4264355552&4294967295,z=N+(I<<10&4294967295|I>>>22),I=q+(N^(z|~D))+U[6]+2734768916&4294967295,q=z+(I<<15&4294967295|I>>>17),I=D+(z^(q|~N))+U[13]+1309151649&4294967295,D=q+(I<<21&4294967295|I>>>11),I=N+(q^(D|~z))+U[4]+4149444226&4294967295,N=D+(I<<6&4294967295|I>>>26),I=z+(D^(N|~q))+U[11]+3174756917&4294967295,z=N+(I<<10&4294967295|I>>>22),I=q+(N^(z|~D))+U[2]+718787259&4294967295,q=z+(I<<15&4294967295|I>>>17),I=D+(z^(q|~N))+U[9]+3951481745&4294967295,C.g[0]=C.g[0]+N&4294967295,C.g[1]=C.g[1]+(q+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+q&4294967295,C.g[3]=C.g[3]+z&4294967295}s.prototype.u=function(C,N){N===void 0&&(N=C.length);for(var D=N-this.blockSize,U=this.B,q=this.h,z=0;z<N;){if(q==0)for(;z<=D;)a(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<N;)if(U[q++]=C.charCodeAt(z++),q==this.blockSize){a(this,U),q=0;break}}else for(;z<N;)if(U[q++]=C[z++],q==this.blockSize){a(this,U),q=0;break}}this.h=q,this.o+=N},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var N=1;N<C.length-8;++N)C[N]=0;var D=8*this.o;for(N=C.length-8;N<C.length;++N)C[N]=D&255,D/=256;for(this.u(C),C=Array(16),N=D=0;4>N;++N)for(var U=0;32>U;U+=8)C[D++]=this.g[N]>>>U&255;return C};function c(C,N){var D=f;return Object.prototype.hasOwnProperty.call(D,C)?D[C]:D[C]=N(C)}function d(C,N){this.h=N;for(var D=[],U=!0,q=C.length-1;0<=q;q--){var z=C[q]|0;U&&z==N||(D[q]=z,U=!1)}this.g=D}var f={};function p(C){return-128<=C&&128>C?c(C,function(N){return new d([N|0],0>N?-1:0)}):new d([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return b;if(0>C)return R(g(-C));for(var N=[],D=1,U=0;C>=D;U++)N[U]=C/D|0,D*=4294967296;return new d(N,0)}function v(C,N){if(C.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(C.charAt(0)=="-")return R(v(C.substring(1),N));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(N,8)),U=b,q=0;q<C.length;q+=8){var z=Math.min(8,C.length-q),I=parseInt(C.substring(q,q+z),N);8>z?(z=g(Math.pow(N,z)),U=U.j(z).add(g(I))):(U=U.j(D),U=U.add(g(I)))}return U}var b=p(0),E=p(1),T=p(16777216);r=d.prototype,r.m=function(){if(V(this))return-R(this).m();for(var C=0,N=1,D=0;D<this.g.length;D++){var U=this.i(D);C+=(0<=U?U:4294967296+U)*N,N*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if(V(this))return"-"+R(this).toString(C);for(var N=g(Math.pow(C,6)),D=this,U="";;){var q=F(D,N).g;D=L(D,q.j(N));var z=((0<D.g.length?D.g[0]:D.h)>>>0).toString(C);if(D=q,M(D))return z+U;for(;6>z.length;)z="0"+z;U=z+U}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(var N=0;N<C.g.length;N++)if(C.g[N]!=0)return!1;return!0}function V(C){return C.h==-1}r.l=function(C){return C=L(this,C),V(C)?-1:M(C)?0:1};function R(C){for(var N=C.g.length,D=[],U=0;U<N;U++)D[U]=~C.g[U];return new d(D,~C.h).add(E)}r.abs=function(){return V(this)?R(this):this},r.add=function(C){for(var N=Math.max(this.g.length,C.g.length),D=[],U=0,q=0;q<=N;q++){var z=U+(this.i(q)&65535)+(C.i(q)&65535),I=(z>>>16)+(this.i(q)>>>16)+(C.i(q)>>>16);U=I>>>16,z&=65535,I&=65535,D[q]=I<<16|z}return new d(D,D[D.length-1]&-2147483648?-1:0)};function L(C,N){return C.add(R(N))}r.j=function(C){if(M(this)||M(C))return b;if(V(this))return V(C)?R(this).j(R(C)):R(R(this).j(C));if(V(C))return R(this.j(R(C)));if(0>this.l(T)&&0>C.l(T))return g(this.m()*C.m());for(var N=this.g.length+C.g.length,D=[],U=0;U<2*N;U++)D[U]=0;for(U=0;U<this.g.length;U++)for(var q=0;q<C.g.length;q++){var z=this.i(U)>>>16,I=this.i(U)&65535,Z=C.i(q)>>>16,ce=C.i(q)&65535;D[2*U+2*q]+=I*ce,O(D,2*U+2*q),D[2*U+2*q+1]+=z*ce,O(D,2*U+2*q+1),D[2*U+2*q+1]+=I*Z,O(D,2*U+2*q+1),D[2*U+2*q+2]+=z*Z,O(D,2*U+2*q+2)}for(U=0;U<N;U++)D[U]=D[2*U+1]<<16|D[2*U];for(U=N;U<2*N;U++)D[U]=0;return new d(D,0)};function O(C,N){for(;(C[N]&65535)!=C[N];)C[N+1]+=C[N]>>>16,C[N]&=65535,N++}function S(C,N){this.g=C,this.h=N}function F(C,N){if(M(N))throw Error("division by zero");if(M(C))return new S(b,b);if(V(C))return N=F(R(C),N),new S(R(N.g),R(N.h));if(V(N))return N=F(C,R(N)),new S(R(N.g),N.h);if(30<C.g.length){if(V(C)||V(N))throw Error("slowDivide_ only works with positive integers.");for(var D=E,U=N;0>=U.l(C);)D=P(D),U=P(U);var q=$(D,1),z=$(U,1);for(U=$(U,2),D=$(D,2);!M(U);){var I=z.add(U);0>=I.l(C)&&(q=q.add(D),z=I),U=$(U,1),D=$(D,1)}return N=L(C,q.j(N)),new S(q,N)}for(q=b;0<=C.l(N);){for(D=Math.max(1,Math.floor(C.m()/N.m())),U=Math.ceil(Math.log(D)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),z=g(D),I=z.j(N);V(I)||0<I.l(C);)D-=U,z=g(D),I=z.j(N);M(z)&&(z=E),q=q.add(z),C=L(C,I)}return new S(q,C)}r.A=function(C){return F(this,C).h},r.and=function(C){for(var N=Math.max(this.g.length,C.g.length),D=[],U=0;U<N;U++)D[U]=this.i(U)&C.i(U);return new d(D,this.h&C.h)},r.or=function(C){for(var N=Math.max(this.g.length,C.g.length),D=[],U=0;U<N;U++)D[U]=this.i(U)|C.i(U);return new d(D,this.h|C.h)},r.xor=function(C){for(var N=Math.max(this.g.length,C.g.length),D=[],U=0;U<N;U++)D[U]=this.i(U)^C.i(U);return new d(D,this.h^C.h)};function P(C){for(var N=C.g.length+1,D=[],U=0;U<N;U++)D[U]=C.i(U)<<1|C.i(U-1)>>>31;return new d(D,C.h)}function $(C,N){var D=N>>5;N%=32;for(var U=C.g.length-D,q=[],z=0;z<U;z++)q[z]=0<N?C.i(z+D)>>>N|C.i(z+D+1)<<32-N:C.i(z+D);return new d(q,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,W2=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=v,gi=d}).apply(typeof mb<"u"?mb:typeof self<"u"?self:typeof window<"u"?window:{});var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $2,uc,Q2,Id,Ap,Y2,K2,X2;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,w){return h==Array.prototype||h==Object.prototype||(h[x]=w.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof yd=="object"&&yd];for(var x=0;x<h.length;++x){var w=h[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=t(this);function a(h,x){if(x)e:{var w=s;h=h.split(".");for(var k=0;k<h.length-1;k++){var Y=h[k];if(!(Y in w))break e;w=w[Y]}h=h[h.length-1],k=w[h],x=x(k),x!=k&&x!=null&&e(w,h,{configurable:!0,writable:!0,value:x})}}function c(h,x){h instanceof String&&(h+="");var w=0,k=!1,Y={next:function(){if(!k&&w<h.length){var ne=w++;return{value:x(ne,h[ne]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(h){return h||function(){return c(this,function(x,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},f=this||self;function p(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function g(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function v(h,x,w){return h.call.apply(h.bind,arguments)}function b(h,x,w){if(!h)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,k),h.apply(x,Y)}}return function(){return h.apply(x,arguments)}}function E(h,x,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,E.apply(null,arguments)}function T(h,x){var w=Array.prototype.slice.call(arguments,1);return function(){var k=w.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function M(h,x){function w(){}w.prototype=x.prototype,h.aa=x.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(k,Y,ne){for(var he=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)he[qe-2]=arguments[qe];return x.prototype[Y].apply(k,he)}}function V(h){const x=h.length;if(0<x){const w=Array(x);for(let k=0;k<x;k++)w[k]=h[k];return w}return[]}function R(h,x){for(let w=1;w<arguments.length;w++){const k=arguments[w];if(p(k)){const Y=h.length||0,ne=k.length||0;h.length=Y+ne;for(let he=0;he<ne;he++)h[Y+he]=k[he]}else h.push(k)}}class L{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function O(h){return/^[\s\xa0]*$/.test(h)}function S(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function F(h){return F[" "](h),h}F[" "]=function(){};var P=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function $(h,x,w){for(const k in h)x.call(w,h[k],k,h)}function C(h,x){for(const w in h)x.call(void 0,h[w],w,h)}function N(h){const x={};for(const w in h)x[w]=h[w];return x}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(h,x){let w,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(w in k)h[w]=k[w];for(let ne=0;ne<D.length;ne++)w=D[ne],Object.prototype.hasOwnProperty.call(k,w)&&(h[w]=k[w])}}function q(h){var x=1;h=h.split(":");const w=[];for(;0<x&&h.length;)w.push(h.shift()),x--;return h.length&&w.push(h.join(":")),w}function z(h){f.setTimeout(()=>{throw h},0)}function I(){var h=Ee;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class Z{constructor(){this.h=this.g=null}add(x,w){const k=ce.get();k.set(x,w),this.h?this.h.next=k:this.g=k,this.h=k}}var ce=new L(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let te,de=!1,Ee=new Z,H=()=>{const h=f.Promise.resolve(void 0);te=()=>{h.then(ae)}};var ae=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(w){z(w)}var x=ce;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}de=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};f.addEventListener("test",w,x),f.removeEventListener("test",w,x)}catch{}return h}();function Le(h,x){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(P){e:{try{F(x.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(x=null)}}else w=="mouseover"?x=h.fromElement:w=="mouseout"&&(x=h.toElement);this.relatedTarget=x,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:je[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Le.aa.h.call(this)}}M(Le,ue);var je={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Pn(h,x,w,k,Y){this.listener=h,this.proxy=null,this.src=x,this.type=w,this.capture=!!k,this.ha=Y,this.key=++Ze,this.da=this.fa=!1}function mr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Tn(h){this.src=h,this.g={},this.h=0}Tn.prototype.add=function(h,x,w,k,Y){var ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);var he=er(h,x,k,Y);return-1<he?(x=h[he],w||(x.fa=!1)):(x=new Pn(x,this.src,ne,!!k,Y),x.fa=w,h.push(x)),x};function Jn(h,x){var w=x.type;if(w in h.g){var k=h.g[w],Y=Array.prototype.indexOf.call(k,x,void 0),ne;(ne=0<=Y)&&Array.prototype.splice.call(k,Y,1),ne&&(mr(x),h.g[w].length==0&&(delete h.g[w],h.h--))}}function er(h,x,w,k){for(var Y=0;Y<h.length;++Y){var ne=h[Y];if(!ne.da&&ne.listener==x&&ne.capture==!!w&&ne.ha==k)return Y}return-1}var tr="closure_lm_"+(1e6*Math.random()|0),Mi={};function pe(h,x,w,k,Y){if(Array.isArray(x)){for(var ne=0;ne<x.length;ne++)pe(h,x[ne],w,k,Y);return null}return w=Wc(w),h&&h[At]?h.K(x,w,g(k)?!!k.capture:!1,Y):ve(h,x,w,!1,k,Y)}function ve(h,x,w,k,Y,ne){if(!x)throw Error("Invalid event type");var he=g(Y)?!!Y.capture:!!Y,qe=Ra(h);if(qe||(h[tr]=qe=new Tn(h)),w=qe.add(x,w,k,he,ne),w.proxy)return w;if(k=ke(),w.proxy=k,k.src=h,k.listener=w,h.addEventListener)we||(Y=he),Y===void 0&&(Y=!1),h.addEventListener(x.toString(),k,Y);else if(h.attachEvent)h.attachEvent(Li(x.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ke(){function h(w){return x.call(h.src,h.listener,w)}const x=zh;return h}function Gr(h,x,w,k,Y){if(Array.isArray(x))for(var ne=0;ne<x.length;ne++)Gr(h,x[ne],w,k,Y);else k=g(k)?!!k.capture:!!k,w=Wc(w),h&&h[At]?(h=h.i,x=String(x).toString(),x in h.g&&(ne=h.g[x],w=er(ne,w,k,Y),-1<w&&(mr(ne[w]),Array.prototype.splice.call(ne,w,1),ne.length==0&&(delete h.g[x],h.h--)))):h&&(h=Ra(h))&&(x=h.g[x.toString()],h=-1,x&&(h=er(x,w,k,Y)),(w=-1<h?x[h]:null)&&Ca(w))}function Ca(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[At])Jn(x.i,h);else{var w=h.type,k=h.proxy;x.removeEventListener?x.removeEventListener(w,k,h.capture):x.detachEvent?x.detachEvent(Li(w),k):x.addListener&&x.removeListener&&x.removeListener(k),(w=Ra(x))?(Jn(w,h),w.h==0&&(w.src=null,x[tr]=null)):mr(h)}}}function Li(h){return h in Mi?Mi[h]:Mi[h]="on"+h}function zh(h,x){if(h.da)h=!0;else{x=new Le(x,this);var w=h.listener,k=h.ha||h.src;h.fa&&Ca(h),h=w.call(k,x)}return h}function Ra(h){return h=h[tr],h instanceof Tn?h:null}var Yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wc(h){return typeof h=="function"?h:(h[Yo]||(h[Yo]=function(x){return h.handleEvent(x)}),h[Yo])}function bt(){fe.call(this),this.i=new Tn(this),this.M=this,this.F=null}M(bt,fe),bt.prototype[At]=!0,bt.prototype.removeEventListener=function(h,x,w,k){Gr(this,h,x,w,k)};function Je(h,x){var w,k=h.F;if(k)for(w=[];k;k=k.F)w.push(k);if(h=h.M,k=x.type||x,typeof x=="string")x=new ue(x,h);else if(x instanceof ue)x.target=x.target||h;else{var Y=x;x=new ue(k,h),U(x,Y)}if(Y=!0,w)for(var ne=w.length-1;0<=ne;ne--){var he=x.g=w[ne];Y=Sn(he,k,!0,x)&&Y}if(he=x.g=h,Y=Sn(he,k,!0,x)&&Y,Y=Sn(he,k,!1,x)&&Y,w)for(ne=0;ne<w.length;ne++)he=x.g=w[ne],Y=Sn(he,k,!1,x)&&Y}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var w=h.g[x],k=0;k<w.length;k++)mr(w[k]);delete h.g[x],h.h--}}this.F=null},bt.prototype.K=function(h,x,w,k){return this.i.add(String(h),x,!1,w,k)},bt.prototype.L=function(h,x,w,k){return this.i.add(String(h),x,!0,w,k)};function Sn(h,x,w,k){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var Y=!0,ne=0;ne<x.length;++ne){var he=x[ne];if(he&&!he.da&&he.capture==w){var qe=he.listener,Ot=he.ha||he.src;he.fa&&Jn(h.i,he),Y=qe.call(Ot,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function nn(h,x,w){if(typeof h=="function")w&&(h=E(h,w));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:f.setTimeout(h,x||0)}function $c(h){h.g=nn(()=>{h.g=null,h.i&&(h.i=!1,$c(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Bh extends fe{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:$c(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oi(h){fe.call(this),this.h=h,this.g={}}M(Oi,fe);var Pi=[];function Vi(h){$(h.g,function(x,w){this.g.hasOwnProperty(w)&&Ca(x)},h),h.g={}}Oi.prototype.N=function(){Oi.aa.N.call(this),Vi(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=f.JSON.stringify,ka=f.JSON.parse,Ui=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Ko(){}Ko.prototype.h=null;function Xo(h){return h.h||(h.h=h.i())}function Zo(){}var Wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $r(){ue.call(this,"d")}M($r,ue);function Jo(){ue.call(this,"c")}M(Jo,ue);var pr={},el=null;function Ds(){return el=el||new bt}pr.La="serverreachability";function Ia(h){ue.call(this,pr.La,h)}M(Ia,ue);function Ms(h){const x=Ds();Je(x,new Ia(x))}pr.STAT_EVENT="statevent";function Qc(h,x){ue.call(this,pr.STAT_EVENT,h),this.stat=x}M(Qc,ue);function ht(h){const x=Ds();Je(x,new Qc(x,h))}pr.Ma="timingevent";function Lt(h,x){ue.call(this,pr.Ma,h),this.size=x}M(Lt,ue);function Ct(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},x)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function tl(h,x,w,k,Y,ne){h.info(function(){if(h.g)if(ne)for(var he="",qe=ne.split("&"),Ot=0;Ot<qe.length;Ot++){var He=qe[Ot].split("=");if(1<He.length){var Ft=He[0];He=He[1];var Pt=Ft.split("_");he=2<=Pt.length&&Pt[1]=="type"?he+(Ft+"="+He+"&"):he+(Ft+"=redacted&")}}else he=null;else he=ne;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+x+`
`+w+`
`+he})}function Fh(h,x,w,k,Y,ne,he){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+x+`
`+w+`
`+ne+" "+he})}function Ls(h,x,w,k){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+zi(h,w)+(k?" "+k:"")})}function Yc(h,x){h.info(function(){return"TIMEOUT: "+x})}Vn.prototype.info=function(){};function zi(h,x){if(!h.g)return x;if(!x)return null;try{var w=JSON.parse(x);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var k=w[h];if(!(2>k.length)){var Y=k[1];if(Array.isArray(Y)&&!(1>Y.length)){var ne=Y[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var he=1;he<Y.length;he++)Y[he]=""}}}}return nr(w)}catch{return x}}var Os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function yr(){}M(yr,Ko),yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},gr=new yr;function hn(h,x,w,k){this.j=h,this.i=x,this.l=w,this.R=k||1,this.U=new Oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Et}function Et(){this.i=null,this.g="",this.h=!1}var nl={},Da={};function rr(h,x,w){h.L=1,h.v=Gi(jn(x)),h.m=w,h.P=!0,Yr(h,null)}function Yr(h,x){h.F=Date.now(),Bi(h),h.A=jn(h.v);var w=h.A,k=h.R;Array.isArray(k)||(k=[String(k)]),ll(w.i,"t",k),h.C=0,w=h.j.J,h.h=new Et,h.g=du(h.j,w?x:null,!h.m),0<h.O&&(h.M=new Bh(E(h.Y,h,h.g),h.O)),x=h.U,w=h.g,k=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Pi[0]=Y.toString()),Y=Pi);for(var ne=0;ne<Y.length;ne++){var he=pe(w,Y[ne],k||x.handleEvent,!1,x.h||x);if(!he)break;x.g[he.key]=he}x=h.H?N(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),Ms(),tl(h.i,h.u,h.A,h.l,h.R,h.m)}hn.prototype.ca=function(h){h=h.target;const x=this.M;x&&Fn(h)==3?x.j():this.Y(h)},hn.prototype.Y=function(h){try{if(h==this.g)e:{const Pt=Fn(this.g);var x=this.g.Ba();const rs=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||ru(this.g)))){this.J||Pt!=4||x==7||(x==8||0>=rs?Ms(3):Ms(2)),Ps(this);var w=this.g.Z();this.X=w;t:if(Kc(this)){var k=ru(this.g);h="";var Y=k.length,ne=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),vr(this);var he="";break t}this.h.i=new f.TextDecoder}for(x=0;x<Y;x++)this.h.h=!0,h+=this.h.i.decode(k[x],{stream:!(ne&&x==Y-1)});k.length=0,this.h.g+=h,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=w==200,Fh(this.i,this.u,this.A,this.l,this.R,Pt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Ot=this.g;if((qe=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(qe)){var He=qe;break t}}He=null}if(w=He)Ls(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fi(this,w);else{this.o=!1,this.s=3,ht(12),Qt(this),vr(this);break e}}if(this.P){w=!0;let Yt;for(;!this.J&&this.C<he.length;)if(Yt=Xc(this,he),Yt==Da){Pt==4&&(this.s=4,ht(14),w=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==nl){this.s=4,ht(15),Ls(this.i,this.l,he,"[Invalid Chunk]"),w=!1;break}else Ls(this.i,this.l,Yt,null),Fi(this,Yt);if(Kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||he.length!=0||this.h.h||(this.s=1,ht(16),w=!1),this.o=this.o&&w,!w)Ls(this.i,this.l,he,"[Invalid Chunked Response]"),Qt(this),vr(this);else if(0<he.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Ji(Ft),Ft.M=!0,ht(11))}}else Ls(this.i,this.l,he,null),Fi(this,he);Pt==4&&Qt(this),this.o&&!this.J&&(Pt==4?lu(this.j,this):(this.o=!1,Bi(this)))}else $h(this.g),w==400&&0<he.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Qt(this),vr(this)}}}catch{}finally{}};function Kc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Xc(h,x){var w=h.C,k=x.indexOf(`
`,w);return k==-1?Da:(w=Number(x.substring(w,k)),isNaN(w)?nl:(k+=1,k+w>x.length?Da:(x=x.slice(k,k+w),h.C=k+w,x)))}hn.prototype.cancel=function(){this.J=!0,Qt(this)};function Bi(h){h.S=Date.now()+h.I,Zc(h,h.I)}function Zc(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ct(E(h.ba,h),x)}function Ps(h){h.B&&(f.clearTimeout(h.B),h.B=null)}hn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Yc(this.i,this.A),this.L!=2&&(Ms(),ht(17)),Qt(this),this.s=2,vr(this)):Zc(this,this.S-h)};function vr(h){h.j.G==0||h.J||lu(h.j,h)}function Qt(h){Ps(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,Vi(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function Fi(h,x){try{var w=h.j;if(w.G!=0&&(w.g==h||rl(w.h,h))){if(!h.K&&rl(w.h,h)&&w.G==3){try{var k=w.Da.g.parse(x)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)Ga(w),qa(w);else break e;fl(w),ht(18)}}else w.za=Y[1],0<w.za-w.T&&37500>Y[2]&&w.F&&w.v==0&&!w.C&&(w.C=Ct(E(w.Za,w),6e3));if(1>=La(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ns(w,11)}else if((h.K||w.g==h)&&Ga(w),!O(x))for(Y=w.Da.g.parse(x),x=0;x<Y.length;x++){let He=Y[x];if(w.T=He[0],He=He[1],w.G==2)if(He[0]=="c"){w.K=He[1],w.ia=He[2];const Ft=He[3];Ft!=null&&(w.la=Ft,w.j.info("VER="+w.la));const Pt=He[4];Pt!=null&&(w.Aa=Pt,w.j.info("SVER="+w.Aa));const rs=He[5];rs!=null&&typeof rs=="number"&&0<rs&&(k=1.5*rs,w.L=k,w.j.info("backChannelRequestTimeoutMs_="+k)),k=w;const Yt=h.g;if(Yt){const Tr=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var ne=k.h;ne.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Oa(ne,ne.h),ne.h=null))}if(k.D){const pl=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(k.ya=pl,nt(k.I,k.D,pl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),k=w;var he=h;if(k.qa=uu(k,k.J?k.ia:null,k.W),he.K){fn(k.h,he);var qe=he,Ot=k.L;Ot&&(qe.I=Ot),qe.B&&(Ps(qe),Bi(qe)),k.g=he}else au(k);0<w.i.length&&Ha(w)}else He[0]!="stop"&&He[0]!="close"||ns(w,7);else w.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?ns(w,7):dl(w):He[0]!="noop"&&w.l&&w.l.ta(He),w.v=0)}}Ms(4)}catch{}}var Jc=class{constructor(h,x){this.g=h,this.map=x}};function Kr(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function La(h){return h.h?1:h.g?h.g.size:0}function rl(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Oa(h,x){h.g?h.g.add(x):h.h=x}function fn(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Kr.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const w of h.g.values())x=x.concat(w.D);return x}return V(h.i)}function qh(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var x=[],w=h.length,k=0;k<w;k++)x.push(h[k]);return x}x=[],w=0;for(k in h)x[w++]=h[k];return x}function Pa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var x=[];h=h.length;for(var w=0;w<h;w++)x.push(w);return x}x=[],w=0;for(const k in h)x[w++]=k;return x}}}function il(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var w=Pa(h),k=qh(h),Y=k.length,ne=0;ne<Y;ne++)x.call(void 0,k[ne],w&&w[ne],h)}var qi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hh(h,x){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var k=h[w].indexOf("="),Y=null;if(0<=k){var ne=h[w].substring(0,k);Y=h[w].substring(k+1)}else ne=h[w];x(ne,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Rt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Rt){this.h=h.h,Hi(this,h.j),this.o=h.o,this.g=h.g,Vs(this,h.s),this.l=h.l;var x=h.i,w=new Zr;w.i=x.i,x.g&&(w.g=new Map(x.g),w.h=x.h),Xr(this,w),this.m=h.m}else h&&(x=String(h).match(qi))?(this.h=!1,Hi(this,x[1]||"",!0),this.o=Un(x[2]||""),this.g=Un(x[3]||"",!0),Vs(this,x[4]),this.l=Un(x[5]||"",!0),Xr(this,x[6]||"",!0),this.m=Un(x[7]||"")):(this.h=!1,this.i=new Zr(null,this.h))}Rt.prototype.toString=function(){var h=[],x=this.j;x&&h.push(Wi(x,al,!0),":");var w=this.g;return(w||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Wi(x,al,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Wi(w,w.charAt(0)=="/"?Gh:ol,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Wi(w,Va)),h.join("")};function jn(h){return new Rt(h)}function Hi(h,x,w){h.j=w?Un(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Vs(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function Xr(h,x,w){x instanceof Zr?(h.i=x,tu(h.i,h.h)):(w||(x=Wi(x,Wh)),h.i=new Zr(x,h.h))}function nt(h,x,w){h.i.set(x,w)}function Gi(h){return nt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Un(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Wi(h,x,w){return typeof h=="string"?(h=encodeURI(h).replace(x,eu),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function eu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var al=/[#\/\?@]/g,ol=/[#\?:]/g,Gh=/[#\?]/g,Wh=/[#\?@]/g,Va=/#/g;function Zr(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function zn(h){h.g||(h.g=new Map,h.h=0,h.i&&Hh(h.i,function(x,w){h.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}r=Zr.prototype,r.add=function(h,x){zn(this),this.i=null,h=xr(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(x),this.h+=1,this};function Jr(h,x){zn(h),x=xr(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function es(h,x){return zn(h),x=xr(h,x),h.g.has(x)}r.forEach=function(h,x){zn(this),this.g.forEach(function(w,k){w.forEach(function(Y){h.call(x,Y,k,this)},this)},this)},r.na=function(){zn(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),w=[];for(let k=0;k<x.length;k++){const Y=h[k];for(let ne=0;ne<Y.length;ne++)w.push(x[k])}return w},r.V=function(h){zn(this);let x=[];if(typeof h=="string")es(this,h)&&(x=x.concat(this.g.get(xr(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)x=x.concat(h[w])}return x},r.set=function(h,x){return zn(this),this.i=null,h=xr(this,h),es(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},r.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function ll(h,x,w){Jr(h,x),0<w.length&&(h.i=null,h.g.set(xr(h,x),V(w)),h.h+=w.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var w=0;w<x.length;w++){var k=x[w];const ne=encodeURIComponent(String(k)),he=this.V(k);for(k=0;k<he.length;k++){var Y=ne;he[k]!==""&&(Y+="="+encodeURIComponent(String(he[k]))),h.push(Y)}}return this.i=h.join("&")};function xr(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function tu(h,x){x&&!h.j&&(zn(h),h.i=null,h.g.forEach(function(w,k){var Y=k.toLowerCase();k!=Y&&(Jr(this,k),ll(this,Y,w))},h)),h.j=x}function $i(h,x){const w=new Vn;if(f.Image){const k=new Image;k.onload=T(Bn,w,"TestLoadImage: loaded",!0,x,k),k.onerror=T(Bn,w,"TestLoadImage: error",!1,x,k),k.onabort=T(Bn,w,"TestLoadImage: abort",!1,x,k),k.ontimeout=T(Bn,w,"TestLoadImage: timeout",!1,x,k),f.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else x(!1)}function sr(h,x){const w=new Vn,k=new AbortController,Y=setTimeout(()=>{k.abort(),Bn(w,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:k.signal}).then(ne=>{clearTimeout(Y),ne.ok?Bn(w,"TestPingServer: ok",!0,x):Bn(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Y),Bn(w,"TestPingServer: error",!1,x)})}function Bn(h,x,w,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(w)}catch{}}function Qi(){this.g=new Ui}function br(h,x,w){const k=w||"";try{il(h,function(Y,ne){let he=Y;g(Y)&&(he=nr(Y)),x.push(k+ne+"="+encodeURIComponent(he))})}catch(Y){throw x.push(k+"type="+encodeURIComponent("_badmap")),Y}}function Us(h){this.l=h.Ub||null,this.j=h.eb||!1}M(Us,Ko),Us.prototype.g=function(){return new ts(this.l,this.j)},Us.prototype.i=function(h){return function(){return h}}({});function ts(h,x){bt.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(ts,bt),r=ts.prototype,r.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,_r(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||f).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function cl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?wr(this):_r(this),this.readyState==3&&cl(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,wr(this))},r.Qa=function(h){this.g&&(this.response=h,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,_r(h)}r.setRequestHeader=function(h,x){this.u.append(h,x)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=x.next();return h.join(`\r
`)};function _r(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ul(h){let x="";return $(h,function(w,k){x+=k,x+=":",x+=w,x+=`\r
`}),x}function Bt(h,x,w){e:{for(k in w){var k=!1;break e}k=!0}k||(w=ul(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):nt(h,x,w))}function Xe(h){bt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Xe,bt);var Ua=/^https?$/i,Yi=["POST","PUT"];r=Xe.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,x,w,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?Xo(this.o):Xo(gr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(ne){nu(this,ne);return}if(h=w||"",w=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)w.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ne of k.keys())w.set(ne,k.get(ne));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(w.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Yi,x,void 0))||k||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,he]of w)this.g.setRequestHeader(ne,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ki(this),this.u=!0,this.g.send(h),this.u=!1}catch(ne){nu(this,ne)}};function nu(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,za(h),Er(h)}function za(h){h.A||(h.A=!0,Je(h,"complete"),Je(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Je(this,"complete"),Je(this,"abort"),Er(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Er(this,!0)),Xe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ba(this):this.bb())},r.bb=function(){Ba(this)};function Ba(h){if(h.h&&typeof d<"u"&&(!h.v[1]||Fn(h)!=4||h.Z()!=2)){if(h.u&&Fn(h)==4)nn(h.Ea,0,h);else if(Je(h,"readystatechange"),Fn(h)==4){h.h=!1;try{const he=h.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var k;if(k=he===0){var Y=String(h.D).match(qi)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),k=!Ua.test(Y?Y.toLowerCase():"")}w=k}if(w)Je(h,"complete"),Je(h,"success");else{h.m=6;try{var ne=2<Fn(h)?h.g.statusText:""}catch{ne=""}h.l=ne+" ["+h.Z()+"]",za(h)}}finally{Er(h)}}}}function Er(h,x){if(h.g){Ki(h);const w=h.g,k=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||Je(h,"ready");try{w.onreadystatechange=k}catch{}}}function Ki(h){h.I&&(f.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function Fn(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),ka(x)}};function ru(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $h(h){const x={};h=(h.g&&2<=Fn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(O(h[k]))continue;var w=q(h[k]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ne=x[Y]||[];x[Y]=ne,ne.push(w)}C(x,function(k){return k.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(h,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||x}function Fa(h){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xi("baseRetryDelayMs",5e3,h),this.cb=Xi("retryDelaySeedMs",1e4,h),this.Wa=Xi("forwardChannelMaxRetries",2,h),this.wa=Xi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Kr(h&&h.concurrentRequestLimit),this.Da=new Qi,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Fa.prototype,r.la=8,r.G=1,r.connect=function(h,x,w,k){ht(0),this.W=h,this.H=x||{},w&&k!==void 0&&(this.H.OSID=w,this.H.OAID=k),this.F=this.X,this.I=uu(this,null,this.W),Ha(this)};function dl(h){if(su(h),h.G==3){var x=h.U++,w=jn(h.I);if(nt(w,"SID",h.K),nt(w,"RID",x),nt(w,"TYPE","terminate"),Zi(h,w),x=new hn(h,h.j,x),x.L=2,x.v=Gi(jn(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(x.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=x.v,w=!0),w||(x.g=du(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Bi(x)}cu(h)}function qa(h){h.g&&(Ji(h),h.g.cancel(),h.g=null)}function su(h){qa(h),h.u&&(f.clearTimeout(h.u),h.u=null),Ga(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Ha(h){if(!Ma(h.h)&&!h.s){h.s=!0;var x=h.Ga;te||H(),de||(te(),de=!0),Ee.add(x,h),h.B=0}}function Qh(h,x){return La(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ct(E(h.Ga,h,x),ml(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new hn(this,this.j,h);let ne=this.o;if(this.S&&(ne?(ne=N(ne),U(ne,this.S)):ne=this.S),this.m!==null||this.O||(Y.H=ne,ne=null),this.P)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var k=this.i[w];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(x+=k,4096<x){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=iu(this,Y,x),w=jn(this.I),nt(w,"RID",h),nt(w,"CVER",22),this.D&&nt(w,"X-HTTP-Session-Id",this.D),Zi(this,w),ne&&(this.O?x="headers="+encodeURIComponent(String(ul(ne)))+"&"+x:this.m&&Bt(w,this.m,ne)),Oa(this.h,Y),this.Ua&&nt(w,"TYPE","init"),this.P?(nt(w,"$req",x),nt(w,"SID","null"),Y.T=!0,rr(Y,w,null)):rr(Y,w,x),this.G=2}}else this.G==3&&(h?hl(this,h):this.i.length==0||Ma(this.h)||hl(this))};function hl(h,x){var w;x?w=x.l:w=h.U++;const k=jn(h.I);nt(k,"SID",h.K),nt(k,"RID",w),nt(k,"AID",h.T),Zi(h,k),h.m&&h.o&&Bt(k,h.m,h.o),w=new hn(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),x&&(h.i=x.D.concat(h.i)),x=iu(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Oa(h.h,w),rr(w,k,x)}function Zi(h,x){h.H&&$(h.H,function(w,k){nt(x,k,w)}),h.l&&il({},function(w,k){nt(x,k,w)})}function iu(h,x,w){w=Math.min(h.i.length,w);var k=h.l?E(h.l.Na,h.l,h):null;e:{var Y=h.i;let ne=-1;for(;;){const he=["count="+w];ne==-1?0<w?(ne=Y[0].g,he.push("ofs="+ne)):ne=0:he.push("ofs="+ne);let qe=!0;for(let Ot=0;Ot<w;Ot++){let He=Y[Ot].g;const Ft=Y[Ot].map;if(He-=ne,0>He)ne=Math.max(0,Y[Ot].g-100),qe=!1;else try{br(Ft,he,"req"+He+"_")}catch{k&&k(Ft)}}if(qe){k=he.join("&");break e}}}return h=h.i.splice(0,w),x.D=h,k}function au(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;te||H(),de||(te(),de=!0),Ee.add(x,h),h.v=0}}function fl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ct(E(h.Fa,h),ml(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ct(E(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),qa(this),ou(this))};function Ji(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function ou(h){h.g=new hn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=jn(h.qa);nt(x,"RID","rpc"),nt(x,"SID",h.K),nt(x,"AID",h.T),nt(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&nt(x,"TO",h.ja),nt(x,"TYPE","xmlhttp"),Zi(h,x),h.m&&h.o&&Bt(x,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=Gi(jn(x)),w.m=null,w.P=!0,Yr(w,h)}r.Za=function(){this.C!=null&&(this.C=null,qa(this),fl(this),ht(19))};function Ga(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function lu(h,x){var w=null;if(h.g==x){Ga(h),Ji(h),h.g=null;var k=2}else if(rl(h.h,x))w=x.D,fn(h.h,x),k=1;else return;if(h.G!=0){if(x.o)if(k==1){w=x.m?x.m.length:0,x=Date.now()-x.F;var Y=h.B;k=Ds(),Je(k,new Lt(k,w)),Ha(h)}else au(h);else if(Y=x.s,Y==3||Y==0&&0<x.X||!(k==1&&Qh(h,x)||k==2&&fl(h)))switch(w&&0<w.length&&(x=h.h,x.i=x.i.concat(w)),Y){case 1:ns(h,5);break;case 4:ns(h,10);break;case 3:ns(h,6);break;default:ns(h,2)}}}function ml(h,x){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*x}function ns(h,x){if(h.j.info("Error code "+x),x==2){var w=E(h.fb,h),k=h.Xa;const Y=!k;k=new Rt(k||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Hi(k,"https"),Gi(k),Y?$i(k.toString(),w):sr(k.toString(),w)}else ht(2);h.G=0,h.l&&h.l.sa(x),cu(h),su(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function cu(h){if(h.G=0,h.ka=[],h.l){const x=sl(h.h);(x.length!=0||h.i.length!=0)&&(R(h.ka,x),R(h.ka,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.ra()}}function uu(h,x,w){var k=w instanceof Rt?jn(w):new Rt(w);if(k.g!="")x&&(k.g=x+"."+k.g),Vs(k,k.s);else{var Y=f.location;k=Y.protocol,x=x?x+"."+Y.hostname:Y.hostname,Y=+Y.port;var ne=new Rt(null);k&&Hi(ne,k),x&&(ne.g=x),Y&&Vs(ne,Y),w&&(ne.l=w),k=ne}return w=h.D,x=h.ya,w&&x&&nt(k,w,x),nt(k,"VER",h.la),Zi(h,k),k}function du(h,x,w){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new Xe(new Us({eb:w})):new Xe(h.pa),x.Ha(h.J),x}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}r=hu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Wa(){}Wa.prototype.g=function(h,x){return new mn(h,x)};function mn(h,x){bt.call(this),this.g=new Fa(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!O(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!O(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new Nr(this)}M(mn,bt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){dl(this.g)},mn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=nr(h),h=w);x.i.push(new Jc(x.Ya++,h)),x.G==3&&Ha(x)},mn.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,mn.aa.N.call(this)};function fu(h){$r.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const w in x){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}M(fu,$r);function mu(){Jo.call(this),this.status=1}M(mu,Jo);function Nr(h){this.g=h}M(Nr,hu),Nr.prototype.ua=function(){Je(this.g,"a")},Nr.prototype.ta=function(h){Je(this.g,new fu(h))},Nr.prototype.sa=function(h){Je(this.g,new mu)},Nr.prototype.ra=function(){Je(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,X2=function(){return new Wa},K2=function(){return Ds()},Y2=pr,Ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,Id=Os,Qr.COMPLETE="complete",Q2=Qr,Zo.EventType=Wr,Wr.OPEN="a",Wr.CLOSE="b",Wr.ERROR="c",Wr.MESSAGE="d",bt.prototype.listen=bt.prototype.K,uc=Zo,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,$2=Xe}).apply(typeof yd<"u"?yd:typeof self<"u"?self:typeof window<"u"?window:{});const pb="@firebase/firestore",gb="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new tg("@firebase/firestore");function _o(){return _a.logLevel}function ge(r,...e){if(_a.logLevel<=Be.DEBUG){const t=e.map(pg);_a.debug(`Firestore (${Fo}): ${r}`,...t)}}function js(r,...e){if(_a.logLevel<=Be.ERROR){const t=e.map(pg);_a.error(`Firestore (${Fo}): ${r}`,...t)}}function Ro(r,...e){if(_a.logLevel<=Be.WARN){const t=e.map(pg);_a.warn(`Firestore (${Fo}): ${r}`,...t)}}function pg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r="Unexpected state"){const e=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: `+r;throw js(e),new Error(e)}function Ke(r,e){r||Ce()}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class KC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class XC{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0);let s=this.i;const a=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let c=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Mr,e.enqueueRetryable(()=>a(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Mr)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new Z2(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new on(e)}}class ZC{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class JC{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new ZC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e4{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_n(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0);const s=c=>{c.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new yb(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string"),this.R=t.token,new yb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=t4(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function Cp(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),a=e.codePointAt(t);if(s!==a){if(s<128&&a<128)return Pe(s,a);{const c=J2(),d=n4(c.encode(vb(r,t)),c.encode(vb(e,t)));return d!==0?d:Pe(s,a)}}t+=s>65535?2:1}return Pe(r.length,e.length)}function vb(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function n4(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Pe(r[t],e[t]);return Pe(r.length,e.length)}function ko(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=-62135596800,bb=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*bb);return new jt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xb)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bb}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-xb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new jt(0,0))}static max(){return new Ie(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="__name__";class kr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ce(),s===void 0?s=e.length-t:s>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=kr.compareSegments(e.get(a),t.get(a));if(c!==0)return c}return Pe(e.length,t.length)}static compareSegments(e,t){const s=kr.isNumericId(e),a=kr.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?kr.extractNumericId(e).compare(kr.extractNumericId(t)):Cp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gi.fromString(e.substring(4,e.length-2))}}class ut extends kr{construct(e,t,s){return new ut(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new ut(t)}static emptyPath(){return new ut([])}}const r4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends kr{construct(e,t,s){return new en(e,t,s)}static isValidIdentifier(e){return r4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wb}static keyField(){return new en([wb])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(s.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else f==="`"?(d=!d,a++):f!=="."||d?(s+=f,a++):(c(),a++)}if(c(),d)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ut.fromString(e))}static fromName(e){return new _e(ut.fromString(e).popFirst(5))}static empty(){return new _e(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=-1;function s4(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(s===1e9?new jt(t+1,0):new jt(t,s));return new wi(a,_e.empty(),e)}function i4(r){return new wi(r.readTime,r.key,Ec)}class wi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new wi(Ie.min(),_e.empty(),Ec)}static max(){return new wi(Ie.max(),_e.empty(),Ec)}}function a4(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==o4)throw r;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,s)=>{t(e)})}static reject(e){return new le((t,s)=>{s(e)})}static waitFor(e){return new le((t,s)=>{let a=0,c=0,d=!1;e.forEach(f=>{++a,f.next(()=>{++c,d&&c===a&&t()},p=>s(p))}),d=!0,c===a&&t()})}static or(e){let t=le.resolve(!1);for(const s of e)t=t.next(a=>a?le.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new le((s,a)=>{const c=e.length,d=new Array(c);let f=0;for(let p=0;p<c;p++){const g=p;t(e[g]).next(v=>{d[g]=v,++f,f===c&&s(d)},v=>a(v))}})}static doWhile(e,t){return new le((s,a)=>{const c=()=>{e()===!0?t().next(()=>{c()},a):s()};c()})}}function c4(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ho(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}gh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=-1;function yh(r){return r==null}function Yd(r){return r===0&&1/r==-1/0}function u4(r){return typeof r=="number"&&Number.isInteger(r)&&!Yd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="";function d4(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=_b(e)),e=h4(r.get(t),e);return _b(e)}function h4(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const c=r.charAt(a);switch(c){case"\0":t+="";break;case t1:t+="";break;default:t+=c}}return t}function _b(r){return r+t1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ki(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function f4(r,e){const t=[];for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.push(e(r[s],s,r));return t}function n1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vd(this.root,e,this.comparator,!0)}}class vd{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Jt.RED,this.left=a??Jt.EMPTY,this.right=c??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Jt(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):c===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Jt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,s,a,c){return this}insert(e,t,s){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nb(this.data.getIterator())}getIteratorFrom(e){return new Nb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class Nb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new zt(en.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new r1("Invalid base64 string: "+c):c}}(e);return new tn(t)}static fromUint8Array(e){const t=function(a){let c="";for(let d=0;d<a.length;++d)c+=String.fromCharCode(a[d]);return c}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const m4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(r){if(Ke(!!r),typeof r=="string"){let e=0;const t=m4.exec(r);if(Ke(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(r.seconds),nanos:St(r.nanos)}}function St(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ei(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="server_timestamp",i1="__type__",a1="__previous_value__",o1="__local_write_time__";function yg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[i1])===null||t===void 0?void 0:t.stringValue)===s1}function vh(r){const e=r.mapValue.fields[a1];return yg(e)?vh(e):e}function Nc(r){const e=_i(r.mapValue.fields[o1].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,t,s,a,c,d,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g}}const Kd="(default)";class Tc{constructor(e,t){this.projectId=e,this.database=t||Kd}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===Kd}isEqual(e){return e instanceof Tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="__type__",g4="__max__",xd={mapValue:{}},c1="__vector__",Xd="value";function Ni(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yg(r)?4:v4(r)?9007199254740991:y4(r)?10:11:Ce()}function Vr(r,e){if(r===e)return!0;const t=Ni(r);if(t!==Ni(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Nc(r).isEqual(Nc(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const d=_i(a.timestampValue),f=_i(c.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,c){return Ei(a.bytesValue).isEqual(Ei(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,c){return St(a.geoPointValue.latitude)===St(c.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(c.geoPointValue.longitude)}(r,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return St(a.integerValue)===St(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const d=St(a.doubleValue),f=St(c.doubleValue);return d===f?Yd(d)===Yd(f):isNaN(d)&&isNaN(f)}return!1}(r,e);case 9:return ko(r.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(a,c){const d=a.mapValue.fields||{},f=c.mapValue.fields||{};if(Eb(d)!==Eb(f))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(f[p]===void 0||!Vr(d[p],f[p])))return!1;return!0}(r,e);default:return Ce()}}function Sc(r,e){return(r.values||[]).find(t=>Vr(t,e))!==void 0}function Io(r,e){if(r===e)return 0;const t=Ni(r),s=Ni(e);if(t!==s)return Pe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(c,d){const f=St(c.integerValue||c.doubleValue),p=St(d.integerValue||d.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return Tb(r.timestampValue,e.timestampValue);case 4:return Tb(Nc(r),Nc(e));case 5:return Cp(r.stringValue,e.stringValue);case 6:return function(c,d){const f=Ei(c),p=Ei(d);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const f=c.split("/"),p=d.split("/");for(let g=0;g<f.length&&g<p.length;g++){const v=Pe(f[g],p[g]);if(v!==0)return v}return Pe(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const f=Pe(St(c.latitude),St(d.latitude));return f!==0?f:Pe(St(c.longitude),St(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Sb(r.arrayValue,e.arrayValue);case 10:return function(c,d){var f,p,g,v;const b=c.fields||{},E=d.fields||{},T=(f=b[Xd])===null||f===void 0?void 0:f.arrayValue,M=(p=E[Xd])===null||p===void 0?void 0:p.arrayValue,V=Pe(((g=T==null?void 0:T.values)===null||g===void 0?void 0:g.length)||0,((v=M==null?void 0:M.values)===null||v===void 0?void 0:v.length)||0);return V!==0?V:Sb(T,M)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===xd.mapValue&&d===xd.mapValue)return 0;if(c===xd.mapValue)return 1;if(d===xd.mapValue)return-1;const f=c.fields||{},p=Object.keys(f),g=d.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const E=Cp(p[b],v[b]);if(E!==0)return E;const T=Io(f[p[b]],g[v[b]]);if(T!==0)return T}return Pe(p.length,v.length)}(r.mapValue,e.mapValue);default:throw Ce()}}function Tb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const t=_i(r),s=_i(e),a=Pe(t.seconds,s.seconds);return a!==0?a:Pe(t.nanos,s.nanos)}function Sb(r,e){const t=r.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const c=Io(t[a],s[a]);if(c)return c}return Pe(t.length,s.length)}function Do(r){return Rp(r)}function Rp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=_i(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ei(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return _e.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",a=!0;for(const c of t.values||[])a?a=!1:s+=",",s+=Rp(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",c=!0;for(const d of s)c?c=!1:a+=",",a+=`${d}:${Rp(t.fields[d])}`;return a+"}"}(r.mapValue):Ce()}function Dd(r){switch(Ni(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(r);return e?16+Dd(e):16;case 5:return 2*r.stringValue.length;case 6:return Ei(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Dd(c),0)}(r.arrayValue);case 10:case 11:return function(s){let a=0;return ki(s.fields,(c,d)=>{a+=c.length+Dd(d)}),a}(r.mapValue);default:throw Ce()}}function jb(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function kp(r){return!!r&&"integerValue"in r}function vg(r){return!!r&&"arrayValue"in r}function Ab(r){return!!r&&"nullValue"in r}function Cb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Md(r){return!!r&&"mapValue"in r}function y4(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[l1])===null||t===void 0?void 0:t.stringValue)===c1}function pc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ki(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=pc(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pc(r.arrayValue.values[t]);return e}return Object.assign({},r)}function v4(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===g4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Md(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(t)}setAll(e){let t=en.emptyPath(),s={},a=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,s,a),s={},a=[],t=f.popLast()}d?s[f.lastSegment()]=pc(d):a.push(f.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());Md(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Md(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){ki(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new En(pc(this.value))}}function u1(r){const e=[];return ki(r.fields,(t,s)=>{const a=new en([t]);if(Md(s)){const c=u1(s.mapValue).fields;if(c.length===0)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,s,a,c,d,f){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=d,this.documentState=f}static newInvalidDocument(e){return new ln(e,0,Ie.min(),Ie.min(),Ie.min(),En.empty(),0)}static newFoundDocument(e,t,s,a){return new ln(e,1,t,Ie.min(),s,a,0)}static newNoDocument(e,t){return new ln(e,2,t,Ie.min(),Ie.min(),En.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,Ie.min(),Ie.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,t){this.position=e,this.inclusive=t}}function Rb(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],d=r.position[a];if(c.field.isKeyField()?s=_e.comparator(_e.fromName(d.referenceValue),t.key):s=Io(d,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function kb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Vr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t="asc"){this.field=e,this.dir=t}}function x4(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{}class Mt extends d1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new w4(e,t,s):t==="array-contains"?new N4(e,s):t==="in"?new T4(e,s):t==="not-in"?new S4(e,s):t==="array-contains-any"?new j4(e,s):new Mt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new _4(e,s):new E4(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Io(t,this.value)):t!==null&&Ni(this.value)===Ni(t)&&this.matchesComparison(Io(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends d1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new dr(e,t)}matches(e){return h1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function h1(r){return r.op==="and"}function f1(r){return b4(r)&&h1(r)}function b4(r){for(const e of r.filters)if(e instanceof dr)return!1;return!0}function Ip(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+Do(r.value);if(f1(r))return r.filters.map(e=>Ip(e)).join(",");{const e=r.filters.map(t=>Ip(t)).join(",");return`${r.op}(${e})`}}function m1(r,e){return r instanceof Mt?function(s,a){return a instanceof Mt&&s.op===a.op&&s.field.isEqual(a.field)&&Vr(s.value,a.value)}(r,e):r instanceof dr?function(s,a){return a instanceof dr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,d,f)=>c&&m1(d,a.filters[f]),!0):!1}(r,e):void Ce()}function p1(r){return r instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`}(r):r instanceof dr?function(t){return t.op.toString()+" {"+t.getFilters().map(p1).join(" ,")+"}"}(r):"Filter"}class w4 extends Mt{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class _4 extends Mt{constructor(e,t){super(e,"in",t),this.keys=g1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class E4 extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=g1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function g1(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class N4 extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vg(t)&&Sc(t.arrayValue,this.value)}}class T4 extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Sc(this.value.arrayValue,t)}}class S4 extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Sc(this.value.arrayValue,t)}}class j4 extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Sc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,t=null,s=[],a=[],c=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=d,this.endAt=f,this.le=null}}function Ib(r,e=null,t=[],s=[],a=null,c=null,d=null){return new A4(r,e,t,s,a,c,d)}function xg(r){const e=Re(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Ip(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Do(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Do(s)).join(",")),e.le=t}return e.le}function bg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!x4(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!m1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!kb(r.startAt,e.startAt)&&kb(r.endAt,e.endAt)}function Dp(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t=null,s=[],a=[],c=null,d="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=d,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function C4(r,e,t,s,a,c,d,f){return new Go(r,e,t,s,a,c,d,f)}function xh(r){return new Go(r)}function Db(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function y1(r){return r.collectionGroup!==null}function gc(r){const e=Re(r);if(e.he===null){e.he=[];const t=new Set;for(const c of e.explicitOrderBy)e.he.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new zt(en.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.he.push(new jc(c,s))}),t.has(en.keyField().canonicalString())||e.he.push(new jc(en.keyField(),s))}return e.he}function Lr(r){const e=Re(r);return e.Pe||(e.Pe=v1(e,gc(r))),e.Pe}function R4(r){const e=Re(r);return e.Te||(e.Te=v1(e,r.explicitOrderBy)),e.Te}function v1(r,e){if(r.limitType==="F")return Ib(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new jc(a.field,c)});const t=r.endAt?new Zd(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Zd(r.startAt.position,r.startAt.inclusive):null;return Ib(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Mp(r,e){const t=r.filters.concat([e]);return new Go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Jd(r,e,t){return new Go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function bh(r,e){return bg(Lr(r),Lr(e))&&r.limitType===e.limitType}function x1(r){return`${xg(Lr(r))}|lt:${r.limitType}`}function Eo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>p1(a)).join(", ")}]`),yh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>Do(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>Do(a)).join(",")),`Target(${s})`}(Lr(r))}; limitType=${r.limitType})`}function wh(r,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):_e.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,a){for(const c of gc(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(r,e)&&function(s,a){return!(s.startAt&&!function(d,f,p){const g=Rb(d,f,p);return d.inclusive?g<=0:g<0}(s.startAt,gc(s),a)||s.endAt&&!function(d,f,p){const g=Rb(d,f,p);return d.inclusive?g>=0:g>0}(s.endAt,gc(s),a))}(r,e)}function k4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function b1(r){return(e,t)=>{let s=!1;for(const a of gc(r)){const c=I4(a,e,t);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function I4(r,e,t){const s=r.field.isKeyField()?_e.comparator(e.key,t.key):function(c,d,f){const p=d.data.field(c),g=f.data.field(c);return p!==null&&g!==null?Io(p,g):Ce()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return n1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=new xt(_e.comparator);function As(){return D4}const w1=new xt(_e.comparator);function dc(...r){let e=w1;for(const t of r)e=e.insert(t.key,t);return e}function _1(r){let e=w1;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ya(){return yc()}function E1(){return yc()}function yc(){return new Sa(r=>r.toString(),(r,e)=>r.isEqual(e))}const M4=new xt(_e.comparator),L4=new zt(_e.comparator);function Fe(...r){let e=L4;for(const t of r)e=e.add(t);return e}const O4=new zt(Pe);function P4(){return O4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function N1(r){return{integerValue:""+r}}function T1(r,e){return u4(e)?N1(e):wg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this._=void 0}}function V4(r,e,t){return r instanceof Ac?function(a,c){const d={fields:{[i1]:{stringValue:s1},[o1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&yg(c)&&(c=vh(c)),c&&(d.fields[a1]=c),{mapValue:d}}(t,e):r instanceof Mo?j1(r,e):r instanceof Cc?A1(r,e):function(a,c){const d=S1(a,c),f=Mb(d)+Mb(a.Ie);return kp(d)&&kp(a.Ie)?N1(f):wg(a.serializer,f)}(r,e)}function U4(r,e,t){return r instanceof Mo?j1(r,e):r instanceof Cc?A1(r,e):t}function S1(r,e){return r instanceof Rc?function(s){return kp(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Ac extends _h{}class Mo extends _h{constructor(e){super(),this.elements=e}}function j1(r,e){const t=C1(e);for(const s of r.elements)t.some(a=>Vr(a,s))||t.push(s);return{arrayValue:{values:t}}}class Cc extends _h{constructor(e){super(),this.elements=e}}function A1(r,e){let t=C1(e);for(const s of r.elements)t=t.filter(a=>!Vr(a,s));return{arrayValue:{values:t}}}class Rc extends _h{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Mb(r){return St(r.integerValue||r.doubleValue)}function C1(r){return vg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t){this.field=e,this.transform=t}}function z4(r,e){return r.field.isEqual(e.field)&&function(s,a){return s instanceof Mo&&a instanceof Mo||s instanceof Cc&&a instanceof Cc?ko(s.elements,a.elements,Vr):s instanceof Rc&&a instanceof Rc?Vr(s.Ie,a.Ie):s instanceof Ac&&a instanceof Ac}(r.transform,e.transform)}class B4{constructor(e,t){this.version=e,this.transformResults=t}}class Kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ld(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Eh{}function R1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Eg(r.key,Kn.none()):new zc(r.key,r.data,Kn.none());{const t=r.data,s=En.empty();let a=new zt(en.comparator);for(let c of e.fields)if(!a.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?s.delete(c):s.set(c,d),a=a.add(c)}return new Ii(r.key,s,new Ln(a.toArray()),Kn.none())}}function F4(r,e,t){r instanceof zc?function(a,c,d){const f=a.value.clone(),p=Ob(a.fieldTransforms,c,d.transformResults);f.setAll(p),c.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Ii?function(a,c,d){if(!Ld(a.precondition,c))return void c.convertToUnknownDocument(d.version);const f=Ob(a.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(k1(a)),p.setAll(f),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,t):function(a,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function vc(r,e,t,s){return r instanceof zc?function(c,d,f,p){if(!Ld(c.precondition,d))return f;const g=c.value.clone(),v=Pb(c.fieldTransforms,p,d);return g.setAll(v),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof Ii?function(c,d,f,p){if(!Ld(c.precondition,d))return f;const g=Pb(c.fieldTransforms,p,d),v=d.data;return v.setAll(k1(c)),v.setAll(g),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),f===null?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(r,e,t,s):function(c,d,f){return Ld(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f}(r,e,t)}function q4(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=S1(s.transform,a||null);c!=null&&(t===null&&(t=En.empty()),t.set(s.field,c))}return t||null}function Lb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&ko(s,a,(c,d)=>z4(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class zc extends Eh{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ii extends Eh{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function k1(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Ob(r,e,t){const s=new Map;Ke(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],d=c.transform,f=e.data.field(c.field);s.set(c.field,U4(d,f,t[a]))}return s}function Pb(r,e,t){const s=new Map;for(const a of r){const c=a.transform,d=t.data.field(a.field);s.set(a.field,V4(c,d,e))}return s}class Eg extends Eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H4 extends Eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&F4(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=vc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=vc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=E1();return this.mutations.forEach(a=>{const c=e.get(a.key),d=c.overlayedDocument;let f=this.applyToLocalView(d,c.mutatedFields);f=t.has(a.key)?null:f;const p=R1(d,f);p!==null&&s.set(a.key,p),d.isValidDocument()||d.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(t,s)=>Lb(t,s))&&ko(this.baseMutations,e.baseMutations,(t,s)=>Lb(t,s))}}class Ng{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Ke(e.mutations.length===s.length);let a=function(){return M4}();const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,s[d].version);return new Ng(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,We;function Y4(r){switch(r){case ie.OK:return Ce();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ce()}}function I1(r){if(r===void 0)return js("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Dt.OK:return ie.OK;case Dt.CANCELLED:return ie.CANCELLED;case Dt.UNKNOWN:return ie.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ie.INTERNAL;case Dt.UNAVAILABLE:return ie.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ie.NOT_FOUND;case Dt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Dt.ABORTED:return ie.ABORTED;case Dt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Dt.DATA_LOSS:return ie.DATA_LOSS;default:return Ce()}}(We=Dt||(Dt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=new gi([4294967295,4294967295],0);function Vb(r){const e=J2().encode(r),t=new W2;return t.update(e),new Uint8Array(t.digest())}function Ub(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new gi([t,s],0),new gi([a,c],0)]}class Tg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new hc(`Invalid padding: ${t}`);if(s<0)throw new hc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new hc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=gi.fromNumber(this.Ee)}Ae(e,t,s){let a=e.add(t.multiply(gi.fromNumber(s)));return a.compare(K4)===1&&(a=new gi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Vb(e),[s,a]=Ub(t);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,a,c);if(!this.Re(d))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Tg(c,a,t);return s.forEach(f=>d.insert(f)),d}insert(e){if(this.Ee===0)return;const t=Vb(e),[s,a]=Ub(t);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,a,c);this.Ve(d)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Nh(Ie.min(),a,new xt(Pe),As(),Fe())}}class Bc{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Bc(s,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t,s,a){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=a}}class D1{constructor(e,t){this.targetId=e,this.ge=t}}class M1{constructor(e,t,s=tn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class zb{constructor(){this.pe=0,this.ye=Bb(),this.we=tn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Fe(),t=Fe(),s=Fe();return this.ye.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ce()}}),new Bc(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=Bb()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class X4{constructor(e){this.ke=e,this.qe=new Map,this.Qe=As(),this.$e=bd(),this.Ue=bd(),this.Ke=new xt(Pe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,s=e.ge.count,a=this.Xe(t);if(a){const c=a.target;if(Dp(c))if(s===0){const d=new _e(c.path);this.ze(t,d,ln.newNoDocument(d,Ie.min()))}else Ke(s===1);else{const d=this.et(t);if(d!==s){const f=this.tt(e),p=f?this.nt(f,e,d):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=t;let d,f;try{d=Ei(s).toUint8Array()}catch(p){if(p instanceof r1)return Ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Tg(d,a,c)}catch(p){return Ro(p instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let a=0;return s.forEach(c=>{const d=this.ke.it(),f=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,c,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((c,d)=>{const f=this.Xe(d);if(f){if(c.current&&Dp(f.target)){const p=new _e(f.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,ln.newNoDocument(p,e))}c.ve&&(t.set(d,c.Fe()),c.Me())}});let s=Fe();this.Ue.forEach((c,d)=>{let f=!0;d.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const a=new Nh(e,t,this.Ke,this.Qe,s);return this.Qe=As(),this.$e=bd(),this.Ue=bd(),this.Ke=new xt(Pe),a}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new zb,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new zt(Pe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new zt(Pe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new zb),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function bd(){return new xt(_e.comparator)}function Bb(){return new xt(_e.comparator)}const Z4={asc:"ASCENDING",desc:"DESCENDING"},J4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eR={and:"AND",or:"OR"};class tR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lp(r,e){return r.useProto3Json||yh(e)?e:{value:e}}function eh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function nR(r,e){return eh(r,e.toTimestamp())}function Or(r){return Ke(!!r),Ie.fromTimestamp(function(t){const s=_i(t);return new jt(s.seconds,s.nanos)}(r))}function Sg(r,e){return Op(r,e).canonicalString()}function Op(r,e){const t=function(a){return new ut(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?t:t.child(e)}function O1(r){const e=ut.fromString(r);return Ke(F1(e)),e}function Pp(r,e){return Sg(r.databaseId,e.path)}function tp(r,e){const t=O1(e);if(t.get(1)!==r.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e(V1(t))}function P1(r,e){return Sg(r.databaseId,e)}function rR(r){const e=O1(r);return e.length===4?ut.emptyPath():V1(e)}function Vp(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function V1(r){return Ke(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Fb(r,e,t){return{name:Pp(r,e),fields:t.value.mapValue.fields}}function sR(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(g,v){return g.useProto3Json?(Ke(v===void 0||typeof v=="string"),tn.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array),tn.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(g){const v=g.code===void 0?ie.UNKNOWN:I1(g.code);return new me(v,g.message||"")}(d);t=new M1(s,a,c,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=tp(r,s.document.name),c=Or(s.document.updateTime),d=s.document.createTime?Or(s.document.createTime):Ie.min(),f=new En({mapValue:{fields:s.document.fields}}),p=ln.newFoundDocument(a,c,d,f),g=s.targetIds||[],v=s.removedTargetIds||[];t=new Od(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=tp(r,s.document),c=s.readTime?Or(s.readTime):Ie.min(),d=ln.newNoDocument(a,c),f=s.removedTargetIds||[];t=new Od([],f,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=tp(r,s.document),c=s.removedTargetIds||[];t=new Od([],c,a,null)}else{if(!("filter"in e))return Ce();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,d=new Q4(a,c),f=s.targetId;t=new D1(f,d)}}return t}function iR(r,e){let t;if(e instanceof zc)t={update:Fb(r,e.key,e.value)};else if(e instanceof Eg)t={delete:Pp(r,e.key)};else if(e instanceof Ii)t={update:Fb(r,e.key,e.data),updateMask:mR(e.fieldMask)};else{if(!(e instanceof H4))return Ce();t={verify:Pp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const f=d.transform;if(f instanceof Ac)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Cc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Rc)return{fieldPath:d.field.canonicalString(),increment:f.Ie};throw Ce()}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:nR(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ce()}(r,e.precondition)),t}function aR(r,e){return r&&r.length>0?(Ke(e!==void 0),r.map(t=>function(a,c){let d=a.updateTime?Or(a.updateTime):Or(c);return d.isEqual(Ie.min())&&(d=Or(c)),new B4(d,a.transformResults||[])}(t,e))):[]}function oR(r,e){return{documents:[P1(r,e.path)]}}function U1(r,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=P1(r,a);const c=function(g){if(g.length!==0)return B1(dr.create(g,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const d=function(g){if(g.length!==0)return g.map(v=>function(E){return{field:di(E.field),direction:dR(E.dir)}}(v))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const f=Lp(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:a}}function lR(r,e,t,s){const{ht:a,parent:c}=U1(r,e),d={},f=[];let p=0;return t.forEach(g=>{const v="aggregate_"+p++;d[v]=g.alias,g.aggregateType==="count"?f.push({alias:v,count:{}}):g.aggregateType==="avg"?f.push({alias:v,avg:{field:di(g.fieldPath)}}):g.aggregateType==="sum"&&f.push({alias:v,sum:{field:di(g.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:f,structuredQuery:a.structuredQuery},parent:a.parent},Pt:d,parent:c}}function cR(r){let e=rR(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Ke(s===1);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let c=[];t.where&&(c=function(b){const E=z1(b);return E instanceof dr&&f1(E)?E.getFilters():[E]}(t.where));let d=[];t.orderBy&&(d=function(b){return b.map(E=>function(M){return new jc(No(M.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(b){let E;return E=typeof b=="object"?b.value:b,yh(E)?null:E}(t.limit));let p=null;t.startAt&&(p=function(b){const E=!!b.before,T=b.values||[];return new Zd(T,E)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const E=!b.before,T=b.values||[];return new Zd(T,E)}(t.endAt)),C4(e,a,d,c,f,"F",p,g)}function uR(r,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function z1(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=No(t.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=No(t.unaryFilter.field);return Mt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=No(t.unaryFilter.field);return Mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=No(t.unaryFilter.field);return Mt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(r):r.fieldFilter!==void 0?function(t){return Mt.create(No(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return dr.create(t.compositeFilter.filters.map(s=>z1(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(r):Ce()}function dR(r){return Z4[r]}function hR(r){return J4[r]}function fR(r){return eR[r]}function di(r){return{fieldPath:r.canonicalString()}}function No(r){return en.fromServerFormat(r.fieldPath)}function B1(r){return r instanceof Mt?function(t){if(t.op==="=="){if(Cb(t.value))return{unaryFilter:{field:di(t.field),op:"IS_NAN"}};if(Ab(t.value))return{unaryFilter:{field:di(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Cb(t.value))return{unaryFilter:{field:di(t.field),op:"IS_NOT_NAN"}};if(Ab(t.value))return{unaryFilter:{field:di(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:di(t.field),op:hR(t.op),value:t.value}}}(r):r instanceof dr?function(t){const s=t.getFilters().map(a=>B1(a));return s.length===1?s[0]:{compositeFilter:{op:fR(t.op),filters:s}}}(r):Ce()}function mR(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function F1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t,s,a,c=Ie.min(),d=Ie.min(),f=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.Tt=e}}function gR(r){const e=cR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.Tn=new vR}addToCollectionParentIndex(e,t){return this.Tn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(wi.min())}updateCollectionGroup(e,t,s){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class vR{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new zt(ut.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new zt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q1=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(q1,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Lo(0)}static Kn(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="LruGarbageCollector",xR=1048576;function Gb([r,e],[t,s]){const a=Pe(r,t);return a===0?Pe(e,s):a}class bR{constructor(e){this.Hn=e,this.buffer=new zt(Gb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Gb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wR{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ge(Hb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ho(t)?ge(Hb,"Ignoring IndexedDB error during garbage collection: ",t):await qo(t)}await this.er(3e5)})}}class _R{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return le.resolve(gh.ae);const s=new bR(t);return this.tr.forEachTarget(e,a=>s.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>s.Zn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(qb)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qb):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,a,c,d,f,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,d=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(s=b,f=Date.now(),this.removeTargets(e,s,t))).next(b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),_o()<=Be.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-v}ms
	Determined least recently used ${a} in `+(f-d)+`ms
	Removed ${c} targets in `+(p-f)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:b})))}}function ER(r,e){return new _R(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.changes=new Sa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?le.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&vc(s.mutation,a,Ln.empty(),jt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Fe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Fe()){const a=ya();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let d=dc();return c.forEach((f,p)=>{d=d.insert(f,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const s=ya();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Fe()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,s,a){let c=As();const d=yc(),f=function(){return yc()}();return t.forEach((p,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Ii)?c=c.insert(g.key,g):v!==void 0?(d.set(g.key,v.mutation.getFieldMask()),vc(v.mutation,g,v.mutation.getFieldMask(),jt.now())):d.set(g.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((g,v)=>d.set(g,v)),t.forEach((g,v)=>{var b;return f.set(g,new TR(v,(b=d.get(g))!==null&&b!==void 0?b:null))}),f))}recalculateAndSaveOverlays(e,t){const s=yc();let a=new xt((d,f)=>d-f),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||Ln.empty();v=f.applyToLocalView(g,v),s.set(p,v);const b=(a.get(f.batchId)||Fe()).add(p);a=a.insert(f.batchId,b)})}).next(()=>{const d=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,v=p.value,b=E1();v.forEach(E=>{if(!c.has(E)){const T=R1(t.get(E),s.get(E));T!==null&&b.set(E,T),c=c.add(E)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,b))}return le.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):y1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):le.resolve(ya());let f=Ec,p=c;return d.next(g=>le.forEach(g,(v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),c.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{p=p.insert(v,E)}))).next(()=>this.populateOverlays(e,g,c)).next(()=>this.computeViews(e,p,g,Fe())).next(v=>({batchId:f,changes:_1(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let a=dc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const c=t.collectionGroup;let d=dc();return this.indexManager.getCollectionParents(e,c).next(f=>le.forEach(f,p=>{const g=function(b,E){return new Go(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next(v=>{v.forEach((b,E)=>{d=d.insert(b,E)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,a))).next(d=>{c.forEach((p,g)=>{const v=g.getKey();d.get(v)===null&&(d=d.insert(v,ln.newInvalidDocument(v)))});let f=dc();return d.forEach((p,g)=>{const v=c.get(p);v!==void 0&&vc(v.mutation,g,Ln.empty(),jt.now()),wh(t,g)&&(f=f.insert(p,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return le.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Or(a.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:gR(a.bundledQuery),readTime:Or(a.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.overlays=new xt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ya();return le.forEach(t,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.Et(e,t,c)}),le.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Rr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),le.resolve()}getOverlaysForCollection(e,t,s){const a=ya(),c=t.length+1,d=new _e(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>s&&a.set(p.getKey(),p)}return le.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new xt((g,v)=>g-v);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=c.get(g.largestBatchId);v===null&&(v=ya(),c=c.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=ya(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>f.set(g,v)),!(f.size()>=a)););return le.resolve(f)}Et(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const d=this.Rr.get(a.largestBatchId).delete(s.key);this.Rr.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new W4(t,s));let c=this.Rr.get(t);c===void 0&&(c=Fe(),this.Rr.set(t,c)),this.Rr.set(t,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.Vr=new zt($t.mr),this.gr=new zt($t.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new $t(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new $t(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new _e(new ut([])),s=new $t(t,e),a=new $t(t,e+1),c=[];return this.gr.forEachInRange([s,a],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new ut([])),s=new $t(t,e),a=new $t(t,e+1);let c=Fe();return this.gr.forEachInRange([s,a],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new $t(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Pe(e.Cr,t.Cr)}static pr(e,t){return Pe(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new zt($t.mr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new G4(c,t,s,a);this.mutationQueue.push(d);for(const f of a)this.Mr=this.Mr.add(new $t(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(d)}lookupMutationBatch(e,t){return le.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Nr(s),c=a<0?0:a;return le.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?gg:this.Fr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new $t(t,0),a=new $t(t,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,a],d=>{const f=this.Or(d.Cr);c.push(f)}),le.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new zt(Pe);return t.forEach(a=>{const c=new $t(a,0),d=new $t(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],f=>{s=s.add(f.Cr)})}),le.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;_e.isDocumentKey(c)||(c=c.child(""));const d=new $t(new _e(c),0);let f=new zt(Pe);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(f=f.add(p.Cr)),!0)},d),le.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(s=>{const a=this.Or(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ke(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return le.forEach(t.mutations,a=>{const c=new $t(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new $t(t,0),a=this.Mr.firstAfterOrEqual(s);return le.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.kr=e,this.docs=function(){return new xt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,d=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return le.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let s=As();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():ln.newInvalidDocument(a))}),le.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=As();const d=t.path,f=new _e(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||a4(i4(v),s)<=0||(a.has(v.key)||wh(t,v))&&(c=c.insert(v.key,v.mutableCopy()))}return le.resolve(c)}getAllFromCollectionGroup(e,t,s,a){Ce()}qr(e,t){return le.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new IR(this)}getSize(e){return le.resolve(this.size)}}class IR extends NR{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(s)}),le.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.persistence=e,this.Qr=new Sa(t=>xg(t),bg),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Ur=new jg,this.targetCount=0,this.Kr=Lo.Un()}forEachTarget(e,t){return this.Qr.forEach((s,a)=>t(a)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),le.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Lo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.zn(t),le.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.Qr.forEach((d,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),le.waitFor(c).next(()=>a)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return le.resolve(s)}addMatchingKeys(e,t,s){return this.Ur.yr(t,s),le.resolve()}removeMatchingKeys(e,t,s){this.Ur.Sr(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(d=>{c.push(a.markPotentiallyOrphaned(e,d))}),le.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),le.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ur.vr(t);return le.resolve(s)}containsKey(e,t){return le.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new gh(0),this.zr=!1,this.zr=!0,this.jr=new CR,this.referenceDelegate=e(this),this.Hr=new DR(this),this.indexManager=new yR,this.remoteDocumentCache=function(a){return new kR(a)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new pR(t),this.Yr=new jR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new RR(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){ge("MemoryPersistence","Starting transaction:",e);const a=new MR(this.Gr.next());return this.referenceDelegate.Zr(),s(a).next(c=>this.referenceDelegate.Xr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}ei(e,t){return le.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class MR extends l4{constructor(e){super(),this.currentSequenceNumber=e}}class Ag{constructor(e){this.persistence=e,this.ti=new jg,this.ni=null}static ri(e){return new Ag(e)}get ii(){if(this.ni)return this.ni;throw Ce()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),le.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),le.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.ii,s=>{const a=_e.fromPath(s);return this.si(e,a).next(c=>{c||t.removeEntry(a,Ie.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return le.or([()=>le.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class th{constructor(e,t){this.persistence=e,this.oi=new Sa(s=>d4(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=ER(this,t)}static ri(e,t){return new th(e,t)}Zr(){}Xr(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return le.forEach(this.oi,(s,a)=>this.ar(e,s,a).next(c=>c?le.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.qr(e,d=>this.ar(e,d,t).next(f=>{f||(s++,c.removeEntry(d,Ie.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dd(e.data.value)),t}ar(e,t,s){return le.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return le.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=a}static Yi(e,t){let s=Fe(),a=Fe();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Cg(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return fS()?8:c4(dn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,a){const c={result:null};return this.rs(e,t).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,t,a,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new LR;return this._s(e,t,d).next(f=>{if(c.result=f,this.Xi)return this.us(e,t,d,f.size)})}).next(()=>c.result)}us(e,t,s,a){return s.documentReadCount<this.es?(_o()<=Be.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),le.resolve()):(_o()<=Be.DEBUG&&ge("QueryEngine","Query:",Eo(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ts*a?(_o()<=Be.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(t))):le.resolve())}rs(e,t){if(Db(t))return le.resolve(null);let s=Lr(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Jd(t,null,"F"),s=Lr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Fe(...c);return this.ns.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,f);return this.ls(t,g,d,p.readTime)?this.rs(e,Jd(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,a){return Db(t)||a.isEqual(Ie.min())?le.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(t,c);return this.ls(t,d,s,a)?le.resolve(null):(_o()<=Be.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Eo(t)),this.hs(e,d,t,s4(a,Ec)).next(f=>f))})}cs(e,t){let s=new zt(b1(e));return t.forEach((a,c)=>{wh(e,c)&&(s=s.add(c))}),s}ls(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}_s(e,t,s){return _o()<=Be.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.ns.getDocumentsMatchingQuery(e,t,wi.min(),s)}hs(e,t,s,a){return this.ns.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="LocalStore",PR=3e8;class VR{constructor(e,t,s,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new xt(Pe),this.Is=new Sa(c=>xg(c),bg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function UR(r,e,t,s){return new VR(r,e,t,s)}async function G1(r,e){const t=Re(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],f=[];let p=Fe();for(const g of a){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of c){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:d,addedBatchIds:f}))})})}function zR(r,e){const t=Re(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,g,v){const b=g.batch,E=b.keys();let T=le.resolve();return E.forEach(M=>{T=T.next(()=>v.getEntry(p,M)).next(V=>{const R=g.docVersions.get(M);Ke(R!==null),V.version.compareTo(R)<0&&(b.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),v.addEntry(V)))})}),T.next(()=>f.mutationQueue.removeMutationBatch(p,b))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let p=Fe();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function W1(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function BR(r,e){const t=Re(r),s=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const f=[];e.targetChanges.forEach((v,b)=>{const E=a.get(b);if(!E)return;f.push(t.Hr.removeMatchingKeys(c,v.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(c,v.addedDocuments,b)));let T=E.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?T=T.withResumeToken(tn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(v.resumeToken,s)),a=a.insert(b,T),function(V,R,L){return V.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=PR?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(E,T,v)&&f.push(t.Hr.updateTargetData(c,T))});let p=As(),g=Fe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(c,v))}),f.push(FR(c,d,e.documentUpdates).next(v=>{p=v.Vs,g=v.fs})),!s.isEqual(Ie.min())){const v=t.Hr.getLastRemoteSnapshotVersion(c).next(b=>t.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));f.push(v)}return le.waitFor(f).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,p,g)).next(()=>p)}).then(c=>(t.Ts=a,c))}function FR(r,e,t){let s=Fe(),a=Fe();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let d=As();return t.forEach((f,p)=>{const g=c.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(f,p.readTime),d=d.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),d=d.insert(f,p)):ge(Rg,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),{Vs:d,fs:a}})}function qR(r,e){const t=Re(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=gg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function HR(r,e){const t=Re(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Hr.getTargetData(s,e).next(c=>c?(a=c,le.resolve(a)):t.Hr.allocateTargetId(s).next(d=>(a=new fi(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ts.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Up(r,e,t){const s=Re(r),a=s.Ts.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,a))}catch(d){if(!Ho(d))throw d;ge(Rg,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(a.target)}function Wb(r,e,t){const s=Re(r);let a=Ie.min(),c=Fe();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,g,v){const b=Re(p),E=b.Is.get(v);return E!==void 0?le.resolve(b.Ts.get(E)):b.Hr.getTargetData(g,v)}(s,d,Lr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,f.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,t?a:Ie.min(),t?c:Fe())).next(f=>(GR(s,k4(e),f),{documents:f,gs:c})))}function GR(r,e,t){let s=r.Es.get(e)||Ie.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(e,s)}class $b{constructor(){this.activeTargetIds=P4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WR{constructor(){this.ho=new $b,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new $b,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="ConnectivityMonitor";class Yb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ge(Qb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ge(Qb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd=null;function zp(){return wd===null?wd=function(){return 268435456+Math.round(2147483648*Math.random())}():wd++,"0x"+wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="RestConnection",QR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${a}`,this.wo=this.databaseId.database===Kd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}So(e,t,s,a,c){const d=zp(),f=this.bo(e,t.toUriEncodedString());ge(np,`Sending RPC '${e}' ${d}:`,f,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,c),this.vo(e,f,p,s).then(g=>(ge(np,`Received RPC '${e}' ${d}: `,g),g),g=>{throw Ro(np,`RPC '${e}' ${d} failed with error: `,g,"url: ",f,"request:",s),g})}Co(e,t,s,a,c,d){return this.So(e,t,s,a,c)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}bo(e,t){const s=QR[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class XR extends YR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,a){const c=zp();return new Promise((d,f)=>{const p=new $2;p.setWithCredentials(!0),p.listenOnce(Q2.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Id.NO_ERROR:const v=p.getResponseJson();ge(an,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case Id.TIMEOUT:ge(an,`RPC '${e}' ${c} timed out`),f(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Id.HTTP_ERROR:const b=p.getStatus();if(ge(an,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const T=E==null?void 0:E.error;if(T&&T.status&&T.message){const M=function(R){const L=R.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(L)>=0?L:ie.UNKNOWN}(T.status);f(new me(M,T.message))}else f(new me(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ge(an,`RPC '${e}' ${c} completed.`)}});const g=JSON.stringify(a);ge(an,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const a=zp(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=X2(),f=K2(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=c.join("");ge(an,`Creating RPC '${e}' stream ${a}: ${v}`,p);const b=d.createWebChannel(v,p);let E=!1,T=!1;const M=new KR({Fo:R=>{T?ge(an,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(E||(ge(an,`Opening RPC '${e}' stream ${a} transport.`),b.open(),E=!0),ge(an,`RPC '${e}' stream ${a} sending:`,R),b.send(R))},Mo:()=>b.close()}),V=(R,L,O)=>{R.listen(L,S=>{try{O(S)}catch(F){setTimeout(()=>{throw F},0)}})};return V(b,uc.EventType.OPEN,()=>{T||(ge(an,`RPC '${e}' stream ${a} transport opened.`),M.Qo())}),V(b,uc.EventType.CLOSE,()=>{T||(T=!0,ge(an,`RPC '${e}' stream ${a} transport closed`),M.Uo())}),V(b,uc.EventType.ERROR,R=>{T||(T=!0,Ro(an,`RPC '${e}' stream ${a} transport errored:`,R),M.Uo(new me(ie.UNAVAILABLE,"The operation could not be completed")))}),V(b,uc.EventType.MESSAGE,R=>{var L;if(!T){const O=R.data[0];Ke(!!O);const S=O,F=(S==null?void 0:S.error)||((L=S[0])===null||L===void 0?void 0:L.error);if(F){ge(an,`RPC '${e}' stream ${a} received error:`,F);const P=F.status;let $=function(D){const U=Dt[D];if(U!==void 0)return I1(U)}(P),C=F.message;$===void 0&&($=ie.INTERNAL,C="Unknown error status: "+P+" with message "+F.message),T=!0,M.Uo(new me($,C)),b.close()}else ge(an,`RPC '${e}' stream ${a} received:`,O),M.Ko(O)}}),V(f,Y2.STAT_EVENT,R=>{R.stat===Ap.PROXY?ge(an,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===Ap.NOPROXY&&ge(an,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(r){return new tR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,t,s=1e3,a=1.5,c=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=a,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-s);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="PersistentStream";class Q1{constructor(e,t,s,a,c,d,f,p){this.Ti=e,this.n_=s,this.r_=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new $1(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(js(t.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.i_===t&&this.V_(s,a)},s=>{e(()=>{const a=new me(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(a)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{s(()=>this.m_(a))}),this.stream.onMessage(a=>{s(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ge(Kb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ge(Kb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZR extends Q1{constructor(e,t,s,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,d),this.serializer=c}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=sR(this.serializer,e),s=function(c){if(!("targetChange"in c))return Ie.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?Or(d.readTime):Ie.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Vp(this.serializer),t.addTarget=function(c,d){let f;const p=d.target;if(f=Dp(p)?{documents:oR(c,p)}:{query:U1(c,p).ht},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=L1(c,d.resumeToken);const g=Lp(c,d.expectedCount);g!==null&&(f.expectedCount=g)}else if(d.snapshotVersion.compareTo(Ie.min())>0){f.readTime=eh(c,d.snapshotVersion.toTimestamp());const g=Lp(c,d.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const s=uR(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Vp(this.serializer),t.removeTarget=e,this.I_(t)}}class JR extends Q1{constructor(e,t,s,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=aR(e.writeResults,e.commitTime),s=Or(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Vp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>iR(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{}class t3 extends e3{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,Op(t,s),a,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ie.UNKNOWN,c.toString())})}Co(e,t,s,a,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.Co(e,Op(t,s),a,d,f,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new me(ie.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class n3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(js(t),this.N_=!1):ge("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="RemoteStore";class r3{constructor(e,t,s,a,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{ja(this)&&(ge(Ea,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.W_.add(4),await Fc(g),g.j_.set("Unknown"),g.W_.delete(4),await Sh(g)}(this))})}),this.j_=new n3(s,a)}}async function Sh(r){if(ja(r))for(const e of r.G_)await e(!0)}async function Fc(r){for(const e of r.G_)await e(!1)}function Y1(r,e){const t=Re(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Mg(t)?Dg(t):Wo(t).c_()&&Ig(t,e))}function kg(r,e){const t=Re(r),s=Wo(t);t.K_.delete(e),s.c_()&&K1(t,e),t.K_.size===0&&(s.c_()?s.P_():ja(t)&&t.j_.set("Unknown"))}function Ig(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wo(r).y_(e)}function K1(r,e){r.H_.Ne(e),Wo(r).w_(e)}function Dg(r){r.H_=new X4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Wo(r).start(),r.j_.B_()}function Mg(r){return ja(r)&&!Wo(r).u_()&&r.K_.size>0}function ja(r){return Re(r).W_.size===0}function X1(r){r.H_=void 0}async function s3(r){r.j_.set("Online")}async function i3(r){r.K_.forEach((e,t)=>{Ig(r,e)})}async function a3(r,e){X1(r),Mg(r)?(r.j_.q_(e),Dg(r)):r.j_.set("Unknown")}async function o3(r,e,t){if(r.j_.set("Online"),e instanceof M1&&e.state===2&&e.cause)try{await async function(a,c){const d=c.cause;for(const f of c.targetIds)a.K_.has(f)&&(await a.remoteSyncer.rejectListen(f,d),a.K_.delete(f),a.H_.removeTarget(f))}(r,e)}catch(s){ge(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nh(r,s)}else if(e instanceof Od?r.H_.We(e):e instanceof D1?r.H_.Ze(e):r.H_.je(e),!t.isEqual(Ie.min()))try{const s=await W1(r.localStore);t.compareTo(s)>=0&&await function(c,d){const f=c.H_.ot(d);return f.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=c.K_.get(g);v&&c.K_.set(g,v.withResumeToken(p.resumeToken,d))}}),f.targetMismatches.forEach((p,g)=>{const v=c.K_.get(p);if(!v)return;c.K_.set(p,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),K1(c,p);const b=new fi(v.target,p,g,v.sequenceNumber);Ig(c,b)}),c.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(s){ge(Ea,"Failed to raise snapshot:",s),await nh(r,s)}}async function nh(r,e,t){if(!Ho(e))throw e;r.W_.add(1),await Fc(r),r.j_.set("Offline"),t||(t=()=>W1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ge(Ea,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Sh(r)})}function Z1(r,e){return e().catch(t=>nh(r,t,e))}async function jh(r){const e=Re(r),t=Ti(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:gg;for(;l3(e);)try{const a=await qR(e.localStore,s);if(a===null){e.U_.length===0&&t.P_();break}s=a.batchId,c3(e,a)}catch(a){await nh(e,a)}J1(e)&&e_(e)}function l3(r){return ja(r)&&r.U_.length<10}function c3(r,e){r.U_.push(e);const t=Ti(r);t.c_()&&t.S_&&t.b_(e.mutations)}function J1(r){return ja(r)&&!Ti(r).u_()&&r.U_.length>0}function e_(r){Ti(r).start()}async function u3(r){Ti(r).C_()}async function d3(r){const e=Ti(r);for(const t of r.U_)e.b_(t.mutations)}async function h3(r,e,t){const s=r.U_.shift(),a=Ng.from(s,e,t);await Z1(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),await jh(r)}async function f3(r,e){e&&Ti(r).S_&&await async function(s,a){if(function(d){return Y4(d)&&d!==ie.ABORTED}(a.code)){const c=s.U_.shift();Ti(s).h_(),await Z1(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await jh(s)}}(r,e),J1(r)&&e_(r)}async function Xb(r,e){const t=Re(r);t.asyncQueue.verifyOperationInProgress(),ge(Ea,"RemoteStore received new credentials");const s=ja(t);t.W_.add(3),await Fc(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Sh(t)}async function m3(r,e){const t=Re(r);e?(t.W_.delete(2),await Sh(t)):e||(t.W_.add(2),await Fc(t),t.j_.set("Unknown"))}function Wo(r){return r.J_||(r.J_=function(t,s,a){const c=Re(t);return c.M_(),new ZR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(r.datastore,r.asyncQueue,{xo:s3.bind(null,r),No:i3.bind(null,r),Lo:a3.bind(null,r),p_:o3.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Mg(r)?Dg(r):r.j_.set("Unknown")):(await r.J_.stop(),X1(r))})),r.J_}function Ti(r){return r.Y_||(r.Y_=function(t,s,a){const c=Re(t);return c.M_(),new JR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:u3.bind(null,r),Lo:f3.bind(null,r),D_:d3.bind(null,r),v_:h3.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await jh(r)):(await r.Y_.stop(),r.U_.length>0&&(ge(Ea,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,c){const d=Date.now()+s,f=new Lg(e,t,d,a,c);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(r,e){if(js("AsyncQueue",`${e}: ${r}`),Ho(r))return new me(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=dc(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ao;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.Z_=new xt(_e.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ce():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Oo{constructor(e,t,s,a,c,d,f,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,a,c){const d=[];return t.forEach(f=>{d.push({type:0,doc:f})}),new Oo(e,t,Ao.emptySet(t),d,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class g3{constructor(){this.queries=Jb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const a=Re(t),c=a.queries;a.queries=Jb(),c.forEach((d,f)=>{for(const p of f.ta)p.onError(s)})})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function Jb(){return new Sa(r=>x1(r),bh)}async function Pg(r,e){const t=Re(r);let s=3;const a=e.query;let c=t.queries.get(a);c?!c.na()&&e.ra()&&(s=2):(c=new p3,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await t.onListen(a,!0);break;case 1:c.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(d){const f=Og(d,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,c),c.ta.push(e),e.sa(t.onlineState),c.ea&&e.oa(c.ea)&&Ug(t)}async function Vg(r,e){const t=Re(r),s=e.query;let a=3;const c=t.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?a=e.ra()?0:1:!c.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function y3(r,e){const t=Re(r);let s=!1;for(const a of e){const c=a.query,d=t.queries.get(c);if(d){for(const f of d.ta)f.oa(a)&&(s=!0);d.ea=a}}s&&Ug(t)}function v3(r,e,t){const s=Re(r),a=s.queries.get(e);if(a)for(const c of a.ta)c.onError(t);s.queries.delete(e)}function Ug(r){r.ia.forEach(e=>{e.next()})}var Bp,ew;(ew=Bp||(Bp={}))._a="default",ew.Cache="cache";class zg{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this.key=e}}class n_{constructor(e){this.key=e}}class x3{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Fe(),this.mutatedKeys=Fe(),this.ya=b1(e),this.wa=new Ao(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new Zb,a=t?t.wa:this.wa;let c=t?t.mutatedKeys:this.mutatedKeys,d=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,b)=>{const E=a.get(v),T=wh(this.query,b)?b:null,M=!!E&&this.mutatedKeys.has(E.key),V=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let R=!1;E&&T?E.data.isEqual(T.data)?M!==V&&(s.track({type:3,doc:T}),R=!0):this.va(E,T)||(s.track({type:2,doc:T}),R=!0,(p&&this.ya(T,p)>0||g&&this.ya(T,g)<0)&&(f=!0)):!E&&T?(s.track({type:0,doc:T}),R=!0):E&&!T&&(s.track({type:1,doc:E}),R=!0,(p||g)&&(f=!0)),R&&(T?(d=d.add(T),c=V?c.add(v):c.delete(v)):(d=d.delete(v),c=c.delete(v)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const v=this.query.limitType==="F"?d.last():d.first();d=d.delete(v.key),c=c.delete(v.key),s.track({type:1,doc:v})}return{wa:d,Da:s,ls:f,mutatedKeys:c}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((v,b)=>function(T,M){const V=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return V(T)-V(M)}(v.type,b.type)||this.ya(v.doc,b.doc)),this.Ca(s),a=a!=null&&a;const f=t&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,g=p!==this.ga;return this.ga=p,d.length!==0||g?{snapshot:new Oo(this.query,e.wa,c,d,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Zb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Fe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new n_(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new t_(s))}),t}Oa(e){this.fa=e.gs,this.pa=Fe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Oo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Bg="SyncEngine";class b3{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class w3{constructor(e){this.key=e,this.Ba=!1}}class _3{constructor(e,t,s,a,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Sa(f=>x1(f),bh),this.qa=new Map,this.Qa=new Set,this.$a=new xt(_e.comparator),this.Ua=new Map,this.Ka=new jg,this.Wa={},this.Ga=new Map,this.za=Lo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function E3(r,e,t=!0){const s=l_(r);let a;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Na()):a=await r_(s,e,t,!0),a}async function N3(r,e){const t=l_(r);await r_(t,e,!0,!1)}async function r_(r,e,t,s){const a=await HR(r.localStore,Lr(e)),c=a.targetId,d=r.sharedClientState.addLocalQueryTarget(c,t);let f;return s&&(f=await T3(r,e,c,d==="current",a.resumeToken)),r.isPrimaryClient&&t&&Y1(r.remoteStore,a),f}async function T3(r,e,t,s,a){r.Ha=(b,E,T)=>async function(V,R,L,O){let S=R.view.ba(L);S.ls&&(S=await Wb(V.localStore,R.query,!1).then(({documents:C})=>R.view.ba(C,S)));const F=O&&O.targetChanges.get(R.targetId),P=O&&O.targetMismatches.get(R.targetId)!=null,$=R.view.applyChanges(S,V.isPrimaryClient,F,P);return nw(V,R.targetId,$.Ma),$.snapshot}(r,b,E,T);const c=await Wb(r.localStore,e,!0),d=new x3(e,c.gs),f=d.ba(c.documents),p=Bc.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",a),g=d.applyChanges(f,r.isPrimaryClient,p);nw(r,t,g.Ma);const v=new b3(e,t,d);return r.ka.set(e,v),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),g.snapshot}async function S3(r,e,t){const s=Re(r),a=s.ka.get(e),c=s.qa.get(a.targetId);if(c.length>1)return s.qa.set(a.targetId,c.filter(d=>!bh(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Up(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&kg(s.remoteStore,a.targetId),Fp(s,a.targetId)}).catch(qo)):(Fp(s,a.targetId),await Up(s.localStore,a.targetId,!0))}async function j3(r,e){const t=Re(r),s=t.ka.get(e),a=t.qa.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),kg(t.remoteStore,s.targetId))}async function A3(r,e,t){const s=L3(r);try{const a=await function(d,f){const p=Re(d),g=jt.now(),v=f.reduce((T,M)=>T.add(M.key),Fe());let b,E;return p.persistence.runTransaction("Locally write mutations","readwrite",T=>{let M=As(),V=Fe();return p.ds.getEntries(T,v).next(R=>{M=R,M.forEach((L,O)=>{O.isValidDocument()||(V=V.add(L))})}).next(()=>p.localDocuments.getOverlayedDocuments(T,M)).next(R=>{b=R;const L=[];for(const O of f){const S=q4(O,b.get(O.key).overlayedDocument);S!=null&&L.push(new Ii(O.key,S,u1(S.value.mapValue),Kn.exists(!0)))}return p.mutationQueue.addMutationBatch(T,g,L,f)}).next(R=>{E=R;const L=R.applyToLocalDocumentSet(b,V);return p.documentOverlayCache.saveOverlays(T,R.batchId,L)})}).then(()=>({batchId:E.batchId,changes:_1(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(d,f,p){let g=d.Wa[d.currentUser.toKey()];g||(g=new xt(Pe)),g=g.insert(f,p),d.Wa[d.currentUser.toKey()]=g}(s,a.batchId,t),await qc(s,a.changes),await jh(s.remoteStore)}catch(a){const c=Og(a,"Failed to persist write");t.reject(c)}}async function s_(r,e){const t=Re(r);try{const s=await BR(t.localStore,e);e.targetChanges.forEach((a,c)=>{const d=t.Ua.get(c);d&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?d.Ba=!0:a.modifiedDocuments.size>0?Ke(d.Ba):a.removedDocuments.size>0&&(Ke(d.Ba),d.Ba=!1))}),await qc(t,s,e)}catch(s){await qo(s)}}function tw(r,e,t){const s=Re(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.ka.forEach((c,d)=>{const f=d.view.sa(e);f.snapshot&&a.push(f.snapshot)}),function(d,f){const p=Re(d);p.onlineState=f;let g=!1;p.queries.forEach((v,b)=>{for(const E of b.ta)E.sa(f)&&(g=!0)}),g&&Ug(p)}(s.eventManager,e),a.length&&s.La.p_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function C3(r,e,t){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Ua.get(e),c=a&&a.key;if(c){let d=new xt(_e.comparator);d=d.insert(c,ln.newNoDocument(c,Ie.min()));const f=Fe().add(c),p=new Nh(Ie.min(),new Map,new xt(Pe),d,f);await s_(s,p),s.$a=s.$a.remove(c),s.Ua.delete(e),Fg(s)}else await Up(s.localStore,e,!1).then(()=>Fp(s,e,t)).catch(qo)}async function R3(r,e){const t=Re(r),s=e.batch.batchId;try{const a=await zR(t.localStore,e);a_(t,s,null),i_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await qc(t,a)}catch(a){await qo(a)}}async function k3(r,e,t){const s=Re(r);try{const a=await function(d,f){const p=Re(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,f).next(b=>(Ke(b!==null),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);a_(s,e,t),i_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await qc(s,a)}catch(a){await qo(a)}}function i_(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function a_(r,e,t){const s=Re(r);let a=s.Wa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Wa[s.currentUser.toKey()]=a}}function Fp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||o_(r,s)})}function o_(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(kg(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),Fg(r))}function nw(r,e,t){for(const s of t)s instanceof t_?(r.Ka.addReference(s.key,e),I3(r,s)):s instanceof n_?(ge(Bg,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||o_(r,s.key)):Ce()}function I3(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(ge(Bg,"New document in limbo: "+t),r.Qa.add(s),Fg(r))}function Fg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new _e(ut.fromString(e)),s=r.za.next();r.Ua.set(s,new w3(t)),r.$a=r.$a.insert(t,s),Y1(r.remoteStore,new fi(Lr(xh(t.path)),s,"TargetPurposeLimboResolution",gh.ae))}}async function qc(r,e,t){const s=Re(r),a=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((f,p)=>{d.push(s.Ha(p,e,t).then(g=>{var v;if((g||t)&&s.isPrimaryClient){const b=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){a.push(g);const b=Cg.Yi(p.targetId,g);c.push(b)}}))}),await Promise.all(d),s.La.p_(a),await async function(p,g){const v=Re(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>le.forEach(g,E=>le.forEach(E.Hi,T=>v.persistence.referenceDelegate.addReference(b,E.targetId,T)).next(()=>le.forEach(E.Ji,T=>v.persistence.referenceDelegate.removeReference(b,E.targetId,T)))))}catch(b){if(!Ho(b))throw b;ge(Rg,"Failed to update sequence numbers: "+b)}for(const b of g){const E=b.targetId;if(!b.fromCache){const T=v.Ts.get(E),M=T.snapshotVersion,V=T.withLastLimboFreeSnapshotVersion(M);v.Ts=v.Ts.insert(E,V)}}}(s.localStore,c))}async function D3(r,e){const t=Re(r);if(!t.currentUser.isEqual(e)){ge(Bg,"User change. New user:",e.toKey());const s=await G1(t.localStore,e);t.currentUser=e,function(c,d){c.Ga.forEach(f=>{f.forEach(p=>{p.reject(new me(ie.CANCELLED,d))})}),c.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await qc(t,s.Rs)}}function M3(r,e){const t=Re(r),s=t.Ua.get(e);if(s&&s.Ba)return Fe().add(s.key);{let a=Fe();const c=t.qa.get(e);if(!c)return a;for(const d of c){const f=t.ka.get(d);a=a.unionWith(f.view.Sa)}return a}}function l_(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=s_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C3.bind(null,e),e.La.p_=y3.bind(null,e.eventManager),e.La.Ja=v3.bind(null,e.eventManager),e}function L3(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k3.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return UR(this.persistence,new OR,e.initialUser,this.serializer)}Xa(e){return new H1(Ag.ri,this.serializer)}Za(e){return new WR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class O3 extends rh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ke(this.persistence.referenceDelegate instanceof th);const s=this.persistence.referenceDelegate.garbageCollector;return new wR(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new H1(s=>th.ri(s,t),this.serializer)}}class qp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=D3.bind(null,this.syncEngine),await m3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new g3}()}createDatastore(e){const t=Th(e.databaseInfo.databaseId),s=function(c){return new XR(c)}(e.databaseInfo);return function(c,d,f,p){return new t3(c,d,f,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,c,d,f){return new r3(s,a,c,d,f)}(this.localStore,this.datastore,e.asyncQueue,t=>tw(this.syncEngine,t,0),function(){return Yb.D()?new Yb:new $R}())}createSyncEngine(e,t){return function(a,c,d,f,p,g,v){const b=new _3(a,c,d,f,p,g);return v&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const c=Re(a);ge(Ea,"RemoteStore shutting down."),c.W_.add(5),await Fc(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}qp.provider={build:()=>new qp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):js("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="FirestoreClient";class P3{constructor(e,t,s,a,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=e1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ge(Si,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ge(Si,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Og(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function sp(r,e){r.asyncQueue.verifyOperationInProgress(),ge(Si,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async a=>{s.isEqual(a)||(await G1(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function rw(r,e){r.asyncQueue.verifyOperationInProgress();const t=await V3(r);ge(Si,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Xb(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,a)=>Xb(e.remoteStore,a)),r._onlineComponents=e}async function V3(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ge(Si,"Using user provided OfflineComponentProvider");try{await sp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Ro("Error using user provided cache. Falling back to memory cache: "+t),await sp(r,new rh)}}else ge(Si,"Using default OfflineComponentProvider"),await sp(r,new O3(void 0));return r._offlineComponents}async function Hg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ge(Si,"Using user provided OnlineComponentProvider"),await rw(r,r._uninitializedComponentsProvider._online)):(ge(Si,"Using default OnlineComponentProvider"),await rw(r,new qp))),r._onlineComponents}function U3(r){return Hg(r).then(e=>e.syncEngine)}function z3(r){return Hg(r).then(e=>e.datastore)}async function sh(r){const e=await Hg(r),t=e.eventManager;return t.onListen=E3.bind(null,e.syncEngine),t.onUnlisten=S3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=N3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=j3.bind(null,e.syncEngine),t}function B3(r,e,t={}){const s=new Mr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,f,p,g){const v=new qg({next:E=>{v.su(),d.enqueueAndForget(()=>Vg(c,b));const T=E.docs.has(f);!T&&E.fromCache?g.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&p&&p.source==="server"?g.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new zg(xh(f.path),v,{includeMetadataChanges:!0,Ta:!0});return Pg(c,b)}(await sh(r),r.asyncQueue,e,t,s)),s.promise}function F3(r,e,t={}){const s=new Mr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,f,p,g){const v=new qg({next:E=>{v.su(),d.enqueueAndForget(()=>Vg(c,b)),E.fromCache&&p.source==="server"?g.reject(new me(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new zg(f,v,{includeMetadataChanges:!0,Ta:!0});return Pg(c,b)}(await sh(r),r.asyncQueue,e,t,s)),s.promise}function q3(r,e,t){const s=new Mr;return r.asyncQueue.enqueueAndForget(async()=>{try{const a=await z3(r);s.resolve(async function(d,f,p){var g;const v=Re(d),{request:b,Pt:E,parent:T}=lR(v.serializer,R4(f),p);v.connection.fo||delete b.parent;const M=(await v.Co("RunAggregationQuery",v.serializer.databaseId,T,b,1)).filter(R=>!!R.result);Ke(M.length===1);const V=(g=M[0].result)===null||g===void 0?void 0:g.aggregateFields;return Object.keys(V).reduce((R,L)=>(R[E[L]]=V[L],R),{})}(a,e,t))}catch(a){s.reject(a)}}),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(r,e,t){if(!t)throw new me(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function H3(r,e,t,s){if(e===!0&&s===!0)throw new me(ie.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function iw(r){if(!_e.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function aw(r){if(_e.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ah(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce()}function gn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ah(r);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function G3(r,e){if(e<=0)throw new me(ie.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="firestore.googleapis.com",ow=!0;class lw{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d_,this.ssl=ow}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ow;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xR)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new YC;switch(s.type){case"firstParty":return new JC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=sw.get(t);s&&(ge("ComponentProvider","Removing Datastore"),sw.delete(t),s.terminate())}(this),Promise.resolve()}}function W3(r,e,t,s={}){var a;const c=(r=gn(r,Ch))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),f=`${e}:${t}`;c.host!==d_&&c.host!==f&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:f,ssl:!1,emulatorOptions:s});if(!xi(p,d)&&(r._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=on.MOCK_USER;else{g=i2(s.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new on(b)}r._authCredentials=new KC(new Z2(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Is(this.firestore,e,this._query)}}class un{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class yi extends Is{constructor(e,t,s){super(e,t,xh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new _e(e))}withConverter(e){return new yi(this.firestore,e,this._path)}}function at(r,e,...t){if(r=vt(r),u_("collection","path",e),r instanceof Ch){const s=ut.fromString(e,...t);return aw(s),new yi(r,null,s)}{if(!(r instanceof un||r instanceof yi))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...t));return aw(s),new yi(r.firestore,null,s)}}function Qe(r,e,...t){if(r=vt(r),arguments.length===1&&(e=e1.newId()),u_("doc","path",e),r instanceof Ch){const s=ut.fromString(e,...t);return iw(s),new un(r,null,new _e(s))}{if(!(r instanceof un||r instanceof yi))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...t));return iw(s),new un(r.firestore,r instanceof yi?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="AsyncQueue";class uw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new $1(this,"async_queue_retry"),this.Su=()=>{const s=rp();s&&ge(cw,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Mr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ho(e))throw e;ge(cw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const a=function(d){let f=d.message||"";return d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),f}(s);throw js("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Lg.createAndSchedule(this,e,t,s,c=>this.Fu(c));return this.fu.push(a),a}Du(){this.gu&&Ce()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function dw(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Ur extends Ch{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new uw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uw(e),this._firestoreClient=void 0,await e}}}function $3(r,e){const t=typeof r=="object"?r:rg(),s=typeof r=="string"?r:Kd,a=hh(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=n2("firestore");c&&W3(a,...c)}return a}function Hc(r){if(r._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Q3(r),r._firestoreClient}function Q3(r){var e,t,s;const a=r._freezeSettings(),c=function(f,p,g,v){return new p4(f,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,c_(v.experimentalLongPollingOptions),v.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new P3(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class K3{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Po(tn.fromBase64String(e))}catch(t){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Po(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=/^__.*__$/;class Z3{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ii(e,this.data,this.fieldMask,t,this.fieldTransforms):new zc(e,this.data,t,this.fieldTransforms)}}class h_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ii(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function f_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class kh{constructor(e,t,s,a,c,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new kh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:s,Qu:!1});return a.$u(e),a}Uu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:s,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ih(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(f_(this.Lu)&&X3.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class J3{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Th(e)}ju(e,t,s,a=!1){return new kh({Lu:e,methodName:t,zu:s,path:en.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ih(r){const e=r._freezeSettings(),t=Th(r._databaseId);return new J3(r._databaseId,!!e.ignoreUndefinedProperties,t)}function m_(r,e,t,s,a,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,e,t,a);Kg("Data must be an object, but it was:",d,s);const f=p_(s,d);let p,g;if(c.merge)p=new Ln(d.fieldMask),g=d.fieldTransforms;else if(c.mergeFields){const v=[];for(const b of c.mergeFields){const E=Hp(e,b,t);if(!d.contains(E))throw new me(ie.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);y_(v,E)||v.push(E)}p=new Ln(v),g=d.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=d.fieldTransforms;return new Z3(new En(f),p,g)}class Dh extends $o{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}function ek(r,e,t){return new kh({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $g extends $o{_toFieldTransform(e){return new _g(e.path,new Ac)}isEqual(e){return e instanceof $g}}class Qg extends $o{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=ek(this,e,!0),s=this.Hu.map(c=>Qo(c,t)),a=new Mo(s);return new _g(e.path,a)}isEqual(e){return e instanceof Qg&&xi(this.Hu,e.Hu)}}class Yg extends $o{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Rc(e.serializer,T1(e.serializer,this.Ju));return new _g(e.path,t)}isEqual(e){return e instanceof Yg&&this.Ju===e.Ju}}function tk(r,e,t,s){const a=r.ju(1,e,t);Kg("Data must be an object, but it was:",a,s);const c=[],d=En.empty();ki(s,(p,g)=>{const v=Xg(e,p,t);g=vt(g);const b=a.Uu(v);if(g instanceof Dh)c.push(v);else{const E=Qo(g,b);E!=null&&(c.push(v),d.set(v,E))}});const f=new Ln(c);return new h_(d,f,a.fieldTransforms)}function nk(r,e,t,s,a,c){const d=r.ju(1,e,t),f=[Hp(e,s,t)],p=[a];if(c.length%2!=0)throw new me(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<c.length;E+=2)f.push(Hp(e,c[E])),p.push(c[E+1]);const g=[],v=En.empty();for(let E=f.length-1;E>=0;--E)if(!y_(g,f[E])){const T=f[E];let M=p[E];M=vt(M);const V=d.Uu(T);if(M instanceof Dh)g.push(T);else{const R=Qo(M,V);R!=null&&(g.push(T),v.set(T,R))}}const b=new Ln(g);return new h_(v,b,d.fieldTransforms)}function rk(r,e,t,s=!1){return Qo(t,r.ju(s?4:3,e))}function Qo(r,e){if(g_(r=vt(r)))return Kg("Unsupported field value:",e,r),p_(r,e);if(r instanceof $o)return function(s,a){if(!f_(a.Lu))throw a.Wu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,a){const c=[];let d=0;for(const f of s){let p=Qo(f,a.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,e)}return function(s,a){if((s=vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return T1(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=jt.fromDate(s);return{timestampValue:eh(a.serializer,c)}}if(s instanceof jt){const c=new jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:eh(a.serializer,c)}}if(s instanceof Gg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Po)return{bytesValue:L1(a.serializer,s._byteString)};if(s instanceof un){const c=a.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw a.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Sg(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Wg)return function(d,f){return{mapValue:{fields:{[l1]:{stringValue:c1},[Xd]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw f.Wu("VectorValues must only contain numeric values.");return wg(f.serializer,g)})}}}}}}(s,a);throw a.Wu(`Unsupported field value: ${Ah(s)}`)}(r,e)}function p_(r,e){const t={};return n1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(r,(s,a)=>{const c=Qo(a,e.qu(s));c!=null&&(t[s]=c)}),{mapValue:{fields:t}}}function g_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof jt||r instanceof Gg||r instanceof Po||r instanceof un||r instanceof $o||r instanceof Wg)}function Kg(r,e,t){if(!g_(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const s=Ah(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Hp(r,e,t){if((e=vt(e))instanceof Rh)return e._internalPath;if(typeof e=="string")return Xg(r,e);throw ih("Field path arguments must be of type string or ",r,!1,void 0,t)}const sk=new RegExp("[~\\*/\\[\\]]");function Xg(r,e,t){if(e.search(sk)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Rh(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function ih(r,e,t,s,a){const c=s&&!s.isEmpty(),d=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${a}`),p+=")"),new me(ie.INVALID_ARGUMENT,f+r+p)}function y_(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ik(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ik extends v_{data(){return super.data()}}function Mh(r,e){return typeof e=="string"?Xg(r,e):e instanceof Rh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zg{}class Jg extends Zg{}function gt(r,e,...t){let s=[];e instanceof Zg&&s.push(e),s=s.concat(t),function(c){const d=c.filter(p=>p instanceof e0).length,f=c.filter(p=>p instanceof Lh).length;if(d>1||d>0&&f>0)throw new me(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class Lh extends Jg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Lh(e,t,s)}_apply(e){const t=this._parse(e);return b_(e._query,t),new Is(e.firestore,e.converter,Mp(e._query,t))}_parse(e){const t=Ih(e.firestore);return function(c,d,f,p,g,v,b){let E;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){fw(b,v);const M=[];for(const V of b)M.push(hw(p,c,V));E={arrayValue:{values:M}}}else E=hw(p,c,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||fw(b,v),E=rk(f,d,b,v==="in"||v==="not-in");return Mt.create(g,v,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function mt(r,e,t){const s=e,a=Mh("where",r);return Lh._create(a,s,t)}class e0 extends Zg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new e0(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,c){let d=a;const f=c.getFlattenedFilters();for(const p of f)b_(d,p),d=Mp(d,p)}(e._query,t),new Is(e.firestore,e.converter,Mp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class t0 extends Jg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new t0(e,t)}_apply(e){const t=function(a,c,d){if(a.startAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jc(c,d)}(e._query,this._field,this._direction);return new Is(e.firestore,e.converter,function(a,c){const d=a.explicitOrderBy.concat([c]);return new Go(a.path,a.collectionGroup,d,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function Vo(r,e="asc"){const t=e,s=Mh("orderBy",r);return t0._create(s,t)}class n0 extends Jg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new n0(e,t,s)}_apply(e){return new Is(e.firestore,e.converter,Jd(e._query,this._limit,this._limitType))}}function hr(r){return G3("limit",r),n0._create("limit",r,"F")}function hw(r,e,t){if(typeof(t=vt(t))=="string"){if(t==="")throw new me(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y1(e)&&t.indexOf("/")!==-1)throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ut.fromString(t));if(!_e.isDocumentKey(s))throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jb(r,new _e(s))}if(t instanceof un)return jb(r,t._key);throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(t)}.`)}function fw(r,e){if(!Array.isArray(r)||r.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function b_(r,e){const t=function(a,c){for(const d of a)for(const f of d.getFlattenedFilters())if(c.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ak{convertValue(e,t="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ki(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertVectorValue(e){var t,s,a;const c=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[Xd].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(d=>St(d.doubleValue));return new Wg(c)}convertGeoPoint(e){return new Gg(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=vh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Nc(e));default:return null}}convertTimestamp(e){const t=_i(e);return new jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ut.fromString(e);Ke(F1(s));const a=new Tc(s.get(1),s.get(3)),c=new _e(s.popFirst(5));return a.isEqual(t)||js(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(r,e,t){let s;return s=r?r.toFirestore(e):e,s}function ok(){return new Y3("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class __ extends v_{constructor(e,t,s,a,c,d){super(e,t,s,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Mh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Pd extends __{data(e={}){return super.data(e)}}class E_{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new fc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Pd(this._firestore,this._userDataWriter,s.key,s,new fc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map(f=>{const p=new Pd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new fc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>c||f.type!==3).map(f=>{const p=new Pd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new fc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return f.type!==0&&(g=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),f.type!==1&&(d=d.add(f.doc),v=d.indexOf(f.doc.key)),{type:lk(f.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(r){r=gn(r,un);const e=gn(r.firestore,Ur);return B3(Hc(e),r._key).then(t=>T_(e,r,t))}class Oh extends ak{constructor(e){super(),this.firestore=e}convertBytes(e){return new Po(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,t)}}function vi(r){r=gn(r,Is);const e=gn(r.firestore,Ur),t=Hc(e),s=new Oh(e);return x_(r._query),F3(t,r._query).then(a=>new E_(e,s,r,a))}function Gp(r,e,t){r=gn(r,un);const s=gn(r.firestore,Ur),a=w_(r.converter,e);return Ph(s,[m_(Ih(s),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Kn.none())])}function On(r,e,t,...s){r=gn(r,un);const a=gn(r.firestore,Ur),c=Ih(a);let d;return d=typeof(e=vt(e))=="string"||e instanceof Rh?nk(c,"updateDoc",r._key,e,t,s):tk(c,"updateDoc",r._key,e),Ph(a,[d.toMutation(r._key,Kn.exists(!0))])}function N_(r){return Ph(gn(r.firestore,Ur),[new Eg(r._key,Kn.none())])}function ji(r,e){const t=gn(r.firestore,Ur),s=Qe(r),a=w_(r.converter,e);return Ph(t,[m_(Ih(r.firestore),"addDoc",s._key,a,r.converter!==null,{}).toMutation(s._key,Kn.exists(!1))]).then(()=>s)}function Pr(r,...e){var t,s,a;r=vt(r);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||dw(e[d])||(c=e[d],d++);const f={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(dw(e[d])){const b=e[d];e[d]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[d+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[d+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let p,g,v;if(r instanceof un)g=gn(r.firestore,Ur),v=xh(r._key.path),p={next:b=>{e[d]&&e[d](T_(g,r,b))},error:e[d+1],complete:e[d+2]};else{const b=gn(r,Is);g=gn(b.firestore,Ur),v=b._query;const E=new Oh(g);p={next:T=>{e[d]&&e[d](new E_(g,E,b,T))},error:e[d+1],complete:e[d+2]},x_(r._query)}return function(E,T,M,V){const R=new qg(V),L=new zg(T,R,M);return E.asyncQueue.enqueueAndForget(async()=>Pg(await sh(E),L)),()=>{R.su(),E.asyncQueue.enqueueAndForget(async()=>Vg(await sh(E),L))}}(Hc(g),v,f,p)}function Ph(r,e){return function(s,a){const c=new Mr;return s.asyncQueue.enqueueAndForget(async()=>A3(await U3(s),a,c)),c.promise}(Hc(r),e)}function T_(r,e,t){const s=t.docs.get(e._key),a=new Oh(r);return new __(r,a,e._key,s,new fc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(r){return ck(r,{count:ok()})}function ck(r,e){const t=gn(r.firestore,Ur),s=Hc(t),a=f4(e,(c,d)=>new $4(d,c.aggregateType,c._internalFieldPath));return q3(s,r._query,a).then(c=>function(f,p,g){const v=new Oh(f);return new K3(p,v,g)}(t,r,c))}function Nn(){return new $g("serverTimestamp")}function ap(...r){return new Qg("arrayUnion",r)}function uk(r){return new Yg("increment",r)}(function(e,t=!0){(function(a){Fo=a})(Ta),xa(new bi("firestore",(s,{instanceIdentifier:a,options:c})=>{const d=s.getProvider("app").getImmediate(),f=new Ur(new XC(s.getProvider("auth-internal")),new e4(d,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(g.options.projectId,v)}(d,a),d);return c=Object.assign({useFetchStreams:t},c),f._setSettings(c),f},"PUBLIC").setMultipleInstances(!0)),Ir(pb,gb,e),Ir(pb,gb,"esm2017")})();var dk="firebase",hk="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(dk,hk,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="firebasestorage.googleapis.com",fk="storageBucket",mk=2*60*1e3,pk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends qr{constructor(e,t,s=0){super(op(e),`Firebase Storage: ${t} (${op(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Hr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return op(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zr;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zr||(zr={}));function op(r){return"storage/"+r}function gk(){const r="An unknown error occurred, please check the error payload for server response.";return new Hr(zr.UNKNOWN,r)}function yk(){return new Hr(zr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vk(){return new Hr(zr.CANCELED,"User canceled the upload/download.")}function xk(r){return new Hr(zr.INVALID_URL,"Invalid URL '"+r+"'.")}function bk(r){return new Hr(zr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function mw(r){return new Hr(zr.INVALID_ARGUMENT,r)}function j_(){return new Hr(zr.APP_DELETED,"The Firebase app was deleted.")}function wk(r){return new Hr(zr.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=cr.makeFromUrl(e,t)}catch{return new cr(e,"")}if(s.path==="")return s;throw bk(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function c(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const d="(/(.*))?$",f=new RegExp("^gs://"+a+d,"i"),p={bucket:1,path:3};function g(F){F.path_=decodeURIComponent(F.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",T=new RegExp(`^https?://${b}/${v}/b/${a}/o${E}`,"i"),M={bucket:1,path:3},V=t===S_?"(?:storage.googleapis.com|storage.cloud.google.com)":t,R="([^?#]*)",L=new RegExp(`^https?://${V}/${a}/${R}`,"i"),S=[{regex:f,indices:p,postModify:c},{regex:T,indices:M,postModify:g},{regex:L,indices:{bucket:1,path:2},postModify:g}];for(let F=0;F<S.length;F++){const P=S[F],$=P.regex.exec(e);if($){const C=$[P.indices.bucket];let N=$[P.indices.path];N||(N=""),s=new cr(C,N),P.postModify(s);break}}if(s==null)throw xk(e);return s}}class _k{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(r,e,t){let s=1,a=null,c=null,d=!1,f=0;function p(){return f===2}let g=!1;function v(...R){g||(g=!0,e.apply(null,R))}function b(R){a=setTimeout(()=>{a=null,r(T,p())},R)}function E(){c&&clearTimeout(c)}function T(R,...L){if(g){E();return}if(R){E(),v.call(null,R,...L);return}if(p()||d){E(),v.call(null,R,...L);return}s<64&&(s*=2);let S;f===1?(f=2,S=0):S=(s+Math.random())*1e3,b(S)}let M=!1;function V(R){M||(M=!0,E(),!g&&(a!==null?(R||(f=2),clearTimeout(a),b(0)):R||(f=1)))}return b(0),c=setTimeout(()=>{d=!0,V(!0)},t),V}function Nk(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(r){return r!==void 0}function pw(r,e,t,s){if(s<e)throw mw(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw mw(`Invalid value for '${r}'. Expected ${t} or less.`)}function Sk(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const a=e(s)+"="+e(r[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var ah;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ah||(ah={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(r,e){const t=r>=500&&r<600,a=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return t||a||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,t,s,a,c,d,f,p,g,v,b,E=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=f,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,M)=>{this.resolve_=T,this.reject_=M,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new _d(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=f=>{const p=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const f=c.getErrorCode()===ah.NO_ERROR,p=c.getStatus();if(!f||jk(p,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===ah.ABORT;s(!1,new _d(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new _d(g,c))})},t=(s,a)=>{const c=this.resolve_,d=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());Tk(p)?c(p):c()}catch(p){d(p)}else if(f!==null){const p=gk();p.serverResponse=f.getErrorText(),this.errorCallback_?d(this.errorCallback_(f,p)):d(p)}else if(a.canceled){const p=this.appDelete_?j_():vk();d(p)}else{const p=yk();d(p)}};this.canceled_?t(!1,new _d(!1,null,!0)):this.backoffId_=Ek(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Nk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _d{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function Ck(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Rk(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function kk(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Ik(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function Dk(r,e,t,s,a,c,d=!0){const f=Sk(r.urlParams),p=r.url+f,g=Object.assign({},r.headers);return kk(g,e),Ck(g,t),Rk(g,c),Ik(g,s),new Ak(p,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function Lk(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t){this._service=e,t instanceof cr?this._location=t:this._location=cr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new oh(e,t)}get root(){const e=new cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Lk(this._location.path)}get storage(){return this._service}get parent(){const e=Mk(this._location.path);if(e===null)return null;const t=new cr(this._location.bucket,e);return new oh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw wk(e)}}function gw(r,e){const t=e==null?void 0:e[fk];return t==null?null:cr.makeFromBucketSpec(t,r)}function Ok(r,e,t,s={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:a}=s;a&&(r._overrideAuthToken=typeof a=="string"?a:i2(a,r.app.options.projectId))}class Pk{constructor(e,t,s,a,c){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=c,this._bucket=null,this._host=S_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mk,this._maxUploadRetryTime=pk,this._requests=new Set,a!=null?this._bucket=cr.makeFromBucketSpec(a,this._host):this._bucket=gw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cr.makeFromBucketSpec(this._url,e):this._bucket=gw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oh(this,e)}_makeRequest(e,t,s,a,c=!0){if(this._deleted)return new _k(j_());{const d=Dk(e,this._appId,s,a,t,this._firebaseVersion,c);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const yw="@firebase/storage",vw="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="storage";function Vk(r=rg(),e){r=vt(r);const s=hh(r,A_).getImmediate({identifier:e}),a=n2("storage");return a&&Uk(s,...a),s}function Uk(r,e,t,s={}){Ok(r,e,t,s)}function zk(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),a=r.getProvider("app-check-internal");return new Pk(t,s,a,e,Ta)}function Bk(){xa(new bi(A_,zk,"PUBLIC").setMultipleInstances(!0)),Ir(yw,vw,""),Ir(yw,vw,"esm2017")}Bk();const Fk={apiKey:"AIzaSyCpkcTKF-5g4ZIFEVDy0lalAylYY6hSb7o",authDomain:"skillsync-e6540.firebaseapp.com",projectId:"skillsync-e6540",storageBucket:"skillsync-e6540.appspot.com",messagingSenderId:"498427951370",appId:"1:498427951370:web:d64bcb23426e6289f522f3",measurementId:"G-KTJFVETW42"},r0=l2(Fk),vs=$C(r0);vs.tokenRefreshTime=12e5;MA(vs,O2);const xe=$3(r0);Vk(r0);const C_=A.createContext(),dt=()=>A.useContext(C_),qk=({children:r})=>{const[e,t]=A.useState(null),[s,a]=A.useState(null),[c,d]=A.useState(!0),[f,p]=A.useState(""),[g,v]=A.useState(null),b=async(S,F,P,$="member")=>{try{const N=(await RA(vs,S,F)).user;return await DA(N,{displayName:P}),await Gp(Qe(xe,"users",N.uid),{uid:N.uid,name:P,email:S,role:$,skills:[],interests:[],bio:"",profileCompleted:!1,createdAt:new Date().toISOString(),profileImage:null}),N}catch(C){throw p(C.message),C}},E=async(S,F)=>{try{return(await kA(vs,S,F)).user}catch(P){throw p(P.message),P}},T=async()=>{try{const S=new xs,P=(await nC(vs,S)).user;return(await cn(Qe(xe,"users",P.uid))).exists()||await Gp(Qe(xe,"users",P.uid),{uid:P.uid,name:P.displayName||"",email:P.email,role:"member",skills:[],interests:[],bio:"",profileCompleted:!1,createdAt:new Date().toISOString(),profileImage:P.photoURL||null}),P}catch(S){throw p(S.message),S}},M=async()=>{try{await PA(vs),a(null)}catch(S){throw p(S.message),S}},V=async S=>{try{const F=await cn(Qe(xe,"users",S));if(F.exists()){const P=F.data();return a(P),P}return null}catch(F){throw p(F.message),F}},R=async(S,F)=>{try{const P=Qe(xe,"users",S);await On(P,{...F,updatedAt:new Date().toISOString()});const $={...s,...F};return a($),$}catch(P){throw p(P.message),P}},L=async S=>{if(S){const F=await Kx(S,!0);localStorage.setItem("authToken",F);const P=setTimeout(()=>{L(S)},vs.tokenRefreshTime);return()=>clearTimeout(P)}};A.useEffect(()=>OA(vs,async F=>{if(t(F),F)try{await V(F.uid),L(F)}catch(P){console.error("Error fetching user data:",P)}else localStorage.removeItem("authToken");d(!1)}),[]),A.useEffect(()=>D2(vs,async F=>{if(F){const P=await Kx(F);v(P),localStorage.setItem("authToken",P)}else v(null),localStorage.removeItem("authToken")}),[]),A.useEffect(()=>{const S=()=>{localStorage.getItem("authToken")&&!e&&d(!0)};return window.addEventListener("storage",S),window.addEventListener("focus",S),()=>{window.removeEventListener("storage",S),window.removeEventListener("focus",S)}},[e]);const O={currentUser:e,userProfile:s,signup:b,login:E,logout:M,googleSignIn:T,getUserData:V,updateUserProfile:R,error:f,setError:p,isAuthenticated:!!e,refreshToken:g};return l.jsx(C_.Provider,{value:O,children:!c&&r})},R_=(r=null)=>{const{currentUser:e}=dt(),[t,s]=A.useState([]),[a,c]=A.useState(!0),[d,f]=A.useState(null),[p,g]=A.useState(null),[v,b]=A.useState([]),[E,T]=A.useState(!0),M=async(L,O)=>{if(!L||!O)return null;try{const S=gt(at(xe,"conversations"),mt("participants","array-contains",L)),F=await vi(S);let P=null;if(F.forEach(N=>{const D=N.data();D.participants.includes(O)&&(P={id:N.id,...D})}),P)return P.id;const $={participants:[L,O],createdAt:Nn(),lastMessage:null,lastMessageTimestamp:Nn(),unreadCount:{[L]:0,[O]:0}};return(await ji(at(xe,"conversations"),$)).id}catch(S){return f(`Error getting or creating conversation: ${S.message}`),console.error("Error getting or creating conversation:",S),null}},V=async(L,O=null)=>{if(!e||!r||!p)return f("Cannot send message: Missing user or conversation information"),!1;try{const S={conversationId:p,senderId:e.uid,content:L,timestamp:Nn(),isRead:!1};O&&(S.attachment=O),await ji(at(xe,"messages"),S);const F=Qe(xe,"conversations",p);return await On(F,{lastMessage:L,lastMessageTimestamp:Nn(),[`unreadCount.${r}`]:uk(1)}),!0}catch(S){return f(`Error sending message: ${S.message}`),console.error("Error sending message:",S),!1}},R=async()=>{if(!(!e||!p))try{const L=Qe(xe,"conversations",p);await On(L,{[`unreadCount.${e.uid}`]:0});const O=gt(at(xe,"messages"),mt("conversationId","==",p),mt("senderId","==",r),mt("isRead","==",!1)),F=(await vi(O)).docs.map(P=>{const $=Qe(xe,"messages",P.id);return On($,{isRead:!0})});return await Promise.all(F),!0}catch(L){return f(`Error marking messages as read: ${L.message}`),console.error("Error marking messages as read:",L),!1}};return A.useEffect(()=>{if(!e){b([]),T(!1);return}T(!0);try{const L=gt(at(xe,"conversations"),mt("participants","array-contains",e.uid),Vo("lastMessageTimestamp","desc")),O=Pr(L,async S=>{const F=[];for(const P of S.docs){const $={id:P.id,...P.data()},C=$.participants.find(N=>N!==e.uid);if(C)try{const N=await cn(Qe(xe,"users",C));if(N.exists()){const D=N.data();$.otherUser={id:C,name:D.name,profileImage:D.profileImage,role:D.role}}}catch(N){console.error(`Error fetching user data for ${C}:`,N)}F.push($)}b(F),T(!1)},S=>{console.error("Error fetching conversations:",S),f(`Error loading conversations: ${S.message}`),T(!1)});return()=>O()}catch(L){return console.error("Error setting up conversations query:",L),f(`Error setting up conversations query: ${L.message}`),T(!1),()=>{}}},[e]),A.useEffect(()=>{if(!e||!r){s([]),c(!1);return}const L=async()=>{try{const S=await M(e.uid,r);if(!S)return f("Could not establish conversation"),c(!1),()=>{};g(S);const F=gt(at(xe,"messages"),mt("conversationId","==",S),Vo("timestamp","asc"),hr(100));return Pr(F,$=>{const C=$.docs.map(N=>({id:N.id,...N.data(),timestamp:N.data().timestamp?N.data().timestamp.toDate():new Date}));s(C),c(!1),C.some(N=>N.senderId===r&&!N.isRead)&&R()},$=>{console.error("Error fetching messages:",$),f(`Error loading messages: ${$.message}`),c(!1)})}catch(S){return console.error("Error setting up chat:",S),f(`Error setting up chat: ${S.message}`),c(!1),()=>{}}};c(!0);const O=L();return()=>{O&&typeof O.then=="function"&&O.then(S=>{S&&S()})}},[e,r]),{messages:t,chatLoading:a,chatError:d,sendMessage:V,markMessagesAsRead:R,conversationId:p,conversations:v,conversationsLoading:E,getOrCreateConversation:M}},k_=A.createContext(),s0=(r=null)=>A.useContext(k_),Hk=({children:r})=>{const{currentUser:e}=dt(),t=R_(),{conversations:s}=t,[a,c]=A.useState(0);A.useEffect(()=>{try{if(s&&e){const f=s.reduce((p,g)=>{var v;try{return p+(((v=g.unreadCount)==null?void 0:v[e.uid])||0)}catch(b){return console.error("Error calculating unread count for conversation:",b),p}},0);c(f)}else c(0)}catch(f){console.error("Error in chat context useEffect:",f),c(0)}},[s,e]);const d={...t,unreadMessagesCount:a};return l.jsx(k_.Provider,{value:d,children:r})},Ed=43200,xw=1440,bw=Symbol.for("constructDateFrom");function i0(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&bw in r?r[bw](e):r instanceof Date?new r.constructor(e):new Date(e)}function Ai(r,e){return i0(r,r)}let Gk={};function Wk(){return Gk}function ww(r){const e=Ai(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function a0(r,...e){const t=i0.bind(null,r||e.find(s=>typeof s=="object"));return e.map(t)}function Vd(r,e){const t=+Ai(r)-+Ai(e);return t<0?-1:t>0?1:t}function $k(r){return i0(r,Date.now())}function Qk(r,e,t){const[s,a]=a0(t==null?void 0:t.in,r,e),c=s.getFullYear()-a.getFullYear(),d=s.getMonth()-a.getMonth();return c*12+d}function Yk(r){return e=>{const s=(r?Math[r]:Math.trunc)(e);return s===0?0:s}}function Kk(r,e){return+Ai(r)-+Ai(e)}function Xk(r,e){const t=Ai(r);return t.setHours(23,59,59,999),t}function Zk(r,e){const t=Ai(r),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function Jk(r,e){const t=Ai(r);return+Xk(t)==+Zk(t)}function eI(r,e,t){const[s,a,c]=a0(t==null?void 0:t.in,r,r,e),d=Vd(a,c),f=Math.abs(Qk(a,c));if(f<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-d*f);let p=Vd(a,c)===-d;Jk(s)&&f===1&&Vd(s,c)===1&&(p=!1);const g=d*(f-+p);return g===0?0:g}function tI(r,e,t){const s=Kk(r,e)/1e3;return Yk(t==null?void 0:t.roundingMethod)(s)}const nI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rI=(r,e,t)=>{let s;const a=nI[r];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function lp(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const sI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oI={date:lp({formats:sI,defaultWidth:"full"}),time:lp({formats:iI,defaultWidth:"full"}),dateTime:lp({formats:aI,defaultWidth:"full"})},lI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cI=(r,e,t,s)=>lI[r];function ic(r){return(e,t)=>{const s=t!=null&&t.context?String(t.context):"standalone";let a;if(s==="formatting"&&r.formattingValues){const d=r.defaultFormattingWidth||r.defaultWidth,f=t!=null&&t.width?String(t.width):d;a=r.formattingValues[f]||r.formattingValues[d]}else{const d=r.defaultWidth,f=t!=null&&t.width?String(t.width):r.defaultWidth;a=r.values[f]||r.values[d]}const c=r.argumentCallback?r.argumentCallback(e):e;return a[c]}}const uI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gI=(r,e)=>{const t=Number(r),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},yI={ordinalNumber:gI,era:ic({values:uI,defaultWidth:"wide"}),quarter:ic({values:dI,defaultWidth:"wide",argumentCallback:r=>r-1}),month:ic({values:hI,defaultWidth:"wide"}),day:ic({values:fI,defaultWidth:"wide"}),dayPeriod:ic({values:mI,defaultWidth:"wide",formattingValues:pI,defaultFormattingWidth:"wide"})};function ac(r){return(e,t={})=>{const s=t.width,a=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],c=e.match(a);if(!c)return null;const d=c[0],f=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(f)?xI(f,b=>b.test(d)):vI(f,b=>b.test(d));let g;g=r.valueCallback?r.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const v=e.slice(d.length);return{value:g,rest:v}}}function vI(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function xI(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function bI(r){return(e,t={})=>{const s=e.match(r.matchPattern);if(!s)return null;const a=s[0],c=e.match(r.parsePattern);if(!c)return null;let d=r.valueCallback?r.valueCallback(c[0]):c[0];d=t.valueCallback?t.valueCallback(d):d;const f=e.slice(a.length);return{value:d,rest:f}}}const wI=/^(\d+)(th|st|nd|rd)?/i,_I=/\d+/i,EI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NI={any:[/^b/i,/^(a|c)/i]},TI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SI={any:[/1/i,/2/i,/3/i,/4/i]},jI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},AI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},II={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DI={ordinalNumber:bI({matchPattern:wI,parsePattern:_I,valueCallback:r=>parseInt(r,10)}),era:ac({matchPatterns:EI,defaultMatchWidth:"wide",parsePatterns:NI,defaultParseWidth:"any"}),quarter:ac({matchPatterns:TI,defaultMatchWidth:"wide",parsePatterns:SI,defaultParseWidth:"any",valueCallback:r=>r+1}),month:ac({matchPatterns:jI,defaultMatchWidth:"wide",parsePatterns:AI,defaultParseWidth:"any"}),day:ac({matchPatterns:CI,defaultMatchWidth:"wide",parsePatterns:RI,defaultParseWidth:"any"}),dayPeriod:ac({matchPatterns:kI,defaultMatchWidth:"any",parsePatterns:II,defaultParseWidth:"any"})},MI={code:"en-US",formatDistance:rI,formatLong:oI,formatRelative:cI,localize:yI,match:DI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LI(r,e,t){const s=Wk(),a=(t==null?void 0:t.locale)??s.locale??MI,c=2520,d=Vd(r,e);if(isNaN(d))throw new RangeError("Invalid time value");const f=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:d}),[p,g]=a0(t==null?void 0:t.in,...d>0?[e,r]:[r,e]),v=tI(g,p),b=(ww(g)-ww(p))/1e3,E=Math.round((v-b)/60);let T;if(E<2)return t!=null&&t.includeSeconds?v<5?a.formatDistance("lessThanXSeconds",5,f):v<10?a.formatDistance("lessThanXSeconds",10,f):v<20?a.formatDistance("lessThanXSeconds",20,f):v<40?a.formatDistance("halfAMinute",0,f):v<60?a.formatDistance("lessThanXMinutes",1,f):a.formatDistance("xMinutes",1,f):E===0?a.formatDistance("lessThanXMinutes",1,f):a.formatDistance("xMinutes",E,f);if(E<45)return a.formatDistance("xMinutes",E,f);if(E<90)return a.formatDistance("aboutXHours",1,f);if(E<xw){const M=Math.round(E/60);return a.formatDistance("aboutXHours",M,f)}else{if(E<c)return a.formatDistance("xDays",1,f);if(E<Ed){const M=Math.round(E/xw);return a.formatDistance("xDays",M,f)}else if(E<Ed*2)return T=Math.round(E/Ed),a.formatDistance("aboutXMonths",T,f)}if(T=eI(g,p),T<12){const M=Math.round(E/Ed);return a.formatDistance("xMonths",M,f)}else{const M=T%12,V=Math.trunc(T/12);return M<3?a.formatDistance("aboutXYears",V,f):M<9?a.formatDistance("overXYears",V,f):a.formatDistance("almostXYears",V+1,f)}}function o0(r,e){return LI(r,$k(r),e)}const I_=()=>{const{currentUser:r,userProfile:e}=dt(),[t,s]=A.useState([]),[a,c]=A.useState(!0),[d,f]=A.useState(null),p=async R=>{if(!R.userId)throw new Error("User ID is required for notification");try{const L={...R,isRead:!1,createdAt:Nn()};return await ji(at(xe,"notifications"),L),!0}catch(L){throw console.error("Error creating notification:",L),L}},g=async(R,L,O,S,F)=>{try{const P=await cn(Qe(xe,"users",O));if(!P.exists())throw new Error("Sender user not found");const $=P.data();let C,N;return S==="learner"&&F==="mentor"?(C="New mentorship request",N=`${$.name} has requested mentorship from you`):S==="mentor"&&F==="learner"?(C="New mentorship invitation",N=`${$.name} has invited you to connect as a mentee`):(C="New connection request",N=`${$.name} wants to connect with you`),await p({userId:L,type:"connection",title:C,description:N,requestId:R,fromId:O,fromRole:S,toRole:F,senderName:$.name,senderProfileImage:$.profileImage}),!0}catch(P){throw console.error("Error creating connection notification:",P),P}},v=async(R,L,O)=>{try{const S=await cn(Qe(xe,"projects",R));if(!S.exists())throw new Error("Project not found");const F=S.data(),P=await cn(Qe(xe,"users",O));if(!P.exists())throw new Error("User not found");const $=P.data();return await p({userId:L,type:"project",title:"New project member",description:`${$.name} has joined your project "${F.name||F.title}"`,projectId:R,memberId:O,memberName:$.name,memberProfileImage:$.profileImage,projectTitle:F.name||F.title}),!0}catch(S){throw console.error("Error creating project join notification:",S),S}},b=async R=>{try{const L=Qe(xe,"notifications",R);return await On(L,{isRead:!0,readAt:Nn()}),!0}catch(L){throw console.error("Error marking notification as read:",L),L}},E=async R=>{try{return await N_(Qe(xe,"notifications",R)),!0}catch(L){throw console.error("Error deleting notification:",L),L}},T=async(R,L)=>{try{const O=Qe(xe,"requests",L);return await On(O,{status:"accepted",responseTimestamp:Nn()}),await b(R),!0}catch(O){throw console.error("Error accepting connection request:",O),O}},M=async(R,L)=>{try{const O=Qe(xe,"requests",L);return await On(O,{status:"rejected",responseTimestamp:Nn()}),await b(R),!0}catch(O){throw console.error("Error declining connection request:",O),O}},V=R=>{if(!R)return"Just now";try{const L=R.toDate?R.toDate():new Date(R);return o0(L,{addSuffix:!0})}catch{return"Recently"}};return A.useEffect(()=>{if(!r){s([]),c(!1);return}c(!0);try{const R=gt(at(xe,"notifications"),mt("userId","==",r.uid),Vo("createdAt","desc"),hr(50)),L=Pr(R,O=>{const S=O.docs.map(F=>({id:F.id,...F.data(),time:V(F.data().createdAt)}));s(S),c(!1)},O=>{if(console.error("Error fetching notifications:",O),O.code==="failed-precondition"&&O.message.includes("index")){f("This feature requires a Firestore index. Please create a composite index for notifications on userId and createdAt fields.");const S=gt(at(xe,"notifications"),mt("userId","==",r.uid),hr(50));return Pr(S,F=>{const P=F.docs.map($=>({id:$.id,...$.data(),time:V($.data().createdAt)})).sort(($,C)=>$.createdAt?C.createdAt?C.createdAt.seconds-$.createdAt.seconds:-1:1);s(P),c(!1)},F=>{console.error("Error with fallback notifications query:",F),f(F.message),c(!1)})}else f(O.message);c(!1)});return()=>L()}catch(R){return console.error("Error setting up notifications query:",R),f(R.message),c(!1),()=>{}}},[r]),{notifications:t,loading:a,error:d,createNotification:p,createConnectionRequestNotification:g,createProjectJoinNotification:v,markAsRead:b,deleteNotification:E,acceptConnectionRequest:T,declineConnectionRequest:M}},OI=({toggleSidebar:r,scrolled:e})=>{const[t,s]=A.useState(!1),[a,c]=A.useState(!1),d=A.useRef(null),f=A.useRef(null),p=A.useRef(null),g=A.useRef(null),{currentUser:v,userProfile:b,logout:E,isAuthenticated:T}=dt(),{notifications:M,loading:V,error:R,markAsRead:L,acceptConnectionRequest:O,declineConnectionRequest:S}=I_(),F=Fr(),P=M?M.filter(te=>!te.isRead).length:0;A.useEffect(()=>{const te=de=>{a&&d.current&&!d.current.contains(de.target)&&f.current&&!f.current.contains(de.target)&&c(!1),t&&p.current&&!p.current.contains(de.target)&&g.current&&!g.current.contains(de.target)&&s(!1)};return document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[a,t]);const $=()=>{c(te=>!te),t&&s(!1)},C=()=>{s(te=>!te),a&&c(!1)},N=async(te,de)=>{de.stopPropagation();try{await O(te.id,te.requestId)}catch(Ee){console.error("Error accepting request:",Ee)}},D=async(te,de)=>{de.stopPropagation();try{await S(te.id,te.requestId)}catch(Ee){console.error("Error declining request:",Ee)}},U=te=>{s(!1),F(`/projects/${te}`)},q=te=>{s(!1),F(`/profile/${te}`)},z=async te=>{if(!te.isRead)try{await L(te.id)}catch(de){console.error("Error marking notification as read:",de)}},I=te=>{switch(te){case"connection":case"connection_accepted":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})});case"project":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})});case"verification":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}},Z=te=>{switch(te){case"connection":case"connection_accepted":return"bg-indigo-100 text-indigo-600";case"project":return"bg-purple-100 text-purple-600";case"verification":return"bg-green-100 text-green-600";default:return"bg-gray-100 text-gray-600"}},ce=te=>{switch(te.type){case"connection":return[{label:"Accept",primary:!0,action:de=>N(te,de)},{label:"Decline",primary:!1,action:de=>D(te,de)}];case"project":return[{label:"View",primary:!0,action:()=>U(te.projectId)}];case"connection_accepted":return[{label:"View Profile",primary:!0,action:()=>q(te.fromId)}];default:return[]}},Q=async()=>{try{await E(),F("/")}catch(te){console.error("Failed to log out",te)}};return l.jsx("nav",{className:`${e?"bg-white/80 backdrop-blur-md shadow-lg":"bg-indigo-700"} fixed top-0 left-0 right-0 z-40 transition-all duration-300 ease-in-out`,children:l.jsx("div",{className:"container mx-auto px-4 py-3",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[T&&l.jsx("button",{onClick:r,className:"md:hidden p-2 rounded-md hover:bg-indigo-800 text-white transition-colors duration-200","aria-label":"Toggle sidebar",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),l.jsxs(De,{to:"/",className:"flex items-center",children:[l.jsx("div",{className:"h-9 w-9 rounded-lg bg-white flex items-center justify-center",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-700",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),l.jsxs("div",{className:"ml-2 flex flex-col",children:[l.jsx("span",{className:`font-bold text-lg tracking-wider ${e?"text-indigo-700":"text-white"} transition-colors duration-300`,style:{fontFamily:"'Poppins', sans-serif"},children:"SkillSync"}),l.jsx("span",{className:`text-[10px] -mt-1 italic ${e?"text-indigo-500":"text-indigo-200"} transition-colors duration-300`,children:"by BitLinguals"})]})]})]}),T&&l.jsxs("div",{className:`hidden md:flex items-center space-x-6 ${e?"text-gray-700":"text-white"} transition-colors duration-300`,children:[l.jsx(De,{to:"/explore",className:"hover:text-indigo-400 transition-colors duration-200",children:"Explore"}),l.jsx(De,{to:"/projects",className:"hover:text-indigo-400 transition-colors duration-200",children:"Projects"}),l.jsx(De,{to:"/mentorship",className:"hover:text-indigo-400 transition-colors duration-200",children:"Mentorship"})]}),l.jsx("div",{className:"flex items-center space-x-4",children:T?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{ref:g,className:`p-2 rounded-md ${e?"hover:bg-gray-100 text-gray-700":"hover:bg-indigo-800 text-white"} transition-all duration-200`,onClick:C,"aria-label":"Notifications","aria-expanded":t,"aria-haspopup":"true",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),P>0&&l.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500 animate-pulse"})]}),t&&l.jsxs("div",{ref:p,className:"absolute right-0 mt-2 w-96 bg-gray-50 rounded-lg shadow-xl border overflow-hidden z-50 animate-slideDown",children:[l.jsx("div",{className:"px-4 py-3 border-b bg-gray-100",children:l.jsx("h3",{className:"font-semibold text-gray-800",children:"Notifications"})}),l.jsx("div",{className:"max-h-[70vh] overflow-y-auto scrollbar-thin",children:V?l.jsxs("div",{className:"flex justify-center items-center p-8",children:[l.jsx("div",{className:"inline-block h-6 w-6 animate-spin rounded-full border-2 border-solid border-indigo-500 border-r-transparent"}),l.jsx("span",{className:"ml-2 text-gray-600",children:"Loading..."})]}):R?l.jsxs("div",{className:"p-4 text-center",children:[l.jsx("p",{className:"text-sm text-gray-700",children:"Error loading notifications"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please try again later"}),l.jsx("div",{className:"mt-3",children:l.jsx(De,{to:"/notifications",onClick:C,className:"text-xs text-indigo-600 hover:underline",children:"View all notifications"})})]}):M.length===0?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),l.jsx("p",{className:"mt-2 text-gray-600",children:"No notifications yet"})]}):M.slice(0,3).map(te=>{const de=ce(te);return l.jsxs("div",{className:"p-4 border-b hover:bg-white transition-colors duration-200 cursor-pointer flex items-start",onClick:()=>z(te),children:[l.jsx("div",{className:`h-10 w-10 rounded-full ${Z(te.type)} flex-shrink-0 flex items-center justify-center mr-3`,children:I(te.type)}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:te.title}),!te.isRead&&l.jsx("span",{className:"text-xs bg-indigo-100 text-indigo-800 px-2 py-0.5 rounded-full",children:"New"})]}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:te.description}),l.jsxs("div",{className:"flex justify-between items-center mt-2",children:[l.jsx("p",{className:"text-xs text-gray-400",children:te.time}),de.length>0&&l.jsx("div",{className:"flex space-x-1",children:de.map((Ee,H)=>l.jsx("button",{onClick:Ee.action,className:`text-xs ${Ee.primary?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"} px-2 py-1 rounded transition-colors`,children:Ee.label},H))})]})]})]},te.id)})}),l.jsx(De,{to:"/notifications",onClick:C,className:"block py-3 px-4 text-center border-t text-indigo-600 hover:bg-indigo-50 transition-colors",children:"View All Notifications"})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{ref:f,onClick:$,className:"flex items-center space-x-1 focus:outline-none","aria-expanded":a,"aria-haspopup":"true",children:l.jsx("div",{className:`h-8 w-8 rounded-full ${e?"bg-indigo-100 text-indigo-700":"bg-indigo-500 text-white"} flex items-center justify-center overflow-hidden transition-all duration-300 ease-in-out ${a?"ring-2 ring-indigo-300":""}`,children:b!=null&&b.profileImage?l.jsx("img",{src:b.profileImage,alt:b.name,className:"h-full w-full object-cover"}):l.jsx("span",{className:"font-bold",children:v!=null&&v.displayName?`${v.displayName.charAt(0).toUpperCase()}${v.displayName.split(" ")[1]?v.displayName.split(" ")[1].charAt(0).toUpperCase():""}`:"U"})})}),a&&l.jsxs("div",{ref:d,className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg overflow-hidden z-50 animate-fadeIn border border-gray-200",children:[l.jsxs("div",{className:"p-3 border-b",children:[l.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(b==null?void 0:b.name)||(v==null?void 0:v.displayName)||"User"}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:v==null?void 0:v.email})]}),l.jsxs("div",{className:"py-1",children:[l.jsx(De,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>c(!1),children:"Your Profile"}),l.jsx(De,{to:"/profile/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>c(!1),children:"Settings"}),l.jsx("button",{onClick:()=>{c(!1),Q()},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign out"})]})]})]})]}):l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(De,{to:"/login",className:`px-4 py-1.5 rounded-md text-sm font-medium ${e?"text-indigo-600 hover:bg-indigo-50":"text-white hover:bg-indigo-800"} transition-colors duration-200`,children:"Log in"}),l.jsx(De,{to:"/signup",className:`px-4 py-1.5 rounded-md text-sm font-medium ${e?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-white text-indigo-700 hover:bg-gray-100"} transition-colors duration-200`,children:"Sign up"})]})})]})})})},PI=({isOpen:r})=>{const e=Rs(),{currentUser:t,userProfile:s,isAuthenticated:a}=dt(),{unreadMessagesCount:c}=s0(),d=(s==null?void 0:s.role)||"member",f=d==="mentor",p=d==="recruiter",g=[{name:"Dashboard",path:"/",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{name:"Profile",path:"/profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},{name:"Projects",path:"/projects",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"},{name:"Mentorship",path:"/mentorship",icon:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"},{name:"Messages",path:"/messages",icon:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},{name:"Notifications",path:"/notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"},{name:"Explore",path:"/explore",icon:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}],v=()=>s!=null&&s.name?s.name.split(" ").map(b=>b[0]).join("").toUpperCase():t!=null&&t.displayName?t.displayName.split(" ").map(b=>b[0]).join("").toUpperCase():t!=null&&t.email?t.email[0].toUpperCase():"U";return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`${r?"opacity-50 pointer-events-auto":"opacity-0 pointer-events-none"} fixed inset-0 bg-black z-20 transition-opacity duration-300 md:hidden`,onClick:()=>document.dispatchEvent(new CustomEvent("toggleSidebar"))}),l.jsx("div",{className:`${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 fixed top-0 left-0 h-full w-72 bg-white border-r z-30 shadow-lg md:shadow-none overflow-hidden transition-transform duration-300 ease-in-out`,children:l.jsx("div",{className:"h-full flex flex-col pt-16",children:l.jsxs("div",{className:"p-4 flex-1 overflow-y-auto scrollbar-thin",children:[l.jsxs("div",{className:"border-b pb-4 mb-6 flex flex-col items-center md:items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-indigo-800 tracking-wider",style:{fontFamily:"'Poppins', sans-serif"},children:"SkillSync"}),l.jsx("p",{className:"text-xs text-indigo-500 -mt-1 mb-1 italic font-medium",children:"by BitLinguals"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Connecting skills & people"}),a&&l.jsx("div",{className:"mt-3 text-center md:text-left w-full",children:l.jsx("div",{className:"bg-indigo-50 p-3 rounded-lg",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 mr-3",children:s!=null&&s.profileImage?l.jsx("img",{src:s.profileImage,alt:s.name||t.displayName,className:"h-10 w-10 rounded-full object-cover"}):l.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-200 flex items-center justify-center text-indigo-700 font-bold",children:v()})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:(s==null?void 0:s.name)||(t==null?void 0:t.displayName)||"User"}),l.jsx("p",{className:"text-xs text-gray-500",children:(s==null?void 0:s.title)||(f?"Mentor":p?"Recruiter":"Learner")})]})]})})})]}),l.jsx("nav",{children:l.jsx("ul",{className:"space-y-1",children:g.map(b=>{const E=e.pathname===b.path,T=b.name==="Messages";return l.jsxs("li",{className:"relative",children:[T&&c>0&&l.jsx("span",{className:"absolute -top-2 right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-medium text-white z-10 animate-pulse",children:c}),l.jsxs(De,{to:b.path,className:`flex items-center p-3 rounded-lg text-sm transition-all duration-200 ${E?"bg-indigo-50 text-indigo-700 font-medium shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-indigo-600"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 mr-3 ${E?"text-indigo-600":"text-gray-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:E?2:1.5,d:b.icon})}),l.jsx("span",{children:b.name}),E&&l.jsx("span",{className:"ml-auto h-2 w-2 rounded-full bg-indigo-600"})]})]},b.name)})})})]})})})]})},VI=()=>{const[r,e]=A.useState(!1),[t,s]=A.useState(!1),{isAuthenticated:a}=dt();A.useEffect(()=>{const d=()=>{s(window.scrollY>10)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),A.useEffect(()=>{const d=()=>e(f=>!f);return document.addEventListener("toggleSidebar",d),()=>document.removeEventListener("toggleSidebar",d)},[]);const c=()=>{e(!r)};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[l.jsx("div",{className:"fixed inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiMzYjgyZjYiIGZpbGwtb3BhY2l0eT0iLjA1Ij48cGF0aCBkPSJNMzYgMzRjMC0yLjIxIDEuNzktNCA0LTRzNCAxLjc5IDQgNC0xLjc5IDQtNCA0LTQtMS43OS00LTRtMC0xN2MwLTIuMjEgMS43OS00IDQtNHM0IDEuNzkgNCA0LTEuNzkgNC00IDQtNC0xLjc5LTQtNG0tMTcgMGMwLTIuMjEgMS43OS00IDQtNHM0IDEuNzkgNCA0LTEuNzkgNC00IDQtNC0xLjc5LTQtNG0wIDE3YzAtMi4yMSAxLjc5LTQgNC00czQgMS43OSA0IDQtMS43OSA0LTQgNC00LTEuNzktNC00Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-50 pointer-events-none z-0","aria-hidden":"true"}),l.jsx(OI,{toggleSidebar:c,scrolled:t}),l.jsxs("div",{className:"flex pt-16",children:[a&&l.jsx(PI,{isOpen:r}),l.jsx("main",{className:`flex-1 p-4 md:p-6 pt-6 transition-all duration-300 ease-in-out ${a?"ml-0 md:ml-72 max-w-[calc(100%-0rem)] md:max-w-[calc(100%-18rem)]":"ml-0 max-w-full"}`,children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsx(pT,{})})})]})]})},UI=({skill:r})=>l.jsx(De,{to:`/explore?skill=${r.name}`,className:"block",children:l.jsxs("div",{className:"bg-white border border-gray-100 rounded-lg p-4 hover:shadow-md transition-all duration-300 group relative overflow-hidden",children:[l.jsx("div",{className:"absolute -right-2 -top-2 w-20 h-20 bg-indigo-100 rounded-full opacity-0 group-hover:opacity-20 transition-opacity duration-300 transform group-hover:scale-150"}),l.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-800 group-hover:text-indigo-600 transition-colors duration-300",children:r.name}),l.jsx("p",{className:"text-sm text-gray-500",children:r.category})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsxs("div",{className:"bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded-full flex items-center",children:[l.jsx("svg",{className:"w-3 h-3 mr-1 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),l.jsxs("span",{children:[r.popularity,"%"]})]}),l.jsx("div",{className:"text-gray-400 transform transition-transform duration-300 group-hover:translate-x-1",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),l.jsx("div",{className:"mt-3 h-1 w-full bg-gray-100 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-indigo-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-500 ease-out",style:{width:`${r.popularity}%`}})})]})}),zI=({project:r})=>l.jsxs("div",{className:"bg-white border border-gray-100 rounded-lg p-5 hover:shadow-md transition-all duration-300 group relative overflow-hidden",children:[l.jsx("div",{className:"absolute -right-4 -bottom-4 w-24 h-24 bg-indigo-50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform group-hover:scale-150 z-0"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("h3",{className:"font-medium text-gray-800 group-hover:text-indigo-700 transition-colors duration-300",children:r.title}),l.jsxs("span",{className:"text-sm text-gray-500 flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-1 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),r.members," members"]})]}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1 flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),r.owner]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:r.skills.map((e,t)=>l.jsx("span",{className:"bg-indigo-50 text-indigo-700 text-xs font-medium px-2.5 py-0.5 rounded border border-indigo-100 group-hover:bg-indigo-100 transition-colors duration-300",children:e},t))}),l.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[l.jsxs(De,{to:`/projects/${r.id}`,className:"text-indigo-600 text-sm font-medium hover:text-indigo-800 transition-colors duration-200 flex items-center group/link",children:["View Details",l.jsx("svg",{className:"w-4 h-4 ml-1 transform transition-transform duration-200 group-hover/link:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),l.jsx("button",{className:"bg-indigo-600 text-white text-sm px-4 py-1.5 rounded-lg hover:bg-indigo-700 transition-colors duration-200 shadow-sm hover:shadow",children:"Join Project"})]})]})]}),BI=({mentor:r})=>{const[e,t]=A.useState(!1),s=Array(5).fill(0).map((a,c)=>c<Math.floor(r.rating));return l.jsxs("div",{className:"bg-white border border-gray-100 rounded-lg p-5 hover:shadow-md transition-all duration-300 group relative overflow-hidden",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[l.jsx("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-indigo-50 rounded-full opacity-0 group-hover:opacity-70 transition-opacity duration-500 transform group-hover:scale-150 z-0"}),l.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"h-14 w-14 rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white font-bold text-lg transform transition-transform duration-300 group-hover:scale-110 shadow-md",children:r.name.split(" ").map(a=>a[0]).join("")}),l.jsx("div",{className:"absolute -bottom-1 -right-1 bg-green-400 h-4 w-4 rounded-full border-2 border-white"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-800 group-hover:text-indigo-700 transition-colors duration-300",children:r.name}),l.jsx("p",{className:"text-sm text-gray-500",children:r.experience})]}),l.jsxs("div",{className:"flex",children:[s.map((a,c)=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ${a?"text-yellow-400":"text-gray-300"} ${e&&c===s.filter(Boolean).length?"animate-ping":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},c)),l.jsx("span",{className:"ml-1 text-sm text-gray-600",children:r.rating})]})]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-1.5",children:r.skills.map((a,c)=>l.jsx("span",{className:"bg-indigo-50 text-indigo-700 text-xs font-medium px-2 py-0.5 rounded border border-indigo-100 group-hover:bg-indigo-100 transition-colors duration-300",children:a},c))}),l.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[l.jsxs(De,{to:`/mentorship/${r.id}`,className:"text-indigo-600 text-sm font-medium hover:text-indigo-800 transition-colors duration-200 flex items-center group/link",children:["View Profile",l.jsx("svg",{className:"w-4 h-4 ml-1 transform transition-transform duration-200 group-hover/link:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),l.jsxs("button",{className:"bg-indigo-600 text-white text-sm px-4 py-1.5 rounded-lg hover:bg-indigo-700 transition-colors duration-200 shadow-sm hover:shadow flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Request Mentorship"]})]})]})]})]})},FI=()=>{const[r,e]=A.useState(null),[t,s]=A.useState(!0),[a,c]=A.useState(""),{currentUser:d,logout:f,getUserData:p,isAuthenticated:g}=dt(),v=Fr();A.useEffect(()=>{(async()=>{s(!0);try{if(d){console.log("Fetching data for user:",d.uid);const T=await p(d.uid);if(console.log("User data retrieved:",T),e(T),!T){console.log("No user data found, creating default profile"),await Gp(Qe(xe,"users",d.uid),{uid:d.uid,name:d.displayName||"",email:d.email,skills:[],goals:""});const M=await p(d.uid);e(M)}}else s(!1)}catch(T){c("Failed to load user data: "+T.message),console.error("Error fetching user data:",T)}s(!1)})()},[d,p]);const b=async()=>{try{await f(),v("/login")}catch{c("Failed to log out")}};return t&&g?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx("div",{className:"text-2xl",children:"Loading..."})}):g?l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),l.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Logout"})]}),a&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:l.jsx("span",{className:"block sm:inline",children:a})}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[l.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Welcome, ",(r==null?void 0:r.name)||(d==null?void 0:d.displayName)||(d==null?void 0:d.email),"!"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"User Information"}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Email:"})," ",(r==null?void 0:r.email)||(d==null?void 0:d.email)]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Your Skills"}),r!=null&&r.skills&&r.skills.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:r.skills.map((E,T)=>l.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm",children:E},T))}):l.jsx("p",{className:"text-gray-500",children:"No skills added yet."})]})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Goals"}),l.jsx("p",{className:"text-gray-700",children:(r==null?void 0:r.goals)||"No goals set yet."})]})]})})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-b from-indigo-50 to-white py-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-extrabold text-indigo-800 tracking-tight sm:text-5xl md:text-6xl",children:"Welcome to SkillSync"}),l.jsx("p",{className:"mt-3 max-w-md mx-auto text-lg text-gray-700 sm:text-xl md:mt-5 md:max-w-3xl",children:"Connect, learn, and grow with a community of skilled professionals, mentors, and job opportunities."}),l.jsxs("div",{className:"mt-10 flex justify-center gap-4 flex-col sm:flex-row",children:[l.jsx("div",{className:"rounded-md shadow",children:l.jsx(De,{to:"/signup",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10",children:"Sign up"})}),l.jsx("div",{className:"mt-3 sm:mt-0",children:l.jsx(De,{to:"/login",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 md:py-4 md:text-lg md:px-10",children:"Log in"})})]})]}),l.jsx("div",{className:"mt-16",children:l.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[l.jsx("div",{className:"h-12 w-12 rounded-md bg-indigo-500 flex items-center justify-center mb-4",children:l.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Connect with Talents"}),l.jsx("p",{className:"mt-2 text-base text-gray-600",children:"Build your network with skilled professionals and discover collaboration opportunities."})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[l.jsx("div",{className:"h-12 w-12 rounded-md bg-indigo-500 flex items-center justify-center mb-4",children:l.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Find Mentorship"}),l.jsx("p",{className:"mt-2 text-base text-gray-600",children:"Learn from industry experts who can guide you on your professional journey."})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[l.jsx("div",{className:"h-12 w-12 rounded-md bg-indigo-500 flex items-center justify-center mb-4",children:l.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Discover Opportunities"}),l.jsx("p",{className:"mt-2 text-base text-gray-600",children:"Explore job postings tailored to your skills and career aspirations."})]})]})}),l.jsx("div",{className:"mt-16 bg-white rounded-lg shadow-md p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Join thousands of professionals"}),l.jsx("p",{className:"mt-4 text-lg text-gray-600 italic",children:'"SkillSync helped me connect with the perfect mentor who guided me through my career transition into tech. The community support is incredible!"'}),l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Alex Johnson"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Frontend Developer"})]})]})}),l.jsxs("div",{className:"mt-16 text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Ready to boost your career?"}),l.jsx("div",{className:"mt-6",children:l.jsx(De,{to:"/signup",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Get Started for Free"})})]})]})})},D_=(r=null,e=10)=>{const[t,s]=A.useState([]),[a,c]=A.useState(!0),[d,f]=A.useState(null);return A.useEffect(()=>{c(!0);let p;const g=at(xe,"projects");r?p=gt(g,mt("creatorId","==",r),Vo("createdAt","desc"),hr(e)):p=gt(g,Vo("createdAt","desc"),hr(e));const v=Pr(p,async b=>{const E=b.docs.map(async M=>{const V={id:M.id,...M.data()};if(V.creatorId)try{const R=Qe(xe,"users",V.creatorId),L=await cn(R);L.exists()&&(V.creator={id:L.id,name:L.data().name,profileImage:L.data().profileImage,role:L.data().role})}catch(R){console.error("Error fetching project creator:",R)}return V}),T=await Promise.all(E);s(T),c(!1)},b=>{console.error("Error fetching projects:",b),f(b.message),c(!1)});return()=>v()},[r,e]),{projects:t,loading:a,error:d}},qI=(r,e=null,t=10)=>{const[s,a]=A.useState([]),[c,d]=A.useState(!0),[f,p]=A.useState(null);return A.useEffect(()=>{if(d(!0),!r||r.trim()===""){a([]),d(!1);return}const g=r.toLowerCase().trim();(async()=>{try{let b;const E=at(xe,"projects");e?b=gt(E,mt("creatorId","==",e),hr(50)):b=gt(E,hr(50));const M=(await vi(b)).docs.map(R=>({id:R.id,...R.data()})).filter(R=>{var L,O,S,F;return!!((L=R.name)!=null&&L.toLowerCase().includes(g)||(O=R.title)!=null&&O.toLowerCase().includes(g)||(S=R.description)!=null&&S.toLowerCase().includes(g)||(F=R.technologies)!=null&&F.some(P=>P.toLowerCase().includes(g)))}).map(async R=>{if(R.creatorId)try{const L=Qe(xe,"users",R.creatorId),O=await cn(L);O.exists()&&(R.creator={id:O.id,name:O.data().name,profileImage:O.data().profileImage,role:O.data().role})}catch(L){console.error("Error fetching project creator:",L)}return R}),V=await Promise.all(M);a(V.slice(0,t)),d(!1)}catch(b){console.error("Error searching projects:",b),p(b.message),d(!1)}})()},[r,e,t]),{projects:s,loading:c,error:f}},HI=r=>{const[e,t]=A.useState(null),[s,a]=A.useState(!0),[c,d]=A.useState(null);return A.useEffect(()=>{if(!r){t(null),a(!1);return}a(!0);const f=Qe(xe,"users",r),p=Pr(f,g=>{g.exists()?t({id:g.id,...g.data()}):t(null),a(!1)},g=>{console.error("Error fetching user profile:",g),d(g.message),a(!1)});return()=>p()},[r]),{profile:e,loading:s,error:c}},l0=(r=null,e=50)=>{const[t,s]=A.useState([]),[a,c]=A.useState(!0),[d,f]=A.useState(null);return A.useEffect(()=>{c(!0);let p;const g=at(xe,"users");r?p=gt(g,mt("role","==",r),hr(e)):p=gt(g,Vo("createdAt","desc"),hr(e));const v=Pr(p,b=>{const E=b.docs.map(T=>({id:T.id,...T.data()}));s(E),c(!1)},b=>{console.error("Error fetching users:",b),f(b.message),c(!1)});return()=>v()},[r,e]),{users:t,loading:a,error:d}},M_=(r,e=null,t=50)=>{const[s,a]=A.useState([]),[c,d]=A.useState(!1),[f,p]=A.useState(null);return A.useEffect(()=>{if(!r||r.trim()===""){a([]),d(!1);return}d(!0);const g=r.toLowerCase().trim();(async()=>{try{let b;const E=at(xe,"users");e?b=gt(E,mt("role","==",e),hr(t)):b=gt(E,hr(t));const M=(await vi(b)).docs.map(V=>({id:V.id,...V.data()})).filter(V=>{var R,L,O;return!!((R=V.name)!=null&&R.toLowerCase().includes(g)||(L=V.bio)!=null&&L.toLowerCase().includes(g)||(O=V.skills)!=null&&O.some(S=>typeof S=="string"?S.toLowerCase().includes(g):typeof S=="object"&&S.name?S.name.toLowerCase().includes(g):!1))});a(M),d(!1)}catch(b){console.error("Error searching users:",b),p(b.message),d(!1)}})()},[r,e,t]),{users:s,loading:c,error:f}},GI=()=>{var U,q;const[r,e]=A.useState(!1),{isAuthenticated:t,userProfile:s}=dt(),[a,c]=A.useState(0),[d,f]=A.useState(0),[p,g]=A.useState(0),[v,b]=A.useState(0),[E,T]=A.useState(!0),{projects:M,loading:V}=D_(null,2),{users:R,loading:L}=l0("mentor",2),O=(s==null?void 0:s.skills)||[];if(A.useEffect(()=>{(async()=>{try{const I=gt(at(xe,"projects")),Z=await ip(I);c(Z.data().count);const ce=gt(at(xe,"users"),mt("role","==","mentor")),Q=await ip(ce);f(Q.data().count);const te=await vi(at(xe,"users")),de=new Set;te.forEach(ae=>{const fe=ae.data();fe.skills&&Array.isArray(fe.skills)&&fe.skills.forEach(ue=>{typeof ue=="string"?de.add(ue):ue&&ue.name&&de.add(ue.name)})}),g(de.size);const Ee=gt(at(xe,"requests"),mt("status","==","accepted")),H=await ip(Ee);b(H.data().count),T(!1)}catch(I){console.error("Error fetching stats:",I),T(!1)}})()},[]),A.useEffect(()=>{const z=setTimeout(()=>e(!0),1e3);return!V&&!L&&!E&&(e(!0),clearTimeout(z)),()=>clearTimeout(z)},[V,L,E]),!t)return l.jsx(FI,{});const S=M.map(z=>{var I,Z;return{id:z.id,title:z.name||z.title,skills:z.technologies||[],owner:((I=z.creator)==null?void 0:I.name)||"Anonymous",members:z.teamSize||((Z=z.collaborators)==null?void 0:Z.length)||1}}),F=R.map(z=>{var I;return{id:z.id,name:z.name,skills:((I=z.skills)==null?void 0:I.map(Z=>typeof Z=="string"?Z:Z.name).slice(0,3))||[],experience:z.yearsOfExperience?`${z.yearsOfExperience}+ years`:"Experienced",rating:z.rating||4.5,profileImage:z.profileImage}}),P=[{id:1,name:"React",category:"Frontend",popularity:95},{id:2,name:"Machine Learning",category:"AI",popularity:92},{id:3,name:"Node.js",category:"Backend",popularity:89},{id:4,name:"Docker",category:"DevOps",popularity:87}],$=[{label:"Active Projects",value:E?"...":a.toLocaleString()},{label:"Registered Mentors",value:E?"...":d.toLocaleString()},{label:"Skills Tracked",value:E?"...":p>0?p.toLocaleString()+"+":"0"},{label:"Successful Collaborations",value:E?"...":v.toLocaleString()}],C=O.length>0,N=((U=s==null?void 0:s.projects)==null?void 0:U.length)>0,D=((q=s==null?void 0:s.mentors)==null?void 0:q.length)>0;return l.jsxs("div",{className:`transition-opacity duration-700 ${r?"opacity-100":"opacity-0"}`,children:[l.jsxs("div",{className:"mb-12",children:[l.jsxs("div",{className:"bg-gradient-to-r from-indigo-700 to-purple-700 rounded-2xl p-8 mb-8 text-white overflow-hidden relative shadow-lg",children:[l.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] [mask-image:linear-gradient(0deg,transparent,white)]","aria-hidden":"true"}),l.jsxs("div",{className:"relative z-10 max-w-xl",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Welcome to SkillSync!"}),l.jsx("p",{className:"text-lg text-indigo-100 mb-6",children:"Connect with collaborators, join projects, and find mentors based on your skills and interests."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs(De,{to:"/profile",className:"bg-white text-indigo-700 px-5 py-3 rounded-lg font-medium hover:bg-indigo-50 transition-colors flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Complete Your Profile"]}),l.jsxs(De,{to:"/explore",className:"bg-indigo-600 text-white px-5 py-3 rounded-lg font-medium hover:bg-indigo-500 transition-colors flex items-center justify-center gap-2 border border-indigo-400 shadow-md hover:shadow-lg",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Explore Community"]})]})]}),l.jsx("div",{className:"hidden lg:block absolute -right-10 -top-10 w-72 h-72 bg-indigo-500/20 rounded-full blur-3xl"}),l.jsx("div",{className:"hidden lg:block absolute right-20 bottom-10 w-40 h-40 bg-purple-500/20 rounded-full blur-2xl"})]}),l.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:$.map((z,I)=>l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow",children:[l.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:z.value}),l.jsx("p",{className:"text-sm text-gray-600",children:z.label})]},I))}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-all duration-300 transform hover:-translate-y-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Your Skills"}),l.jsx(De,{to:"/profile",className:"text-sm text-indigo-600 hover:text-indigo-800 hover:underline transition-colors",children:"View All"})]}),C?l.jsxs("div",{className:"flex flex-wrap gap-2",children:[O.slice(0,5).map((z,I)=>l.jsx("span",{className:"bg-indigo-50 text-indigo-700 px-3 py-1 rounded-full text-sm font-medium",children:typeof z=="string"?z:z.name},I)),O.length>5&&l.jsxs("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-0.5 rounded",children:["+",O.length-5," more"]})]}):l.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"h-16 w-16 bg-indigo-100 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Add your skills to get personalized recommendations."}),l.jsx(De,{to:"/profile",className:"inline-block bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700 transition-colors",children:"Add Skills"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-all duration-300 transform hover:-translate-y-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Your Projects"}),l.jsx(De,{to:"/projects",className:"text-sm text-indigo-600 hover:text-indigo-800 hover:underline transition-colors",children:"View All"})]}),N?l.jsx("div",{className:"space-y-2",children:s.projects.slice(0,2).map((z,I)=>l.jsxs("div",{className:"border p-3 rounded-lg",children:[l.jsx("h3",{className:"font-medium",children:z.name||z.title}),l.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:z.description})]},I))}):l.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"h-16 w-16 bg-indigo-100 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})}),l.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't joined any projects yet."}),l.jsx(De,{to:"/projects",className:"inline-block bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700 transition-colors",children:"Find Projects"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-all duration-300 transform hover:-translate-y-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Your Mentors"}),l.jsx(De,{to:"/mentorship",className:"text-sm text-indigo-600 hover:text-indigo-800 hover:underline transition-colors",children:"View All"})]}),D?l.jsx("div",{className:"space-y-2",children:s.mentors.slice(0,2).map((z,I)=>l.jsx(De,{to:`/profile/${z}`,className:"block border p-3 rounded-lg hover:border-indigo-300",children:l.jsx("h3",{className:"font-medium",children:"View Mentor Profile"})},I))}):l.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"h-16 w-16 bg-indigo-100 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Connect with mentors to accelerate your learning."}),l.jsx(De,{to:"/mentorship",className:"inline-block bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700 transition-colors",children:"Find Mentors"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"bg-indigo-100 p-2 rounded-lg mr-3",children:l.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recommended Projects"})]}),l.jsx(De,{to:"/projects",className:"text-sm text-indigo-600 hover:text-indigo-800 hover:underline transition-colors",children:"View All"})]}),V?l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):S.length>0?l.jsx("div",{className:"space-y-4",children:S.map((z,I)=>l.jsx("div",{className:`transform transition-all duration-300 hover:-translate-y-1 ${r?"opacity-100":"opacity-0"}`,style:{transitionDelay:`${I*150}ms`},children:l.jsx(zI,{project:z})},z.id))}):l.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),l.jsx("p",{className:"mt-2 text-gray-500",children:"No projects available yet"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"bg-indigo-100 p-2 rounded-lg mr-3",children:l.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recommended Mentors"})]}),l.jsx(De,{to:"/mentorship",className:"text-sm text-indigo-600 hover:text-indigo-800 hover:underline transition-colors",children:"View All"})]}),L?l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):F.length>0?l.jsx("div",{className:"space-y-4",children:F.map((z,I)=>l.jsx("div",{className:`transform transition-all duration-300 hover:-translate-y-1 ${r?"opacity-100":"opacity-0"}`,style:{transitionDelay:`${I*150+300}ms`},children:l.jsx(BI,{mentor:z})},z.id))}):l.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),l.jsx("p",{className:"mt-2 text-gray-500",children:"No mentors available yet"})]})]})]}),l.jsx("div",{children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 sticky top-24",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"bg-indigo-100 p-2 rounded-lg mr-3",children:l.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Trending Skills"})]}),l.jsx(De,{to:"/explore",className:"text-sm text-indigo-600 hover:text-indigo-800 hover:underline transition-colors",children:"Explore Community"})]}),l.jsx("div",{className:"space-y-3",children:P.map((z,I)=>l.jsx("div",{className:`transform transition-all duration-300 hover:-translate-y-1 ${r?"opacity-100":"opacity-0"}`,style:{transitionDelay:`${I*150+600}ms`},children:l.jsx(UI,{skill:z})},z.id))}),l.jsxs("div",{className:"mt-8 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-4",children:[l.jsx("h3",{className:"font-medium text-indigo-700 mb-2",children:"Ready to showcase your skills?"}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Create your profile and connect with like-minded collaborators."}),l.jsxs(De,{to:"/profile",className:"text-indigo-600 text-sm font-medium hover:text-indigo-800 flex items-center",children:["Complete Your Profile",l.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]})})]})]})},WI="dealcv1ax",_w="profile_images_preset",Ew=`https://api.cloudinary.com/v1_1/${WI}/image/upload`,$I=async(r,e)=>{try{console.log("Starting Cloudinary upload with preset:",_w);const t=new FormData;t.append("file",r),t.append("upload_preset",_w),console.log("Sending request to Cloudinary URL:",Ew);const s=await fetch(Ew,{method:"POST",body:t});if(!s.ok){const c=await s.text();throw console.error("Cloudinary error response:",c),new Error(`Failed to upload image to Cloudinary: ${c}`)}const a=await s.json();return console.log("Cloudinary response:",a),a.secure_url}catch(t){throw console.error("Error uploading image to Cloudinary:",t),t}};var cp,Nw;function QI(){if(Nw)return cp;Nw=1;var r=!1,e,t,s,a,c,d,f,p,g,v,b,E,T,M,V;function R(){if(!r){r=!0;var O=navigator.userAgent,S=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(O),F=/(Mac OS X)|(Windows)|(Linux)/.exec(O);if(E=/\b(iPhone|iP[ao]d)/.exec(O),T=/\b(iP[ao]d)/.exec(O),v=/Android/i.exec(O),M=/FBAN\/\w+;/i.exec(O),V=/Mobile/i.exec(O),b=!!/Win64/.exec(O),S){e=S[1]?parseFloat(S[1]):S[5]?parseFloat(S[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var P=/(?:Trident\/(\d+.\d+))/.exec(O);d=P?parseFloat(P[1])+4:e,t=S[2]?parseFloat(S[2]):NaN,s=S[3]?parseFloat(S[3]):NaN,a=S[4]?parseFloat(S[4]):NaN,a?(S=/(?:Chrome\/(\d+\.\d+))/.exec(O),c=S&&S[1]?parseFloat(S[1]):NaN):c=NaN}else e=t=s=c=a=NaN;if(F){if(F[1]){var $=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(O);f=$?parseFloat($[1].replace("_",".")):!0}else f=!1;p=!!F[2],g=!!F[3]}else f=p=g=!1}}var L={ie:function(){return R()||e},ieCompatibilityMode:function(){return R()||d>e},ie64:function(){return L.ie()&&b},firefox:function(){return R()||t},opera:function(){return R()||s},webkit:function(){return R()||a},safari:function(){return L.webkit()},chrome:function(){return R()||c},windows:function(){return R()||p},osx:function(){return R()||f},linux:function(){return R()||g},iphone:function(){return R()||E},mobile:function(){return R()||E||T||v||V},nativeApp:function(){return R()||M},android:function(){return R()||v},ipad:function(){return R()||T}};return cp=L,cp}var up,Tw;function YI(){if(Tw)return up;Tw=1;var r=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:r,canUseWorkers:typeof Worker<"u",canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};return up=e,up}var dp,Sw;function KI(){if(Sw)return dp;Sw=1;var r=YI(),e;r.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function t(s,a){if(!r.canUseDOM||a&&!("addEventListener"in document))return!1;var c="on"+s,d=c in document;if(!d){var f=document.createElement("div");f.setAttribute(c,"return;"),d=typeof f[c]=="function"}return!d&&e&&s==="wheel"&&(d=document.implementation.hasFeature("Events.wheel","3.0")),d}return dp=t,dp}var hp,jw;function XI(){if(jw)return hp;jw=1;var r=QI(),e=KI(),t=10,s=40,a=800;function c(d){var f=0,p=0,g=0,v=0;return"detail"in d&&(p=d.detail),"wheelDelta"in d&&(p=-d.wheelDelta/120),"wheelDeltaY"in d&&(p=-d.wheelDeltaY/120),"wheelDeltaX"in d&&(f=-d.wheelDeltaX/120),"axis"in d&&d.axis===d.HORIZONTAL_AXIS&&(f=p,p=0),g=f*t,v=p*t,"deltaY"in d&&(v=d.deltaY),"deltaX"in d&&(g=d.deltaX),(g||v)&&d.deltaMode&&(d.deltaMode==1?(g*=s,v*=s):(g*=a,v*=a)),g&&!f&&(f=g<1?-1:1),v&&!p&&(p=v<1?-1:1),{spinX:f,spinY:p,pixelX:g,pixelY:v}}return c.getEventType=function(){return r.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},hp=c,hp}var fp,Aw;function ZI(){return Aw||(Aw=1,fp=XI()),fp}var JI=ZI();const e5=Lw(JI);function t5(r,e,t,s,a,c){c===void 0&&(c=0);var d=Uo(r,e,c),f=d.width,p=d.height,g=Math.min(f,t),v=Math.min(p,s);return g>v*a?{width:v*a,height:v}:{width:g,height:g/a}}function n5(r){return r.width>r.height?r.width/r.naturalWidth:r.height/r.naturalHeight}function oc(r,e,t,s,a){a===void 0&&(a=0);var c=Uo(e.width,e.height,a),d=c.width,f=c.height;return{x:Cw(r.x,d,t.width,s),y:Cw(r.y,f,t.height,s)}}function Cw(r,e,t,s){var a=e*s/2-t/2;return Vh(r,-a,a)}function Rw(r,e){return Math.sqrt(Math.pow(r.y-e.y,2)+Math.pow(r.x-e.x,2))}function kw(r,e){return Math.atan2(e.y-r.y,e.x-r.x)*180/Math.PI}function r5(r,e,t,s,a,c,d){c===void 0&&(c=0),d===void 0&&(d=!0);var f=d?s5:i5,p=Uo(e.width,e.height,c),g=Uo(e.naturalWidth,e.naturalHeight,c),v={x:f(100,((p.width-t.width/a)/2-r.x/a)/p.width*100),y:f(100,((p.height-t.height/a)/2-r.y/a)/p.height*100),width:f(100,t.width/p.width*100/a),height:f(100,t.height/p.height*100/a)},b=Math.round(f(g.width,v.width*g.width/100)),E=Math.round(f(g.height,v.height*g.height/100)),T=g.width>=g.height*s,M=T?{width:Math.round(E*s),height:E}:{width:b,height:Math.round(b/s)},V=Wt(Wt({},M),{x:Math.round(f(g.width-M.width,v.x*g.width/100)),y:Math.round(f(g.height-M.height,v.y*g.height/100))});return{croppedAreaPercentages:v,croppedAreaPixels:V}}function s5(r,e){return Math.min(r,Math.max(0,e))}function i5(r,e){return e}function a5(r,e,t,s,a,c){var d=Uo(e.width,e.height,t),f=Vh(s.width/d.width*(100/r.width),a,c),p={x:f*d.width/2-s.width/2-d.width*f*(r.x/100),y:f*d.height/2-s.height/2-d.height*f*(r.y/100)};return{crop:p,zoom:f}}function o5(r,e,t){var s=n5(e);return t.height>t.width?t.height/(r.height*s):t.width/(r.width*s)}function l5(r,e,t,s,a,c){t===void 0&&(t=0);var d=Uo(e.naturalWidth,e.naturalHeight,t),f=Vh(o5(r,e,s),a,c),p=s.height>s.width?s.height/r.height:s.width/r.width,g={x:((d.width-r.width)/2-r.x)*p,y:((d.height-r.height)/2-r.y)*p};return{crop:g,zoom:f}}function Iw(r,e){return{x:(e.x+r.x)/2,y:(e.y+r.y)/2}}function c5(r){return r*Math.PI/180}function Uo(r,e,t){var s=c5(t);return{width:Math.abs(Math.cos(s)*r)+Math.abs(Math.sin(s)*e),height:Math.abs(Math.sin(s)*r)+Math.abs(Math.cos(s)*e)}}function Vh(r,e,t){return Math.min(Math.max(r,e),t)}function Nd(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.filter(function(t){return typeof t=="string"&&t.length>0}).join(" ").trim()}var u5=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,d5=1,h5=3,f5=1,m5=function(r){kj(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cropperRef=A.createRef(),t.imageRef=A.createRef(),t.videoRef=A.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc=typeof document<"u"?document:null,t.currentWindow=typeof window<"u"?window:null,t.resizeObserver=null,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!t.containerRef)){var s=!0;t.resizeObserver=new window.ResizeObserver(function(a){if(s){s=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(s){return s.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturemove",t.onGestureMove),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var s=t.computeSizes();s&&(t.emitCropData(),t.setInitialCrop(s)),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(s){if(t.props.initialCroppedAreaPercentages){var a=a5(t.props.initialCroppedAreaPercentages,t.mediaSize,t.props.rotation,s,t.props.minZoom,t.props.maxZoom),c=a.crop,d=a.zoom;t.props.onCropChange(c),t.props.onZoomChange&&t.props.onZoomChange(d)}else if(t.props.initialCroppedAreaPixels){var f=l5(t.props.initialCroppedAreaPixels,t.mediaSize,t.props.rotation,s,t.props.minZoom,t.props.maxZoom),c=f.crop,d=f.zoom;t.props.onCropChange(c),t.props.onZoomChange&&t.props.onZoomChange(d)}},t.computeSizes=function(){var s,a,c,d,f,p,g=t.imageRef.current||t.videoRef.current;if(g&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var v=t.containerRect.width/t.containerRect.height,b=((s=t.imageRef.current)===null||s===void 0?void 0:s.naturalWidth)||((a=t.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,E=((c=t.imageRef.current)===null||c===void 0?void 0:c.naturalHeight)||((d=t.videoRef.current)===null||d===void 0?void 0:d.videoHeight)||0,T=g.offsetWidth<b||g.offsetHeight<E,M=b/E,V=void 0;if(T)switch(t.state.mediaObjectFit){default:case"contain":V=v>M?{width:t.containerRect.height*M,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/M};break;case"horizontal-cover":V={width:t.containerRect.width,height:t.containerRect.width/M};break;case"vertical-cover":V={width:t.containerRect.height*M,height:t.containerRect.height};break}else V={width:g.offsetWidth,height:g.offsetHeight};t.mediaSize=Wt(Wt({},V),{naturalWidth:b,naturalHeight:E}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var R=t.props.cropSize?t.props.cropSize:t5(t.mediaSize.width,t.mediaSize.height,t.containerRect.width,t.containerRect.height,t.props.aspect,t.props.rotation);return(((f=t.state.cropSize)===null||f===void 0?void 0:f.height)!==R.height||((p=t.state.cropSize)===null||p===void 0?void 0:p.width)!==R.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(R),t.setState({cropSize:R},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(R),R}},t.saveContainerPosition=function(){if(t.containerRef){var s=t.containerRef.getBoundingClientRect();t.containerPosition={x:s.left,y:s.top}}},t.onMouseDown=function(s){t.currentDoc&&(s.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(e.getMousePoint(s)))},t.onMouseMove=function(s){return t.onDrag(e.getMousePoint(s))},t.onScroll=function(s){t.currentDoc&&(s.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(s){t.currentDoc&&(t.isTouching=!0,!(t.props.onTouchRequest&&!t.props.onTouchRequest(s))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),s.touches.length===2?t.onPinchStart(s):s.touches.length===1&&t.onDragStart(e.getTouchPoint(s.touches[0]))))},t.onTouchMove=function(s){s.preventDefault(),s.touches.length===2?t.onPinchMove(s):s.touches.length===1&&t.onDrag(e.getTouchPoint(s.touches[0]))},t.onGestureStart=function(s){t.currentDoc&&(s.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureMove),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureMove=function(s){if(s.preventDefault(),!t.isTouching){var a=e.getMousePoint(s),c=t.gestureZoomStart-1+s.scale;if(t.setNewZoom(c,a,{shouldUpdatePosition:!0}),t.props.onRotationChange){var d=t.gestureRotationStart+s.rotation;t.props.onRotationChange(d)}}},t.onGestureEnd=function(s){t.cleanEvents()},t.onDragStart=function(s){var a,c,d=s.x,f=s.y;t.dragStartPosition={x:d,y:f},t.dragStartCrop=Wt({},t.props.crop),(c=(a=t.props).onInteractionStart)===null||c===void 0||c.call(a)},t.onDrag=function(s){var a=s.x,c=s.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&!(a===void 0||c===void 0)){var d=a-t.dragStartPosition.x,f=c-t.dragStartPosition.y,p={x:t.dragStartCrop.x+d,y:t.dragStartCrop.y+f},g=t.props.restrictPosition?oc(p,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):p;t.props.onCropChange(g)}}))},t.onDragStopped=function(){var s,a;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),(a=(s=t.props).onInteractionEnd)===null||a===void 0||a.call(s)},t.onWheel=function(s){if(t.currentWindow&&!(t.props.onWheelRequest&&!t.props.onWheelRequest(s))){s.preventDefault();var a=e.getMousePoint(s),c=e5(s).pixelY,d=t.props.zoom-c*t.props.zoomSpeed/200;t.setNewZoom(d,a,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var f,p;return(p=(f=t.props).onInteractionStart)===null||p===void 0?void 0:p.call(f)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var f,p;return(p=(f=t.props).onInteractionEnd)===null||p===void 0?void 0:p.call(f)})},250)}},t.getPointOnContainer=function(s,a){var c=s.x,d=s.y;if(!t.containerRect)throw new Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(c-a.x),y:t.containerRect.height/2-(d-a.y)}},t.getPointOnMedia=function(s){var a=s.x,c=s.y,d=t.props,f=d.crop,p=d.zoom;return{x:(a+f.x)/p,y:(c+f.y)/p}},t.setNewZoom=function(s,a,c){var d=c===void 0?{}:c,f=d.shouldUpdatePosition,p=f===void 0?!0:f;if(!(!t.state.cropSize||!t.props.onZoomChange)){var g=Vh(s,t.props.minZoom,t.props.maxZoom);if(p){var v=t.getPointOnContainer(a,t.containerPosition),b=t.getPointOnMedia(v),E={x:b.x*g-v.x,y:b.y*g-v.y},T=t.props.restrictPosition?oc(E,t.mediaSize,t.state.cropSize,g,t.props.rotation):E;t.props.onCropChange(T)}t.props.onZoomChange(g)}},t.getCropData=function(){if(!t.state.cropSize)return null;var s=t.props.restrictPosition?oc(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;return r5(s,t.mediaSize,t.state.cropSize,t.getAspect(),t.props.zoom,t.props.rotation,t.props.restrictPosition)},t.emitCropData=function(){var s=t.getCropData();if(s){var a=s.croppedAreaPercentages,c=s.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(a,c),t.props.onCropAreaChange&&t.props.onCropAreaChange(a,c)}},t.emitCropAreaChange=function(){var s=t.getCropData();if(s){var a=s.croppedAreaPercentages,c=s.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(a,c)}},t.recomputeCropPosition=function(){if(t.state.cropSize){var s=t.props.restrictPosition?oc(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;t.props.onCropChange(s),t.emitCropData()}},t.onKeyDown=function(s){var a,c,d=t.props,f=d.crop,p=d.onCropChange,g=d.keyboardStep,v=d.zoom,b=d.rotation,E=g;if(t.state.cropSize){s.shiftKey&&(E*=.2);var T=Wt({},f);switch(s.key){case"ArrowUp":T.y-=E,s.preventDefault();break;case"ArrowDown":T.y+=E,s.preventDefault();break;case"ArrowLeft":T.x-=E,s.preventDefault();break;case"ArrowRight":T.x+=E,s.preventDefault();break;default:return}t.props.restrictPosition&&(T=oc(T,t.mediaSize,t.state.cropSize,v,b)),s.repeat||(c=(a=t.props).onInteractionStart)===null||c===void 0||c.call(a),p(T)}},t.onKeyUp=function(s){var a,c;switch(s.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":s.preventDefault();break;default:return}t.emitCropData(),(c=(a=t.props).onInteractionEnd)===null||c===void 0||c.call(a)},t}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=u5,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var t,s;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((s=this.styleRef.parentNode)===null||s===void 0||s.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(t){var s,a,c,d,f,p,g,v,b;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect?this.computeSizes():t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():((s=t.cropSize)===null||s===void 0?void 0:s.height)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.height)||((c=t.cropSize)===null||c===void 0?void 0:c.width)!==((d=this.props.cropSize)===null||d===void 0?void 0:d.width)?this.computeSizes():(((f=t.crop)===null||f===void 0?void 0:f.x)!==((p=this.props.crop)===null||p===void 0?void 0:p.x)||((g=t.crop)===null||g===void 0?void 0:g.y)!==((v=this.props.crop)===null||v===void 0?void 0:v.y))&&this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&((b=this.videoRef.current)===null||b===void 0||b.load());var E=this.getObjectFit();E!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:E},this.computeSizes)},e.prototype.getAspect=function(){var t=this.props,s=t.cropSize,a=t.aspect;return s?s.width/s.height:a},e.prototype.getObjectFit=function(){var t,s,a,c;if(this.props.objectFit==="cover"){var d=this.imageRef.current||this.videoRef.current;if(d&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var f=this.containerRect.width/this.containerRect.height,p=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,g=((a=this.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((c=this.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,v=p/g;return v<f?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(t){var s=e.getTouchPoint(t.touches[0]),a=e.getTouchPoint(t.touches[1]);this.lastPinchDistance=Rw(s,a),this.lastPinchRotation=kw(s,a),this.onDragStart(Iw(s,a))},e.prototype.onPinchMove=function(t){var s=this;if(!(!this.currentDoc||!this.currentWindow)){var a=e.getTouchPoint(t.touches[0]),c=e.getTouchPoint(t.touches[1]),d=Iw(a,c);this.onDrag(d),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var f=Rw(a,c),p=s.props.zoom*(f/s.lastPinchDistance);s.setNewZoom(p,d,{shouldUpdatePosition:!1}),s.lastPinchDistance=f;var g=kw(a,c),v=s.props.rotation+(g-s.lastPinchRotation);s.props.onRotationChange&&s.props.onRotationChange(v),s.lastPinchRotation=g})}},e.prototype.render=function(){var t=this,s,a=this.props,c=a.image,d=a.video,f=a.mediaProps,p=a.cropperProps,g=a.transform,v=a.crop,b=v.x,E=v.y,T=a.rotation,M=a.zoom,V=a.cropShape,R=a.showGrid,L=a.style,O=L.containerStyle,S=L.cropAreaStyle,F=L.mediaStyle,P=a.classes,$=P.containerClassName,C=P.cropAreaClassName,N=P.mediaClassName,D=(s=this.state.mediaObjectFit)!==null&&s!==void 0?s:this.getObjectFit();return A.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(q){return t.containerRef=q},"data-testid":"container",style:O,className:Nd("reactEasyCrop_Container",$)},c?A.createElement("img",Wt({alt:"",className:Nd("reactEasyCrop_Image",D==="contain"&&"reactEasyCrop_Contain",D==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",D==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",N)},f,{src:c,ref:this.imageRef,style:Wt(Wt({},F),{transform:g||"translate(".concat(b,"px, ").concat(E,"px) rotate(").concat(T,"deg) scale(").concat(M,")")}),onLoad:this.onMediaLoad})):d&&A.createElement("video",Wt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Nd("reactEasyCrop_Video",D==="contain"&&"reactEasyCrop_Contain",D==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",D==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",N)},f,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Wt(Wt({},F),{transform:g||"translate(".concat(b,"px, ").concat(E,"px) rotate(").concat(T,"deg) scale(").concat(M,")")}),controls:!1}),(Array.isArray(d)?d:[{src:d}]).map(function(U){return A.createElement("source",Wt({key:U.src},U))})),this.state.cropSize&&A.createElement("div",Wt({ref:this.cropperRef,style:Wt(Wt({},S),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Nd("reactEasyCrop_CropArea",V==="round"&&"reactEasyCrop_CropAreaRound",R&&"reactEasyCrop_CropAreaGrid",C)},p)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:h5,minZoom:d5,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:f5},e.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e}(A.Component);const p5=r=>new Promise((e,t)=>{const s=new Image;s.addEventListener("load",()=>e(s)),s.addEventListener("error",a=>t(a)),s.src=r}),g5=async(r,e,t=0)=>{const s=await p5(r),a=document.createElement("canvas"),c=a.getContext("2d");return c?(a.width=e.width,a.height=e.height,c.drawImage(s,e.x,e.y,e.width,e.height,0,0,e.width,e.height),new Promise(d=>{a.toBlob(f=>{if(!f){console.error("Canvas is empty");return}d(f)},"image/jpeg",.95)})):null},y5=({image:r,onCropComplete:e,onCancel:t})=>{const[s,a]=A.useState({x:0,y:0}),[c,d]=A.useState(1),[f,p]=A.useState(null),g=T=>{a(T)},v=T=>{d(T)},b=A.useCallback((T,M)=>{p(M)},[]),E=async()=>{try{if(f){const T=await g5(r,f);e(T)}}catch(T){console.error("Error cropping image:",T)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-lg overflow-hidden w-full max-w-md",children:[l.jsx("div",{className:"p-4 bg-indigo-600 text-white font-medium",children:"Crop Profile Image"}),l.jsx("div",{className:"relative h-72 w-full",children:l.jsx(m5,{image:r,crop:s,zoom:c,aspect:1,cropShape:"round",showGrid:!1,onCropChange:g,onZoomChange:v,onCropComplete:b})}),l.jsxs("div",{className:"p-4",children:[l.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Zoom"}),l.jsx("input",{type:"range",min:1,max:3,step:.1,value:c,onChange:T=>d(parseFloat(T.target.value)),className:"w-full"})]}),l.jsxs("div",{className:"p-4 border-t flex justify-end space-x-2",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:E,className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Apply"})]})]})})},v5=({currentImage:r,onImageUpdate:e})=>{const[t,s]=A.useState(!1),[a,c]=A.useState(null),[d,f]=A.useState(0),[p,g]=A.useState(!1),[v,b]=A.useState(null),[E,T]=A.useState(null),M=A.useRef(null),{currentUser:V,updateUserProfile:R}=dt(),L=()=>{M.current.click()},O=$=>{const C=$.target.files[0];if(!C)return;if(!C.type.startsWith("image/")){alert("Please select an image file");return}if(C.size>5*1024*1024){alert("Image size should be less than 5MB");return}console.log("Selected file:",C.name,C.type,C.size);const N=new FileReader;N.onload=D=>{b(D.target.result),g(!0)},N.readAsDataURL(C)},S=async $=>{try{console.log("Crop completed, blob size:",$.size);const C=new File([$],"cropped-image.jpg",{type:"image/jpeg"}),N=URL.createObjectURL($);c(N),T(C),g(!1),await F(C)}catch(C){console.error("Error in crop complete handler:",C),alert("There was an error processing the image. Please try again."),g(!1)}},F=async $=>{try{s(!0),f(10),console.log("Starting upload to Cloudinary..."),f(30);const C=await $I($,V.uid);console.log("Cloudinary upload successful:",C),f(75),await R(V.uid,{profileImage:C}),console.log("Firebase profile updated with new image URL"),f(100),e(C),setTimeout(()=>{s(!1),f(0)},500)}catch(C){console.error("Error uploading image:",C),s(!1),f(0),alert("Failed to upload image. Please try again: "+C.message)}},P=()=>V!=null&&V.displayName?V.displayName.split(" ").map($=>$[0]).join("").toUpperCase():V!=null&&V.email?V.email[0].toUpperCase():"U";return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative",children:[l.jsxs("div",{onClick:L,className:"h-32 w-32 bg-indigo-200 rounded-full flex items-center justify-center text-indigo-700 text-4xl font-bold overflow-hidden cursor-pointer relative group",children:[a||r?l.jsx("img",{src:a||r,alt:"Profile",className:"h-full w-full object-cover"}):l.jsx("div",{className:"flex items-center justify-center h-full w-full",children:P()}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),t&&l.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-70 flex flex-col items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-white mb-2"}),l.jsx("div",{className:"w-16 h-1 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-white transition-all duration-300 ease-in-out",style:{width:`${d}%`}})}),l.jsxs("span",{className:"text-white text-xs mt-1",children:[d,"%"]})]})]}),l.jsx("input",{ref:M,type:"file",accept:"image/*",className:"hidden",onChange:O}),l.jsx("div",{className:"mt-2 text-center",children:l.jsx("span",{className:"text-xs text-gray-500 block",children:"Click to change"})})]}),p&&v&&l.jsx(y5,{image:v,onCropComplete:S,onCancel:()=>{g(!1),b(null)}})]})},L_=({onSave:r,onCancel:e,existingSkill:t=null})=>{const[s,a]=A.useState({name:(t==null?void 0:t.name)||"",level:(t==null?void 0:t.level)||"Beginner",years:(t==null?void 0:t.years)||0}),c=f=>{const{name:p,value:g}=f.target;a(v=>({...v,[p]:p==="years"?parseInt(g,10)||0:g}))},d=f=>{f.preventDefault(),s.name.trim()&&r(s)};return l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:t?"Edit Skill":"Add New Skill"}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Skill Name"}),l.jsx("input",{id:"name",name:"name",type:"text",value:s.name,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., JavaScript, UX Design, Project Management",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"level",className:"block text-sm font-medium text-gray-700",children:"Proficiency Level"}),l.jsxs("select",{id:"level",name:"level",value:s.level,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[l.jsx("option",{value:"Beginner",children:"Beginner"}),l.jsx("option",{value:"Intermediate",children:"Intermediate"}),l.jsx("option",{value:"Advanced",children:"Advanced"}),l.jsx("option",{value:"Expert",children:"Expert"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"years",className:"block text-sm font-medium text-gray-700",children:"Years of Experience"}),l.jsx("input",{id:"years",name:"years",type:"number",min:"0",max:"50",value:s.years,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:e,className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700",children:t?"Update Skill":"Add Skill"})]})]})]})},x5=({onSave:r,onCancel:e,existingExperience:t=null})=>{const[s,a]=A.useState({title:(t==null?void 0:t.title)||"",company:(t==null?void 0:t.company)||"",location:(t==null?void 0:t.location)||"",startDate:(t==null?void 0:t.startDate)||"",endDate:(t==null?void 0:t.endDate)||"",isCurrent:(t==null?void 0:t.isCurrent)||!1,description:(t==null?void 0:t.description)||""}),c=p=>{const{name:g,value:v,type:b,checked:E}=p.target;a(T=>({...T,[g]:b==="checkbox"?E:v}))},d=p=>{if(p.preventDefault(),!s.title.trim()||!s.company.trim())return;const g={...s,duration:f(s.startDate,s.endDate,s.isCurrent)};r(g)},f=(p,g,v)=>{if(!p)return"";const b=new Date(p),E=b.toLocaleString("default",{month:"short"}),T=b.getFullYear();let M;if(v)M="Present";else if(g){const V=new Date(g),R=V.toLocaleString("default",{month:"short"}),L=V.getFullYear();M=`${R} ${L}`}else M="Present";return`${E} ${T} - ${M}`};return l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:t?"Edit Experience":"Add Work Experience"}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Job Title"}),l.jsx("input",{id:"title",name:"title",type:"text",value:s.title,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., Senior Software Engineer",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company"}),l.jsx("input",{id:"company",name:"company",type:"text",value:s.company,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., Google",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),l.jsx("input",{id:"location",name:"location",type:"text",value:s.location,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., San Francisco, CA (Remote)"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Start Date"}),l.jsx("input",{id:"startDate",name:"startDate",type:"date",value:s.startDate,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"End Date"}),l.jsx("input",{id:"endDate",name:"endDate",type:"date",value:s.endDate,onChange:c,disabled:s.isCurrent,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-100 disabled:text-gray-500"}),l.jsxs("div",{className:"mt-1 flex items-center",children:[l.jsx("input",{id:"isCurrent",name:"isCurrent",type:"checkbox",checked:s.isCurrent,onChange:c,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"isCurrent",className:"ml-2 block text-sm text-gray-700",children:"Current Position"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{id:"description",name:"description",rows:"4",value:s.description,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Describe your responsibilities, achievements, and skills used"})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:e,className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700",children:t?"Update Experience":"Add Experience"})]})]})]})},b5=({onSave:r,onCancel:e,existingProject:t=null})=>{const[s,a]=A.useState({name:(t==null?void 0:t.name)||"",role:(t==null?void 0:t.role)||"",description:(t==null?void 0:t.description)||"",githubLink:(t==null?void 0:t.githubLink)||"",liveLink:(t==null?void 0:t.liveLink)||"",technologies:(t==null?void 0:t.technologies)||[],startDate:(t==null?void 0:t.startDate)||"",endDate:(t==null?void 0:t.endDate)||"",isCurrent:(t==null?void 0:t.isCurrent)||!1}),[c,d]=A.useState(""),f=b=>{const{name:E,value:T,type:M,checked:V}=b.target;a(R=>({...R,[E]:M==="checkbox"?V:T}))},p=()=>{c.trim()&&!s.technologies.includes(c.trim())&&(a(b=>({...b,technologies:[...b.technologies,c.trim()]})),d(""))},g=b=>{a(E=>({...E,technologies:E.technologies.filter(T=>T!==b)}))},v=b=>{b.preventDefault(),s.name.trim()&&r(s)};return l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:t?"Edit Project":"Add New Project"}),l.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Project Name"}),l.jsx("input",{id:"name",name:"name",type:"text",value:s.name,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., E-Commerce Platform",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Your Role"}),l.jsx("input",{id:"role",name:"role",type:"text",value:s.role,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., Lead Developer"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{id:"description",name:"description",rows:"3",value:s.description,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Describe the project, its purpose, and your contributions"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"githubLink",className:"block text-sm font-medium text-gray-700",children:"GitHub Link"}),l.jsx("input",{id:"githubLink",name:"githubLink",type:"url",value:s.githubLink,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., https://github.com/username/project"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"liveLink",className:"block text-sm font-medium text-gray-700",children:"Live Demo Link (Optional)"}),l.jsx("input",{id:"liveLink",name:"liveLink",type:"url",value:s.liveLink,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., https://myproject.com"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Start Date"}),l.jsx("input",{id:"startDate",name:"startDate",type:"date",value:s.startDate,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"End Date"}),l.jsx("input",{id:"endDate",name:"endDate",type:"date",value:s.endDate,onChange:f,disabled:s.isCurrent,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-100 disabled:text-gray-500"}),l.jsxs("div",{className:"mt-1 flex items-center",children:[l.jsx("input",{id:"isCurrent",name:"isCurrent",type:"checkbox",checked:s.isCurrent,onChange:f,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"isCurrent",className:"ml-2 block text-sm text-gray-700",children:"Current Project"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Technologies Used"}),l.jsxs("div",{className:"flex",children:[l.jsx("input",{type:"text",value:c,onChange:b=>d(b.target.value),onKeyPress:b=>b.key==="Enter"&&(b.preventDefault(),p()),className:"flex-grow border border-gray-300 rounded-l-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., React, Node.js"}),l.jsx("button",{type:"button",onClick:p,className:"bg-indigo-600 text-white px-4 py-2 rounded-r-md font-medium hover:bg-indigo-700",children:"Add"})]}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:s.technologies.map((b,E)=>l.jsxs("span",{className:"inline-flex items-center bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded",children:[b,l.jsx("button",{type:"button",onClick:()=>g(b),className:"ml-1.5 text-indigo-600 hover:text-indigo-900 focus:outline-none",children:l.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},E))})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:e,className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700",children:t?"Update Project":"Add Project"})]})]})]})},w5=({onSave:r,onCancel:e,existingEducation:t=null})=>{const[s,a]=A.useState({institution:(t==null?void 0:t.institution)||"",degree:(t==null?void 0:t.degree)||"",field:(t==null?void 0:t.field)||"",year:(t==null?void 0:t.year)||new Date().getFullYear(),description:(t==null?void 0:t.description)||""}),c=g=>{const{name:v,value:b}=g.target;a(E=>({...E,[v]:v==="year"?parseInt(b,10)||new Date().getFullYear():b}))},d=g=>{g.preventDefault(),!(!s.institution.trim()||!s.degree.trim())&&r(s)},f=new Date().getFullYear(),p=[];for(let g=f;g>=1950;g--)p.push(g);return l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:t?"Edit Education":"Add Education"}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"institution",className:"block text-sm font-medium text-gray-700",children:"Institution"}),l.jsx("input",{id:"institution",name:"institution",type:"text",value:s.institution,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., Harvard University",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"degree",className:"block text-sm font-medium text-gray-700",children:"Degree"}),l.jsx("input",{id:"degree",name:"degree",type:"text",value:s.degree,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., Bachelor of Science",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"field",className:"block text-sm font-medium text-gray-700",children:"Field of Study"}),l.jsx("input",{id:"field",name:"field",type:"text",value:s.field,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., Computer Science"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-700",children:"Graduation Year"}),l.jsx("select",{id:"year",name:"year",value:s.year,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:p.map(g=>l.jsx("option",{value:g,children:g},g))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description (Optional)"}),l.jsx("textarea",{id:"description",name:"description",rows:"3",value:s.description,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Additional information about your education"})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:e,className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700",children:t?"Update Education":"Add Education"})]})]})]})};let _5={data:""},E5=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||_5,N5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,T5=/\/\*[^]*?\*\/|  +/g,Dw=/\n+/g,hi=(r,e)=>{let t="",s="",a="";for(let c in r){let d=r[c];c[0]=="@"?c[1]=="i"?t=c+" "+d+";":s+=c[1]=="f"?hi(d,c):c+"{"+hi(d,c[1]=="k"?"":e)+"}":typeof d=="object"?s+=hi(d,e?e.replace(/([^,])+/g,f=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,f):f?f+" "+p:p)):c):d!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=hi.p?hi.p(c,d):c+":"+d+";")}return t+(e&&a?e+"{"+a+"}":a)+s},ys={},O_=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+O_(r[t]);return e}return r},S5=(r,e,t,s,a)=>{let c=O_(r),d=ys[c]||(ys[c]=(p=>{let g=0,v=11;for(;g<p.length;)v=101*v+p.charCodeAt(g++)>>>0;return"go"+v})(c));if(!ys[d]){let p=c!==r?r:(g=>{let v,b,E=[{}];for(;v=N5.exec(g.replace(T5,""));)v[4]?E.shift():v[3]?(b=v[3].replace(Dw," ").trim(),E.unshift(E[0][b]=E[0][b]||{})):E[0][v[1]]=v[2].replace(Dw," ").trim();return E[0]})(r);ys[d]=hi(a?{["@keyframes "+d]:p}:p,t?"":"."+d)}let f=t&&ys.g?ys.g:null;return t&&(ys.g=ys[d]),((p,g,v,b)=>{b?g.data=g.data.replace(b,p):g.data.indexOf(p)===-1&&(g.data=v?p+g.data:g.data+p)})(ys[d],e,s,f),d},j5=(r,e,t)=>r.reduce((s,a,c)=>{let d=e[c];if(d&&d.call){let f=d(t),p=f&&f.props&&f.props.className||/^go/.test(f)&&f;d=p?"."+p:f&&typeof f=="object"?f.props?"":hi(f,""):f===!1?"":f}return s+a+(d??"")},"");function Uh(r){let e=this||{},t=r.call?r(e.p):r;return S5(t.unshift?t.raw?j5(t,[].slice.call(arguments,1),e.p):t.reduce((s,a)=>Object.assign(s,a&&a.call?a(e.p):a),{}):t,E5(e.target),e.g,e.o,e.k)}let P_,Wp,$p;Uh.bind({g:1});let Cs=Uh.bind({k:1});function A5(r,e,t,s){hi.p=e,P_=r,Wp=t,$p=s}function Di(r,e){let t=this||{};return function(){let s=arguments;function a(c,d){let f=Object.assign({},c),p=f.className||a.className;t.p=Object.assign({theme:Wp&&Wp()},f),t.o=/ *go\d+/.test(p),f.className=Uh.apply(t,s)+(p?" "+p:"");let g=r;return r[0]&&(g=f.as||r,delete f.as),$p&&g[0]&&$p(f),P_(g,f)}return a}}var C5=r=>typeof r=="function",lh=(r,e)=>C5(r)?r(e):r,R5=(()=>{let r=0;return()=>(++r).toString()})(),V_=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),k5=20,U_=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,k5)};case 1:return{...r,toasts:r.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:t}=e;return U_(r,{type:r.toasts.find(c=>c.id===t.id)?1:0,toast:t});case 3:let{toastId:s}=e;return{...r,toasts:r.toasts.map(c=>c.id===s||s===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let a=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+a}))}}},Ud=[],va={toasts:[],pausedAt:void 0},Aa=r=>{va=U_(va,r),Ud.forEach(e=>{e(va)})},I5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},D5=(r={})=>{let[e,t]=A.useState(va),s=A.useRef(va);A.useEffect(()=>(s.current!==va&&t(va),Ud.push(t),()=>{let c=Ud.indexOf(t);c>-1&&Ud.splice(c,1)}),[]);let a=e.toasts.map(c=>{var d,f,p;return{...r,...r[c.type],...c,removeDelay:c.removeDelay||((d=r[c.type])==null?void 0:d.removeDelay)||(r==null?void 0:r.removeDelay),duration:c.duration||((f=r[c.type])==null?void 0:f.duration)||(r==null?void 0:r.duration)||I5[c.type],style:{...r.style,...(p=r[c.type])==null?void 0:p.style,...c.style}}});return{...e,toasts:a}},M5=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||R5()}),Gc=r=>(e,t)=>{let s=M5(e,r,t);return Aa({type:2,toast:s}),s.id},ct=(r,e)=>Gc("blank")(r,e);ct.error=Gc("error");ct.success=Gc("success");ct.loading=Gc("loading");ct.custom=Gc("custom");ct.dismiss=r=>{Aa({type:3,toastId:r})};ct.remove=r=>Aa({type:4,toastId:r});ct.promise=(r,e,t)=>{let s=ct.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(a=>{let c=e.success?lh(e.success,a):void 0;return c?ct.success(c,{id:s,...t,...t==null?void 0:t.success}):ct.dismiss(s),a}).catch(a=>{let c=e.error?lh(e.error,a):void 0;c?ct.error(c,{id:s,...t,...t==null?void 0:t.error}):ct.dismiss(s)}),r};var L5=(r,e)=>{Aa({type:1,toast:{id:r,height:e}})},O5=()=>{Aa({type:5,time:Date.now()})},xc=new Map,P5=1e3,V5=(r,e=P5)=>{if(xc.has(r))return;let t=setTimeout(()=>{xc.delete(r),Aa({type:4,toastId:r})},e);xc.set(r,t)},U5=r=>{let{toasts:e,pausedAt:t}=D5(r);A.useEffect(()=>{if(t)return;let c=Date.now(),d=e.map(f=>{if(f.duration===1/0)return;let p=(f.duration||0)+f.pauseDuration-(c-f.createdAt);if(p<0){f.visible&&ct.dismiss(f.id);return}return setTimeout(()=>ct.dismiss(f.id),p)});return()=>{d.forEach(f=>f&&clearTimeout(f))}},[e,t]);let s=A.useCallback(()=>{t&&Aa({type:6,time:Date.now()})},[t]),a=A.useCallback((c,d)=>{let{reverseOrder:f=!1,gutter:p=8,defaultPosition:g}=d||{},v=e.filter(T=>(T.position||g)===(c.position||g)&&T.height),b=v.findIndex(T=>T.id===c.id),E=v.filter((T,M)=>M<b&&T.visible).length;return v.filter(T=>T.visible).slice(...f?[E+1]:[0,E]).reduce((T,M)=>T+(M.height||0)+p,0)},[e]);return A.useEffect(()=>{e.forEach(c=>{if(c.dismissed)V5(c.id,c.removeDelay);else{let d=xc.get(c.id);d&&(clearTimeout(d),xc.delete(c.id))}})},[e]),{toasts:e,handlers:{updateHeight:L5,startPause:O5,endPause:s,calculateOffset:a}}},z5=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,B5=Cs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,F5=Cs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,q5=Di("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${z5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${B5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${F5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,H5=Cs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,G5=Di("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${H5} 1s linear infinite;
`,W5=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,$5=Cs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Q5=Di("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${W5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${$5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Y5=Di("div")`
  position: absolute;
`,K5=Di("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,X5=Cs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Z5=Di("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${X5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,J5=({toast:r})=>{let{icon:e,type:t,iconTheme:s}=r;return e!==void 0?typeof e=="string"?A.createElement(Z5,null,e):e:t==="blank"?null:A.createElement(K5,null,A.createElement(G5,{...s}),t!=="loading"&&A.createElement(Y5,null,t==="error"?A.createElement(q5,{...s}):A.createElement(Q5,{...s})))},e6=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,t6=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,n6="0%{opacity:0;} 100%{opacity:1;}",r6="0%{opacity:1;} 100%{opacity:0;}",s6=Di("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,i6=Di("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,a6=(r,e)=>{let t=r.includes("top")?1:-1,[s,a]=V_()?[n6,r6]:[e6(t),t6(t)];return{animation:e?`${Cs(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cs(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},o6=A.memo(({toast:r,position:e,style:t,children:s})=>{let a=r.height?a6(r.position||e||"top-center",r.visible):{opacity:0},c=A.createElement(J5,{toast:r}),d=A.createElement(i6,{...r.ariaProps},lh(r.message,r));return A.createElement(s6,{className:r.className,style:{...a,...t,...r.style}},typeof s=="function"?s({icon:c,message:d}):A.createElement(A.Fragment,null,c,d))});A5(A.createElement);var l6=({id:r,className:e,style:t,onHeightUpdate:s,children:a})=>{let c=A.useCallback(d=>{if(d){let f=()=>{let p=d.getBoundingClientRect().height;s(r,p)};f(),new MutationObserver(f).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return A.createElement("div",{ref:c,className:e,style:t},a)},c6=(r,e)=>{let t=r.includes("top"),s=t?{top:0}:{bottom:0},a=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:V_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...a}},u6=Uh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Td=16,d6=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:s,children:a,containerStyle:c,containerClassName:d})=>{let{toasts:f,handlers:p}=U5(t);return A.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Td,left:Td,right:Td,bottom:Td,pointerEvents:"none",...c},className:d,onMouseEnter:p.startPause,onMouseLeave:p.endPause},f.map(g=>{let v=g.position||e,b=p.calculateOffset(g,{reverseOrder:r,gutter:s,defaultPosition:e}),E=c6(v,b);return A.createElement(l6,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?u6:"",style:E},g.type==="custom"?lh(g.message,g):a?a(g):A.createElement(o6,{toast:g,position:v}))}))};const h6=async(r,e,t,s,a)=>{try{const c=await cn(Qe(xe,"users",t));if(!c.exists())throw new Error("Sender user not found");const d=c.data();let f,p;s==="learner"&&a==="mentor"?(f="New mentorship request",p=`${d.name} has requested mentorship from you`):s==="mentor"&&a==="learner"?(f="New mentorship invitation",p=`${d.name} has invited you to connect as a mentee`):(f="New connection request",p=`${d.name} wants to connect with you`);const g={userId:e,type:"connection",title:f,description:p,requestId:r,fromId:t,fromRole:s,toRole:a,senderName:d.name,senderProfileImage:d.profileImage,isRead:!1,createdAt:Nn()};return await ji(at(xe,"notifications"),g),!0}catch(c){throw console.error("Error creating connection notification:",c),c}},z_=()=>{const{currentUser:r,userProfile:e}=dt(),[t,s]=A.useState([]),[a,c]=A.useState([]),[d,f]=A.useState([]),[p,g]=A.useState(!0),[v,b]=A.useState(null),E=(O,S)=>O==="learner"&&S==="mentor"?"Request Mentorship":O==="mentor"&&S==="learner"?"Invite to Session":O==="recruiter"?"Offer Opportunity":(O==="mentor"||O==="learner")&&S==="recruiter"?"Apply":"Connect",T=async(O,S,F="")=>{if(!(!r||!e))try{const P=gt(at(xe,"requests"),mt("fromId","in",[r.uid,O]),mt("toId","in",[r.uid,O]));if(!(await vi(P)).empty)throw new Error("A connection request already exists between these users");const C={fromId:r.uid,toId:O,fromRole:e.role,toRole:S,status:"pending",timestamp:Nn(),message:F||""},N=await ji(at(xe,"requests"),C);return await h6(N.id,O,r.uid,e.role,S),!0}catch(P){throw b(P.message),P}},M=async O=>{try{const S=Qe(xe,"requests",O),F=await cn(S);if(!F.exists())throw new Error("Request not found");const P=F.data();await On(S,{status:"accepted",responseTimestamp:Nn()});const $={userId:P.fromId,type:"connection_accepted",title:"Connection request accepted",description:"Your connection request has been accepted",requestId:O,isRead:!1,createdAt:Nn()};return await ji(at(xe,"notifications"),$),!0}catch(S){throw b(S.message),S}},V=async O=>{try{const S=Qe(xe,"requests",O);return await On(S,{status:"rejected",responseTimestamp:Nn()}),!0}catch(S){throw b(S.message),S}},R=async O=>{try{return await N_(Qe(xe,"requests",O)),!0}catch(S){throw b(S.message),S}},L=async O=>{if(!r)return null;try{const S=gt(at(xe,"requests"),mt("fromId","in",[r.uid,O]),mt("toId","in",[r.uid,O])),F=await vi(S);if(F.empty)return null;const P=F.docs[0],$=P.data();return{id:P.id,...$,isIncoming:$.toId===r.uid}}catch(S){return b(S.message),null}};return A.useEffect(()=>{if(!r){s([]),c([]),f([]),g(!1);return}g(!0);const O=gt(at(xe,"requests"),mt("toId","==",r.uid)),S=Pr(O,async N=>{const D=[];for(const U of N.docs){const q={id:U.id,...U.data()};try{const z=await cn(U(xe,"users",q.fromId));if(z.exists()){const I=z.data();q.senderName=I.name,q.senderProfileImage=I.profileImage}}catch(z){console.error("Error fetching sender data:",z)}D.push(q)}s(D)},N=>{console.error("Error fetching incoming requests:",N),b(N.message)}),F=gt(at(xe,"requests"),mt("fromId","==",r.uid)),P=Pr(F,async N=>{const D=[];for(const U of N.docs){const q={id:U.id,...U.data()};try{const z=await cn(U(xe,"users",q.toId));if(z.exists()){const I=z.data();q.recipientName=I.name,q.recipientProfileImage=I.profileImage}}catch(z){console.error("Error fetching recipient data:",z)}D.push(q)}c(D)},N=>{console.error("Error fetching outgoing requests:",N),b(N.message)}),$=gt(at(xe,"requests"),mt("status","==","accepted"),mt("fromId","==",r.uid)),C=Pr($,async N=>{const D=[];for(const z of N.docs){const I={id:z.id,...z.data()};try{const Z=await cn(Qe(xe,"users",I.toId));if(Z.exists()){const ce=Z.data();I.connectedUser={id:I.toId,name:ce.name||"Unknown User",role:ce.role||I.toRole||"user",profileImage:ce.profileImage||null}}else console.warn(`User document for ${I.toId} does not exist`),I.connectedUser={id:I.toId,name:"Unknown User",role:I.toRole||"user",profileImage:null}}catch(Z){console.error("Error fetching connection user data:",Z),I.connectedUser={id:I.toId,name:"Error Loading User",role:I.toRole||"user",profileImage:null}}D.push(I)}const U=gt(at(xe,"requests"),mt("status","==","accepted"),mt("toId","==",r.uid)),q=await vi(U);for(const z of q.docs){const I={id:z.id,...z.data()};try{const Z=await cn(Qe(xe,"users",I.fromId));if(Z.exists()){const ce=Z.data();I.connectedUser={id:I.fromId,name:ce.name||"Unknown User",role:ce.role||I.fromRole||"user",profileImage:ce.profileImage||null}}else console.warn(`User document for ${I.fromId} does not exist`),I.connectedUser={id:I.fromId,name:"Unknown User",role:I.fromRole||"user",profileImage:null}}catch(Z){console.error("Error fetching connection user data:",Z),I.connectedUser={id:I.fromId,name:"Error Loading User",role:I.fromRole||"user",profileImage:null}}D.push(I)}console.log("Loaded connections:",D),f(D),g(!1)},N=>{console.error("Error fetching connections:",N),b(N.message),g(!1)});return()=>{S(),P(),C()}},[r]),{incomingRequests:t,outgoingRequests:a,connections:d,loading:p,error:v,sendRequest:T,acceptRequest:M,rejectRequest:V,cancelRequest:R,getConnectionStatus:L,getRequestButtonText:E}},c0=({targetUser:r})=>{const{userProfile:e}=dt(),{sendRequest:t,acceptRequest:s,rejectRequest:a,cancelRequest:c,getConnectionStatus:d,getRequestButtonText:f}=z_(),[p,g]=A.useState(null),[v,b]=A.useState(!0),[E,T]=A.useState(""),[M,V]=A.useState(!1);if(A.useEffect(()=>{(async()=>{if(!(r!=null&&r.id)||!e){b(!1);return}try{const P=await d(r.id);g(P)}catch(P){console.error("Error fetching connection status:",P)}finally{b(!1)}})()},[r==null?void 0:r.id,e,d]),v)return l.jsxs("button",{className:"bg-gray-200 text-gray-400 px-4 py-2 rounded-md font-medium text-sm flex items-center gap-1",disabled:!0,children:[l.jsxs("svg",{className:"animate-spin h-4 w-4 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading"]});if((r==null?void 0:r.id)===(e==null?void 0:e.uid))return null;const R=async()=>{if(M)try{await t(r.id,r.role,E),ct.success("Request sent successfully!"),V(!1),T("");const F=await d(r.id);g(F)}catch(F){ct.error(F.message||"Failed to send request")}else V(!0)},L=async()=>{try{await c(p.id),ct.success("Request cancelled"),g(null)}catch{ct.error("Failed to cancel request")}},O=async()=>{try{await s(p.id),ct.success("Request accepted");const F=await d(r.id);g(F)}catch{ct.error("Failed to accept request")}},S=async()=>{try{await a(p.id),ct.success("Request rejected");const F=await d(r.id);g(F)}catch{ct.error("Failed to reject request")}};if(!p){const F=f(e==null?void 0:e.role,r==null?void 0:r.role);return M?l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("textarea",{placeholder:"Add a message (optional)",className:"w-full p-2 border border-gray-300 rounded-md text-sm",value:E,onChange:P=>T(P.target.value),rows:2}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:R,className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700 text-sm",children:"Send"}),l.jsx("button",{onClick:()=>V(!1),className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-300 text-sm",children:"Cancel"})]})]}):l.jsxs("button",{onClick:R,className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700 text-sm flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),F]})}return p.status==="pending"?p.isIncoming?l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:O,className:"bg-green-600 text-white px-4 py-2 rounded-md font-medium hover:bg-green-700 text-sm",children:"Accept"}),l.jsx("button",{onClick:S,className:"bg-red-600 text-white px-4 py-2 rounded-md font-medium hover:bg-red-700 text-sm",children:"Reject"})]}):l.jsxs("button",{onClick:L,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-300 text-sm flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel Request"]}):p.status==="accepted"?l.jsxs("button",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-md font-medium text-sm flex items-center gap-1",disabled:!0,children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Connected"]}):p.status==="rejected"?l.jsxs("button",{onClick:R,className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700 text-sm flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),"Request Again"]}):null},u0=({otherUserId:r,otherUserName:e,otherUserPhoto:t,onClose:s})=>{const{currentUser:a}=dt(),[c,d]=A.useState(""),f=A.useRef(null),p=A.useRef(null),{unreadMessagesCount:g}=s0(),{messages:v,chatLoading:b,chatError:E,sendMessage:T,markMessagesAsRead:M}=R_(r),V=()=>{var O;(O=f.current)==null||O.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{V()},[v]),A.useEffect(()=>{var O;(O=p.current)==null||O.focus()},[]),A.useEffect(()=>{!b&&v.length>0&&M()},[b,v,M]);const R=O=>{if(!O)return"";try{return o0(new Date(O),{addSuffix:!0})}catch{return""}},L=async O=>{var S;if(O.preventDefault(),!!c.trim())try{await T(c),d(""),(S=p.current)==null||S.focus()}catch(F){console.error("Error sending message:",F)}};return l.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg shadow-lg overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between bg-indigo-600 text-white px-4 py-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-300 flex-shrink-0 overflow-hidden",children:t?l.jsx("img",{src:t,alt:e,className:"h-full w-full object-cover"}):l.jsx("div",{className:"h-full w-full flex items-center justify-center font-bold text-indigo-700",children:(e==null?void 0:e.charAt(0))||"?"})}),l.jsx("div",{className:"ml-3",children:l.jsx("h3",{className:"font-medium",children:e||"User"})})]}),l.jsx("button",{onClick:s,className:"text-white hover:text-indigo-100",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"flex-1 p-4 overflow-y-auto bg-gray-50",children:b?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):E?l.jsx("div",{className:"text-center py-4 text-red-600",children:E}):v.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:l.jsx("p",{children:"No messages yet. Start the conversation!"})}):l.jsxs("div",{className:"space-y-4",children:[v.map(O=>{const S=O.senderId===(a==null?void 0:a.uid);return l.jsx("div",{className:`flex ${S?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${S?"bg-indigo-600 text-white":"bg-gray-200 text-gray-800"}`,children:[l.jsx("div",{className:"break-words",children:O.content}),l.jsx("div",{className:`text-xs mt-1 ${S?"text-indigo-200":"text-gray-500"}`,children:R(O.timestamp)})]})},O.id)}),l.jsx("div",{ref:f})]})}),l.jsx("form",{onSubmit:L,className:"border-t border-gray-200 p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"text",ref:p,value:c,onChange:O=>d(O.target.value),placeholder:"Type your message...",className:"flex-1 border border-gray-300 rounded-l-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),l.jsx("button",{type:"submit",disabled:!c.trim(),className:"bg-indigo-600 text-white rounded-r-lg px-4 py-2 font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})]})})]})},d0=({otherUserId:r,otherUserName:e,otherUserPhoto:t,buttonText:s="Chat"})=>{const[a,c]=A.useState(!1),{currentUser:d}=dt();if((d==null?void 0:d.uid)===r)return null;const f=()=>{c(p=>!p)};return l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:f,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[l.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),s]}),a&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center p-4 bg-black bg-opacity-50",children:l.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:l.jsx("div",{className:"h-[80vh]",children:l.jsx(u0,{otherUserId:r,otherUserName:e,otherUserPhoto:t,onClose:f})})})})]})},Qp=({user:r,isOwnProfile:e=!1})=>{const{name:t="",email:s="",bio:a="",skills:c=[],interests:d=[],experienceLevel:f="beginner",learningGoals:p=[],projects:g=[],mentorshipNeeded:v=!1,collaboratingOn:b="",profileImage:E=null,uid:T}=r||{},M={beginner:"bg-emerald-100 text-emerald-800",intermediate:"bg-blue-100 text-blue-800",advanced:"bg-purple-100 text-purple-800"};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex gap-4 items-start",children:[E?l.jsx("img",{src:E,alt:t,className:"w-20 h-20 rounded-full object-cover border-2 border-gray-100"}):l.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 text-xl font-bold border-2 border-gray-100",children:t?t.charAt(0).toUpperCase():"L"}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[t,v&&l.jsxs("span",{className:"bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-1 rounded-full flex items-center",children:[l.jsx("svg",{className:"w-3.5 h-3.5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Seeking Mentorship"]})]}),l.jsx("div",{className:"mt-1 flex items-center gap-2",children:l.jsx("span",{className:`text-sm font-medium px-2.5 py-0.5 rounded-full ${M[f]}`,children:f.charAt(0).toUpperCase()+f.slice(1)})}),l.jsx("p",{className:"mt-2 text-gray-600",children:a}),l.jsx("div",{className:"mt-3 text-sm text-gray-500",children:s&&l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),s]})})]})]}),!e&&l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(c0,{targetUser:{id:r.uid,name:t,role:"learner",profileImage:E}}),l.jsx(d0,{otherUserId:r.uid,otherUserName:t,otherUserPhoto:E,buttonText:"Message Learner"})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Skills"}),c.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((V,R)=>l.jsx("span",{className:"bg-indigo-50 text-indigo-700 px-3 py-1 rounded-full text-sm font-medium",children:typeof V=="string"?V:V.name},R))}):l.jsx("p",{className:"text-gray-500 text-sm",children:"No skills added yet."}),l.jsx("h2",{className:"text-lg font-semibold text-gray-800 mt-6 mb-4",children:"Interests"}),d.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((V,R)=>l.jsx("span",{className:"bg-purple-50 text-purple-700 px-3 py-1 rounded-full text-sm font-medium",children:typeof V=="string"?V:V.name},R))}):l.jsx("p",{className:"text-gray-500 text-sm",children:"No interests added yet."})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Learning Goals"}),p.length>0?l.jsx("ul",{className:"space-y-2",children:p.map((V,R)=>l.jsxs("li",{className:"flex items-start",children:[l.jsx("svg",{className:"w-5 h-5 text-indigo-600 mr-2 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{children:V})]},R))}):l.jsxs("div",{className:"text-center py-6",children:[l.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),l.jsx("p",{className:"mt-2 text-gray-500",children:"No learning goals set yet."})]}),b&&l.jsxs("div",{className:"mt-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Currently Collaborating On"}),l.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-lg",children:l.jsx("p",{className:"text-indigo-700",children:b})})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Projects"}),l.jsxs(De,{to:"/projects",className:"text-sm text-indigo-600 hover:text-indigo-800 hover:underline flex items-center gap-1",children:["View All",l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),g.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.slice(0,4).map((V,R)=>l.jsxs("div",{className:"border rounded-lg p-4 hover:border-indigo-300 transition-colors",children:[l.jsx("h3",{className:"font-medium text-gray-800 mb-1",children:V.name||V.title}),l.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:V.description}),V.technologies&&l.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[V.technologies.slice(0,3).map((L,O)=>l.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-0.5 rounded",children:L},O)),V.technologies.length>3&&l.jsxs("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-0.5 rounded",children:["+",V.technologies.length-3," more"]})]})]},R))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),l.jsx("p",{className:"mt-2 text-gray-500",children:"No projects added yet."}),l.jsx("button",{className:"mt-3 text-indigo-600 text-sm font-medium hover:text-indigo-800",children:"Add your first project"})]})]}),v&&l.jsxs("div",{className:"bg-gradient-to-r from-indigo-700 to-purple-700 rounded-lg shadow-md p-6 text-white overflow-hidden relative",children:[l.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] [mask-image:linear-gradient(0deg,transparent,white)]","aria-hidden":"true"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("h2",{className:"text-xl font-bold mb-2",children:"Looking for a Mentor"}),l.jsx("p",{className:"text-indigo-100 mb-4",children:"I'm currently seeking mentorship to accelerate my learning journey."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{className:"bg-white text-indigo-700 px-4 py-2 rounded-md font-medium hover:bg-indigo-50 transition-colors flex items-center gap-2 shadow-sm",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Offer Mentorship"]}),l.jsxs("button",{className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-500 transition-colors flex items-center gap-2 border border-indigo-500 shadow-sm",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),"Send Message"]})]})]})]})]})},f6=({onSave:r,onCancel:e,existingTopics:t=[]})=>{const[s,a]=A.useState(t),[c,d]=A.useState(""),[f,p]=A.useState(""),g=["Frontend Development","Backend Development","Full Stack Development","UI/UX Design","Data Science","Machine Learning","DevOps","Cloud Computing","Mobile Development","Cybersecurity","Blockchain","Career Advice","Interview Preparation","System Design","Algorithms","JavaScript","Python","React","Node.js","Swift","Kotlin","Java","C#",".NET","AWS","Azure","Google Cloud","Docker","Kubernetes"],v=V=>{if(s.includes(V)){p(`"${V}" is already in your topics`);return}if(s.length>=10){p("Maximum 10 topics allowed");return}a([...s,V]),p("")},b=V=>{if(V.preventDefault(),!c.trim()){p("Topic cannot be empty");return}if(s.includes(c.trim())){p(`"${c.trim()}" is already in your topics`);return}if(s.length>=10){p("Maximum 10 topics allowed");return}a([...s,c.trim()]),d(""),p("")},E=V=>{a(s.filter(R=>R!==V))},T=V=>{V.preventDefault(),r(s)},M=g.filter(V=>!s.includes(V));return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Mentoring Topics"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Add topics you can mentor others on. These topics will be visible on your profile and used to match you with learners."}),l.jsxs("form",{onSubmit:T,children:[l.jsxs("div",{className:"mb-5",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Mentoring Topics (",s.length,"/10)"]}),s.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((V,R)=>l.jsxs("div",{className:"bg-indigo-50 text-indigo-700 px-3 py-1 rounded-full flex items-center gap-1",children:[l.jsx("span",{children:V}),l.jsx("button",{type:"button",onClick:()=>E(V),className:"text-indigo-500 hover:text-indigo-700 focus:outline-none",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},R))}):l.jsx("p",{className:"text-gray-500 text-sm italic",children:"No topics added yet"})]}),f&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-md text-sm",children:f}),l.jsxs("div",{className:"mb-5",children:[l.jsx("label",{htmlFor:"new-topic",className:"block text-sm font-medium text-gray-700 mb-1",children:"Add a Custom Topic"}),l.jsxs("div",{className:"flex",children:[l.jsx("input",{id:"new-topic",type:"text",value:c,onChange:V=>d(V.target.value),placeholder:"e.g. GraphQL, SEO, Testing",className:"flex-grow px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",disabled:s.length>=10}),l.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 bg-indigo-600 text-white rounded-r-md hover:bg-indigo-700 focus:outline-none disabled:bg-gray-400",disabled:s.length>=10,children:"Add"})]})]}),M.length>0&&s.length<10&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Suggestions"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:M.slice(0,12).map((V,R)=>l.jsxs("button",{type:"button",onClick:()=>v(V),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-sm transition-colors",children:["+ ",V]},R))})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-100",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md shadow-sm text-sm font-medium hover:bg-indigo-700",children:"Save Topics"})]})]})]})},m6=({onSave:r,onCancel:e,existingAvailability:t={}})=>{const s=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],c=(()=>{const S=[];for(let F=0;F<24;F++)for(let P=0;P<60;P+=30){const $=F.toString().padStart(2,"0"),C=P.toString().padStart(2,"0");S.push(`${$}:${C}`)}return S})(),d=["UTC","GMT","EST","CST","MST","PST","EDT","CDT","MDT","PDT","Asia/Kolkata","Europe/London","Europe/Paris","America/New_York","America/Chicago","America/Denver","America/Los_Angeles","Asia/Tokyo","Asia/Shanghai","Australia/Sydney"],f=()=>{const S={};return s.forEach(F=>{t!=null&&t.schedule&&t.schedule[F]?S[F]=t.schedule[F]:S[F]={isAvailable:!1,timeSlots:[{start:"09:00",end:"17:00"}]}}),{timezone:(t==null?void 0:t.timezone)||Intl.DateTimeFormat().resolvedOptions().timeZone,schedule:S}},[p,g]=A.useState(f),[v,b]=A.useState(""),E=S=>{g(F=>({...F,schedule:{...F.schedule,[S]:{...F.schedule[S],isAvailable:!F.schedule[S].isAvailable}}}))},T=S=>{if(p.schedule[S].timeSlots.length>=5){b(`Maximum 5 time slots allowed for ${S}`);return}g(P=>({...P,schedule:{...P.schedule,[S]:{...P.schedule[S],timeSlots:[...P.schedule[S].timeSlots,{start:"09:00",end:"17:00"}]}}})),b("")},M=(S,F)=>{const P=[...p.schedule[S].timeSlots];P.splice(F,1),g($=>({...$,schedule:{...$.schedule,[S]:{...$.schedule[S],timeSlots:P}}}))},V=(S,F,P,$)=>{const C=[...p.schedule[S].timeSlots];C[F]={...C[F],[P]:$},g(N=>({...N,schedule:{...N.schedule,[S]:{...N.schedule[S],timeSlots:C}}}))},R=S=>{g(F=>({...F,timezone:S}))},L=()=>{let S=!0;return s.forEach(F=>{p.schedule[F].isAvailable&&p.schedule[F].timeSlots.forEach(P=>{P.start>=P.end&&(S=!1,b(`Invalid time slot for ${F}: End time must be after start time`))})}),S},O=S=>{S.preventDefault(),L()&&r(p)};return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Set Your Availability"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Configure when you're available for mentorship sessions."}),l.jsxs("form",{onSubmit:O,children:[l.jsxs("div",{className:"mb-5",children:[l.jsx("label",{htmlFor:"timezone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Timezone"}),l.jsx("select",{id:"timezone",value:p.timezone,onChange:S=>R(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:d.map((S,F)=>l.jsx("option",{value:S,children:S},F))}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"All times below are in this timezone."})]}),v&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-md text-sm",children:v}),l.jsx("div",{className:"space-y-5",children:s.map(S=>l.jsxs("div",{className:"border border-gray-200 rounded-md p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{id:`available-${S}`,type:"checkbox",checked:p.schedule[S].isAvailable,onChange:()=>E(S),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:`available-${S}`,className:"text-gray-700 font-medium",children:S})]}),p.schedule[S].isAvailable&&l.jsxs("button",{type:"button",onClick:()=>T(S),className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center gap-1",disabled:p.schedule[S].timeSlots.length>=5,children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Time Slot"]})]}),p.schedule[S].isAvailable&&l.jsx("div",{className:"space-y-3 pl-6",children:p.schedule[S].timeSlots.map((F,P)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("select",{value:F.start,onChange:$=>V(S,P,"start",$.target.value),className:"px-3 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:c.map($=>l.jsx("option",{value:$,children:$},$))}),l.jsx("span",{className:"text-gray-500",children:"to"}),l.jsx("select",{value:F.end,onChange:$=>V(S,P,"end",$.target.value),className:"px-3 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:c.map($=>l.jsx("option",{value:$,children:$},$))}),l.jsx("button",{type:"button",onClick:()=>M(S,P),className:"text-red-600 hover:text-red-800 ml-1",disabled:p.schedule[S].timeSlots.length<=1,children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},P))})]},S))}),l.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-100",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md shadow-sm text-sm font-medium hover:bg-indigo-700",children:"Save Availability"})]})]})]})},B_=({user:r,isOwnProfile:e=!1})=>{const{updateUserProfile:t,currentUser:s}=dt(),[a,c]=A.useState(!1),[d,f]=A.useState(!1),[p,g]=A.useState(!1),[v,b]=A.useState(!1),[E,T]=A.useState((r==null?void 0:r.yearsOfExperience)||0),{name:M="",email:V="",bio:R="",skills:L=[],interests:O=[],mentoringIn:S=[],yearsOfExperience:F=0,availability:P={},pastMentorships:$=[],profileImage:C=null}=r||{},N=async ce=>{try{e&&s&&await t(s.uid,{mentoringIn:ce}),c(!1)}catch(Q){console.error("Error updating mentoring topics:",Q)}},D=async ce=>{try{const Q=[...r.skills||[]];Q.push(ce),e&&s&&await t(s.uid,{skills:Q}),f(!1)}catch(Q){console.error("Error updating skills:",Q)}},U=async ce=>{try{e&&s&&await t(s.uid,{availability:ce}),g(!1)}catch(Q){console.error("Error updating availability:",Q)}},q=async ce=>{ce.preventDefault();try{e&&s&&await t(s.uid,{yearsOfExperience:parseInt(E,10)||0}),b(!1)}catch(Q){console.error("Error updating experience:",Q)}},I=(()=>{if(!P||!P.schedule)return[];const ce=[];return Object.keys(P.schedule||{}).forEach(te=>{P.schedule[te].isAvailable&&P.schedule[te].timeSlots.forEach(de=>{ce.push(`${te}: ${de.start} - ${de.end}`)})}),ce})(),Z=(ce=0)=>{const Q=[];for(let te=0;te<5;te++)Q.push(l.jsx("svg",{className:`w-4 h-4 ${te<ce?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},te));return Q};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[l.jsxs("div",{className:"flex gap-4 items-start",children:[C?l.jsx("img",{src:C,alt:M,className:"w-20 h-20 rounded-full object-cover border-2 border-gray-100"}):l.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 text-xl font-bold border-2 border-gray-100",children:M?M.charAt(0).toUpperCase():"M"}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:M}),l.jsxs("span",{className:"bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-1 rounded-full flex items-center",children:[l.jsx("svg",{className:"w-3.5 h-3.5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Mentor"]})]}),v?l.jsxs("form",{onSubmit:q,className:"mt-1 flex items-center gap-2",children:[l.jsx("input",{type:"number",min:"0",max:"50",value:E,onChange:ce=>T(ce.target.value),className:"w-16 px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),l.jsx("span",{className:"text-sm text-gray-700",children:"years"}),l.jsx("button",{type:"submit",className:"text-indigo-600 hover:text-indigo-800 ml-1",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("button",{type:"button",onClick:()=>b(!1),className:"text-red-600 hover:text-red-800",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):l.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[l.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded-full",children:F>0?`${F} ${F===1?"year":"years"} experience`:"New mentor"}),e&&l.jsx("button",{onClick:()=>b(!0),className:"text-indigo-600 hover:text-indigo-800",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),l.jsx("p",{className:"mt-2 text-gray-600",children:R}),l.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[V&&l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),V]}),P&&P.timezone&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Timezone: ",P.timezone]})]})]})]}),l.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:e?l.jsxs("button",{className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700 text-sm flex-1 md:flex-none flex items-center justify-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Edit Profile"]}):l.jsxs(l.Fragment,{children:[l.jsxs("button",{className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700 text-sm flex-1 md:flex-none flex items-center justify-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),"Request Mentorship"]}),l.jsxs("button",{className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-50 text-sm flex-1 md:flex-none flex items-center justify-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),"Save Profile"]})]})})]})}),a&&e&&l.jsx("div",{className:"mb-4",children:l.jsx(f6,{onSave:N,onCancel:()=>c(!1),existingTopics:S})}),d&&e&&l.jsx("div",{className:"mb-4",children:l.jsx(L_,{onSave:D,onCancel:()=>f(!1)})}),p&&e&&l.jsx("div",{className:"mb-4",children:l.jsx(m6,{onSave:U,onCancel:()=>g(!1),existingAvailability:P})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Mentoring In"}),e&&!a&&l.jsx("button",{onClick:()=>c(!0),className:"text-indigo-600 hover:text-indigo-800 text-sm flex items-center gap-1",children:S.length>0?l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Edit"]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add"]})})]}),S.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:S.map((ce,Q)=>l.jsx("span",{className:"bg-indigo-50 text-indigo-700 px-3 py-1 rounded-full text-sm font-medium",children:typeof ce=="string"?ce:ce.name},Q))}):l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[l.jsx("p",{className:"text-gray-500",children:e?"Add topics you want to mentor in":"No mentoring topics specified yet."}),e&&l.jsx("button",{onClick:()=>c(!0),className:"mt-2 text-indigo-600 hover:text-indigo-800 font-medium text-sm",children:"+ Add mentoring topics"})]}),l.jsxs("div",{className:"flex justify-between items-center mb-4 mt-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Skills"}),e&&!d&&l.jsxs("button",{onClick:()=>f(!0),className:"text-indigo-600 hover:text-indigo-800 text-sm flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add"]})]}),L.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:L.map((ce,Q)=>l.jsxs("span",{className:"bg-purple-50 text-purple-700 px-3 py-1 rounded-full text-sm font-medium",children:[typeof ce=="string"?ce:ce.name,ce.level&&` • ${ce.level}`,ce.years>0&&` • ${ce.years} ${ce.years===1?"year":"years"}`]},Q))}):l.jsx("p",{className:"text-gray-500 text-sm",children:e?"Add skills to showcase your expertise":"No skills added yet."})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Availability"}),e&&!p&&l.jsx("button",{onClick:()=>g(!0),className:"text-indigo-600 hover:text-indigo-800 text-sm flex items-center gap-1",children:I.length>0?l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Edit"]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add"]})})]}),I.length>0?l.jsxs("div",{className:"space-y-3",children:[I.map((ce,Q)=>l.jsxs("div",{className:"flex items-center rounded-lg p-3 bg-indigo-50",children:[l.jsx("svg",{className:"w-5 h-5 text-indigo-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-indigo-700",children:ce})]},Q)),(P==null?void 0:P.timezone)&&l.jsxs("div",{className:"mt-2 text-sm text-gray-500 italic",children:["All times in ",P.timezone," timezone"]})]}):l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[l.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-300 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-gray-500",children:"Availability information not provided."}),e?l.jsx("button",{onClick:()=>g(!0),className:"mt-2 text-indigo-600 hover:text-indigo-800 font-medium text-sm",children:"+ Add your availability"}):l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Please contact the mentor directly."})]}),l.jsx("div",{className:"mt-6",children:l.jsxs("button",{className:"w-full bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700 text-sm flex items-center justify-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Schedule a Session"]})})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Past Mentorships & Feedback"}),$.length>0?l.jsx("div",{className:"space-y-6",children:$.map((ce,Q)=>l.jsxs("div",{className:"border-b pb-6 last:border-b-0 last:pb-0",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-800",children:ce.menteeName}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:ce.period||"Duration not specified"})]}),l.jsx("div",{className:"flex",children:Z(ce.rating||5)})]}),l.jsxs("p",{className:"mt-3 text-gray-700 italic",children:['"',ce.feedback||"No feedback provided.",'"']})]},Q))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),l.jsx("p",{className:"mt-2 text-gray-500",children:"No past mentorships yet."}),l.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Be the first to work with this mentor!"})]})]}),!e&&l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(c0,{targetUser:{id:r.uid,name:M,role:"mentor",profileImage:C}}),l.jsx(d0,{otherUserId:r.uid,otherUserName:M,otherUserPhoto:C,buttonText:"Message Mentor"})]})]})},p6=({onSave:r,onCancel:e,existingRole:t=null})=>{const[s,a]=A.useState({roleTitle:(t==null?void 0:t.roleTitle)||"",description:(t==null?void 0:t.description)||"",techStack:t!=null&&t.techStack?t.techStack.join(", "):"",location:(t==null?void 0:t.location)||""}),[c,d]=A.useState({}),f=v=>{const{name:b,value:E}=v.target;a({...s,[b]:E}),c[b]&&d({...c,[b]:""})},p=()=>{const v={};return s.roleTitle.trim()||(v.roleTitle="Job title is required"),s.description.trim()||(v.description="Description is required"),d(v),Object.keys(v).length===0},g=v=>{if(v.preventDefault(),p()){const b=s.techStack.split(",").map(E=>E.trim()).filter(E=>E.length>0);r({...s,techStack:b})}};return l.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:t?"Edit Job Opening":"Add New Job Opening"}),l.jsxs("form",{onSubmit:g,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"roleTitle",className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Title*"}),l.jsx("input",{type:"text",id:"roleTitle",name:"roleTitle",value:s.roleTitle,onChange:f,className:`w-full px-3 py-2 border ${c.roleTitle?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"e.g. Frontend Developer"}),c.roleTitle&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.roleTitle})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description*"}),l.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:f,rows:3,className:`w-full px-3 py-2 border ${c.description?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Describe the job role and responsibilities"}),c.description&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.description})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"techStack",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tech Stack (comma separated)"}),l.jsx("input",{type:"text",id:"techStack",name:"techStack",value:s.techStack,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. React, Node.js, MongoDB"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),l.jsx("input",{type:"text",id:"location",name:"location",value:s.location,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. Remote, New York, NY"})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save"})]})]})]})},g6=({onSave:r,onCancel:e,existingTalentNeeds:t=[]})=>{const[s,a]=A.useState(t.join(", ")),[c,d]=A.useState(""),f=v=>{a(v.target.value),c&&d("")},p=()=>s.trim()?!0:(d("Please add at least one talent need"),!1),g=v=>{if(v.preventDefault(),p()){const b=s.split(",").map(E=>E.trim()).filter(E=>E.length>0);r(b)}};return l.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Specify Talent Needs"}),l.jsxs("form",{onSubmit:g,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"talentNeeds",className:"block text-sm font-medium text-gray-700 mb-1",children:"Talent Areas (comma separated)"}),l.jsx("textarea",{id:"talentNeeds",value:s,onChange:f,rows:3,className:`w-full px-3 py-2 border ${c?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"e.g. Frontend Development, React.js, UI/UX Design"}),c&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Add the skills, technologies, or roles you're currently recruiting for, separated by commas."})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save"})]})]})]})},F_=({user:r,isOwnProfile:e=!1})=>{const{updateUserProfile:t,currentUser:s}=dt(),[a,c]=A.useState(!1),[d,f]=A.useState(!1),[p,g]=A.useState(!1),[v,b]=A.useState(null),[E,T]=A.useState((r==null?void 0:r.isHiringNow)!==!1),[M,V]=A.useState({companyName:(r==null?void 0:r.companyName)||"",companyWebsite:(r==null?void 0:r.companyWebsite)||""}),{name:R="",email:L="",bio:O="",companyName:S="",recruitingFor:F=[],openRoles:P=[],companyWebsite:$="",profileImage:C=null}=r||{},N=async I=>{try{const Z=[...r.openRoles||[]];v!==null?Z[v]=I:Z.push(I),e&&s&&await t(s.uid,{openRoles:Z}),c(!1),b(null)}catch(Z){console.error("Error updating open roles:",Z)}},D=async I=>{try{const Z=[...r.openRoles||[]];Z.splice(I,1),e&&s&&await t(s.uid,{openRoles:Z})}catch(Z){console.error("Error deleting role:",Z)}},U=async I=>{try{e&&s&&await t(s.uid,{recruitingFor:I}),f(!1)}catch(Z){console.error("Error updating talent needs:",Z)}},q=async I=>{I.preventDefault();try{e&&s&&await t(s.uid,{companyName:M.companyName,companyWebsite:M.companyWebsite}),g(!1)}catch(Z){console.error("Error updating company info:",Z)}},z=async()=>{const I=!E;T(I);try{e&&s&&await t(s.uid,{isHiringNow:I})}catch(Z){console.error("Error updating hiring status:",Z)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[l.jsxs("div",{className:"flex gap-4 items-start",children:[C?l.jsx("img",{src:C,alt:R,className:"w-20 h-20 rounded-full object-cover border-2 border-gray-100"}):l.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 text-xl font-bold border-2 border-gray-100",children:R?R.charAt(0).toUpperCase():"R"}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:R}),l.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-1 rounded-full flex items-center w-fit",children:[l.jsx("svg",{className:"w-3.5 h-3.5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Recruiter"]})]}),p?l.jsxs("form",{onSubmit:q,className:"mt-2 space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700",children:"Company Name"}),l.jsx("input",{type:"text",id:"companyName",value:M.companyName,onChange:I=>V({...M,companyName:I.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"companyWebsite",className:"block text-sm font-medium text-gray-700",children:"Company Website"}),l.jsx("input",{type:"url",id:"companyWebsite",value:M.companyWebsite,onChange:I=>V({...M,companyWebsite:I.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"https://"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>g(!1),className:"bg-white border border-gray-300 text-gray-700 px-3 py-1 rounded-md text-sm",children:"Cancel"}),l.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-3 py-1 rounded-md text-sm",children:"Save"})]})]}):l.jsxs(l.Fragment,{children:[S&&l.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-800 font-medium",children:S}),e&&l.jsx("button",{onClick:()=>g(!0),className:"text-blue-600 hover:text-blue-800",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),l.jsx("p",{className:"mt-2 text-gray-600",children:O}),l.jsxs("div",{className:"mt-3 text-sm text-gray-500 flex flex-wrap gap-x-4 gap-y-2",children:[L&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),L]}),$&&l.jsxs("a",{href:$,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-blue-600 hover:text-blue-800",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),"Company Website"]}),!S&&e&&l.jsxs("button",{onClick:()=>g(!0),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Company Info"]})]})]})]})]}),l.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:e?l.jsx(l.Fragment,{children:l.jsx("div",{className:"flex items-center justify-between mt-2 md:mt-0",children:l.jsx("div",{className:"flex items-center",children:l.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"sr-only peer",checked:E,onChange:z}),l.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}),l.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:E?"Currently Hiring":"Not Actively Hiring"})]})})})}):l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(c0,{targetUser:{id:r.uid,name:R,role:"recruiter",profileImage:C}}),l.jsx(d0,{otherUserId:r.uid,otherUserName:R,otherUserPhoto:C,buttonText:"Message Recruiter"})]})})]})}),E&&l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg shadow-md p-6 text-white overflow-hidden relative",children:[l.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] [mask-image:linear-gradient(0deg,transparent,white)]","aria-hidden":"true"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("svg",{className:"w-6 h-6 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),l.jsx("h2",{className:"text-xl font-bold",children:"Hiring Now"}),e&&l.jsxs("button",{onClick:()=>f(!0),className:"ml-auto bg-blue-500 hover:bg-blue-400 text-white text-xs py-1 px-2 rounded-full flex items-center",children:[l.jsx("svg",{className:"w-3.5 h-3.5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Edit Needs"]})]}),l.jsxs("p",{className:"text-blue-100 mb-4",children:[S?`${S} is`:"Currently"," looking for talented individuals to join their team."]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[F.map((I,Z)=>l.jsx("span",{className:"inline-flex items-center bg-blue-700 border border-blue-500 text-white text-xs px-3 py-1 rounded-full",children:I},Z)),F.length===0&&l.jsx("span",{className:"inline-flex items-center bg-blue-700 border border-blue-500 text-white text-xs px-3 py-1 rounded-full",children:"Multiple Positions"})]})]})]}),d&&e&&l.jsx("div",{className:"mb-6",children:l.jsx(g6,{onSave:U,onCancel:()=>f(!1),existingTalentNeeds:F})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Open Roles"}),l.jsx("div",{className:"flex items-center gap-2",children:e&&l.jsxs("button",{onClick:()=>{b(null),c(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md text-sm flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Role"]})})]}),a&&e&&l.jsx("div",{className:"mb-6",children:l.jsx(p6,{onSave:N,onCancel:()=>{c(!1),b(null)},existingRole:v!==null?P[v]:null})}),!a&&(P.length>0?l.jsx("div",{className:"space-y-4",children:P.map((I,Z)=>l.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow relative",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("h3",{className:"font-medium text-gray-800",children:I.roleTitle}),l.jsxs("div",{className:"flex items-center gap-1",children:[e&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{b(Z),c(!0)},className:"text-blue-600 hover:text-blue-800 p-1 rounded-full hover:bg-blue-50",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),l.jsx("button",{onClick:()=>D(Z),className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),l.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1 rounded-full hover:bg-blue-50",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})})]})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:I.description}),I.techStack&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:I.techStack.map((ce,Q)=>l.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-0.5 rounded",children:ce},Q))}),l.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-500",children:I.location||"Remote"}),!e&&l.jsx("button",{className:"bg-blue-600 text-white text-sm px-3 py-1 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Apply Now"})]})]},Z))}):l.jsxs("div",{className:"text-center py-10",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),l.jsx("p",{className:"mt-2 text-gray-500",children:"No open roles listed at the moment."}),e?l.jsx("button",{onClick:()=>c(!0),className:"mt-3 text-blue-600 hover:text-blue-800 font-medium text-sm",children:"+ Add your first job listing"}):l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Check back later or contact the recruiter directly."})]}))]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Looking For Talent In"}),e&&!d&&l.jsx("button",{onClick:()=>f(!0),className:"text-blue-600 hover:text-blue-800 text-sm flex items-center gap-1",children:F.length>0?l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Edit"]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add"]})})]}),F.length>0?l.jsx("div",{className:"space-y-2",children:F.map((I,Z)=>l.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 text-blue-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),l.jsx("span",{className:"text-gray-700",children:I})]},Z))}):l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[l.jsx("p",{className:"text-gray-500",children:"No specific talent needs specified."}),e?l.jsx("button",{onClick:()=>f(!0),className:"mt-2 text-blue-600 hover:text-blue-800 font-medium text-sm",children:"+ Add talent needs"}):l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Contact the recruiter for more information."})]})]}),!e&&l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-100",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Ready to take the next step in your career?"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Upload your portfolio and share your skills to get noticed by recruiters."})]}),l.jsxs("button",{className:"whitespace-nowrap bg-blue-600 text-white px-4 py-2 rounded-md font-medium hover:bg-blue-700 text-sm flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Update Your Portfolio"]})]})})]})},y6=({user:r})=>{var a;const{currentUser:e}=dt();if(!r)return null;const t=e&&e.uid===r.uid;switch(((a=r.role)==null?void 0:a.toLowerCase())||"learner"){case"mentor":return l.jsx(B_,{user:r,isOwnProfile:t});case"recruiter":return l.jsx(F_,{user:r,isOwnProfile:t});case"learner":default:return l.jsx(Qp,{user:r,isOwnProfile:t})}},Mw=()=>{const[r,e]=A.useState("skills"),[t,s]=A.useState(!1),[a,c]=A.useState(!1),[d,f]=A.useState({name:"",title:"",bio:"",location:"",website:""}),[p,g]=A.useState(!1),[v,b]=A.useState(!1),[E,T]=A.useState(!1),[M,V]=A.useState(!1),[R,L]=A.useState(null),[O,S]=A.useState(null),[F,P]=A.useState(!1),[$,C]=A.useState(null),{currentUser:N,userProfile:D,updateUserProfile:U,isAuthenticated:q}=dt(),z=Fr(),{userId:I}=tT(),Z=I&&I!==(N==null?void 0:N.uid),{profile:ce,loading:Q}=HI(I);A.useEffect(()=>{!q&&!N&&z("/login")},[q,N,z]),A.useEffect(()=>{D&&!Z&&f({name:D.name||"",title:D.title||"",bio:D.bio||"",location:D.location||"",website:D.website||""})},[D,Z]),A.useEffect(()=>{g(!1),b(!1),T(!1),V(!1),L(null)},[r]);const te=pe=>{const{name:ve,value:ke}=pe.target;f(Gr=>({...Gr,[ve]:ke}))},de=async pe=>{pe.preventDefault();try{await U(N.uid,d),s(!1)}catch(ve){console.error("Error updating profile:",ve)}},Ee=pe=>{console.log("Profile image updated:",pe)},H=async pe=>{try{const ve=D.skills||[];if(R!==null){const ke=[...ve];ke[R]=pe,await U(N.uid,{skills:ke})}else{const ke=[...ve,pe];await U(N.uid,{skills:ke})}g(!1),L(null)}catch(ve){console.error("Error updating skills:",ve)}},ae=pe=>{L(pe),g(!0)},fe=async pe=>{try{const ve=[...D.skills||[]];ve.splice(pe,1),await U(N.uid,{skills:ve})}catch(ve){console.error("Error deleting skill:",ve)}},ue=async pe=>{try{const ve=D.experience||[];if(R!==null){const ke=[...ve];ke[R]=pe,await U(N.uid,{experience:ke})}else{const ke=[...ve,pe];await U(N.uid,{experience:ke})}b(!1),L(null)}catch(ve){console.error("Error updating experience:",ve)}},we=async pe=>{try{const ve=D.projects||[];if(R!==null){const ke=[...ve];ke[R]=pe,await U(N.uid,{projects:ke})}else{const ke=[...ve,pe];await U(N.uid,{projects:ke})}T(!1),L(null)}catch(ve){console.error("Error updating project:",ve)}},Le=async pe=>{try{const ve=D.education||[];if(R!==null){const ke=[...ve];ke[R]=pe,await U(N.uid,{education:ke})}else{const ke=[...ve,pe];await U(N.uid,{education:ke})}V(!1),L(null)}catch(ve){console.error("Error updating education:",ve)}},je=()=>l.jsxs("form",{onSubmit:de,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),l.jsx("input",{type:"text",id:"name",name:"name",value:d.name,onChange:te,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Professional Title"}),l.jsx("input",{type:"text",id:"title",name:"title",value:d.title,onChange:te,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g. Frontend Developer"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),l.jsx("textarea",{id:"bio",name:"bio",rows:3,value:d.bio,onChange:te,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Tell us about yourself"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),l.jsx("input",{type:"text",id:"location",name:"location",value:d.location,onChange:te,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g. San Francisco, CA"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700",children:"Website"}),l.jsx("input",{type:"url",id:"website",name:"website",value:d.website,onChange:te,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g. https://yourwebsite.com"})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:()=>s(!1),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700",children:"Save Changes"})]})]}),At=()=>{var ke;if(!ce)return null;const pe=(ke=ce.role)==null?void 0:ke.toLowerCase(),ve=!Z;switch(pe){case"mentor":return l.jsx(B_,{user:ce,isOwnProfile:ve});case"learner":case"member":return l.jsx(Qp,{user:ce,isOwnProfile:ve});case"recruiter":return l.jsx(F_,{user:ce,isOwnProfile:ve});default:return l.jsx(Qp,{user:ce,isOwnProfile:ve})}};if(A.useEffect(()=>{!N&&!Q&&z("/login")},[N,Q,z]),Z){if(Q)return l.jsxs("div",{className:"flex justify-center items-center h-screen",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading profile..."})]});if($)return l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 text-red-700",children:$})});if(ce)return l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:At()})}if(!D||!N)return l.jsx("div",{className:"max-w-4xl mx-auto flex items-center justify-center min-h-[50vh]",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),l.jsx("p",{className:"mt-3 text-gray-600",children:"Loading profile..."})]})});const Ze=D.name||N.displayName||"User";Ze.split(" ").map(pe=>pe[0]).join("");const Pn=D.title||"SkillSync Member",mr=D.bio||"No bio provided yet. Edit your profile to add a bio.",Tn=D.skills||[],Jn=D.experience||[],er=D.projects||[],tr=D.education||[],Mi=[{id:"skills",label:"Skills & Expertise"},{id:"experience",label:"Experience"},{id:"projects",label:"Projects"},{id:"education",label:"Education"},{id:"preview",label:"Profile Preview"}];return l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(v5,{currentImage:D.profileImage,onImageUpdate:Ee})}),l.jsx("div",{className:"flex-1",children:t?je():l.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:Ze}),l.jsx("p",{className:"text-lg text-gray-600",children:Pn}),l.jsx("p",{className:"mt-2 text-gray-600",children:mr}),l.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[D.location&&l.jsxs("span",{className:"flex items-center text-sm text-gray-500",children:[l.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),D.location]}),l.jsxs("span",{className:"flex items-center text-sm text-gray-500",children:[l.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),N.email]}),D.website&&l.jsxs("a",{href:D.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm text-indigo-500 hover:text-indigo-700",children:[l.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),D.website]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>s(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700",children:"Edit Profile"}),l.jsx("button",{className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-50",children:"Share Profile"})]})]})})]})}),l.jsx("div",{className:"mb-6",children:l.jsx("div",{className:"border-b border-gray-200",children:l.jsx("nav",{className:"flex space-x-8 overflow-x-auto scrollbar-hide",children:Mi.map(pe=>l.jsx("button",{onClick:()=>{e(pe.id),pe.id==="preview"?c(!0):c(!1)},className:`py-4 px-1 text-sm font-medium border-b-2 whitespace-nowrap ${r===pe.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:pe.label},pe.id))})})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:r==="preview"?l.jsx(y6,{user:D}):l.jsxs(l.Fragment,{children:[r==="skills"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Skills & Expertise"}),l.jsx("button",{onClick:()=>{L(null),g(!0)},className:"text-sm bg-indigo-600 text-white px-3 py-1.5 rounded-md font-medium hover:bg-indigo-700",children:"Add New Skill"})]}),p&&l.jsx("div",{className:"mb-6",children:l.jsx(L_,{onSave:H,onCancel:()=>{g(!1),L(null)},existingSkill:R!==null?Tn[R]:null})}),!p&&Tn.length===0?l.jsxs("div",{className:"text-center py-8 border rounded-lg",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),l.jsx("p",{className:"mt-2 text-gray-500",children:"No skills added yet"}),l.jsx("button",{onClick:()=>g(!0),className:"mt-3 px-4 py-2 bg-indigo-500 text-white rounded-md text-sm font-medium hover:bg-indigo-600",children:"Add your first skill"})]}):!p&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Tn.map((pe,ve)=>l.jsxs("div",{className:"border rounded-lg p-4 relative group",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h3",{className:"font-medium text-gray-800",children:pe.name}),l.jsx("span",{className:"bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded",children:pe.level})]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[pe.years," years experience"]}),l.jsx("div",{className:"mt-2 h-2 bg-gray-200 rounded-full",children:l.jsx("div",{className:"h-2 bg-indigo-600 rounded-full",style:{width:pe.level==="Expert"?"90%":pe.level==="Advanced"?"75%":pe.level==="Intermediate"?"60%":"40%"}})}),l.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[l.jsx("button",{onClick:()=>ae(ve),className:"p-1.5 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200",children:l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),l.jsx("button",{onClick:()=>fe(ve),className:"p-1.5 bg-red-100 text-red-700 rounded-md hover:bg-red-200",children:l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},ve))})]}),r==="experience"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Work Experience"}),l.jsx("button",{onClick:()=>{L(null),b(!0)},className:"text-sm bg-indigo-600 text-white px-3 py-1.5 rounded-md font-medium hover:bg-indigo-700",children:"Add Experience"})]}),v&&l.jsx("div",{className:"mb-6",children:l.jsx(x5,{onSave:ue,onCancel:()=>{b(!1),L(null)},existingExperience:R!==null?Jn[R]:null})}),!v&&Jn.length===0?l.jsxs("div",{className:"text-center py-8 border rounded-lg",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),l.jsx("p",{className:"mt-2 text-gray-500",children:"No work experience added yet"}),l.jsx("button",{onClick:()=>b(!0),className:"mt-3 px-4 py-2 bg-indigo-500 text-white rounded-md text-sm font-medium hover:bg-indigo-600",children:"Add your work experience"})]}):!v&&l.jsx("div",{className:"space-y-6",children:Jn.map((pe,ve)=>l.jsxs("div",{className:"border-b pb-6 last:border-b-0 last:pb-0 relative group",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("h3",{className:"font-medium text-gray-800",children:pe.title}),l.jsx("span",{className:"text-sm text-gray-500",children:pe.duration})]}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[pe.company," ",pe.location&&`• ${pe.location}`]}),l.jsx("p",{className:"mt-2 text-gray-700",children:pe.description}),l.jsxs("div",{className:"absolute top-0 right-0 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[l.jsx("button",{onClick:()=>{L(ve),b(!0)},className:"p-1.5 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200",children:l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),l.jsx("button",{onClick:async()=>{try{const ke=[...D.experience||[]];ke.splice(ve,1),await U(N.uid,{experience:ke})}catch(ke){console.error("Error deleting experience:",ke)}},className:"p-1.5 bg-red-100 text-red-700 rounded-md hover:bg-red-200",children:l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},ve))})]}),r==="projects"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Projects"}),l.jsx("button",{onClick:()=>{L(null),T(!0)},className:"text-sm bg-indigo-600 text-white px-3 py-1.5 rounded-md font-medium hover:bg-indigo-700",children:"Add Project"})]}),E&&l.jsx("div",{className:"mb-6",children:l.jsx(b5,{onSave:we,onCancel:()=>{T(!1),L(null)},existingProject:R!==null?er[R]:null})}),!E&&er.length===0?l.jsxs("div",{className:"text-center py-8 border rounded-lg",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),l.jsx("p",{className:"mt-2 text-gray-500",children:"No projects added yet"}),l.jsx("button",{onClick:()=>T(!0),className:"mt-3 px-4 py-2 bg-indigo-500 text-white rounded-md text-sm font-medium hover:bg-indigo-600",children:"Add your first project"})]}):!E&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:er.map((pe,ve)=>l.jsxs("div",{className:"border rounded-lg p-4 relative group",children:[l.jsx("h3",{className:"font-medium text-gray-800",children:pe.name}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Role: ",pe.role]}),l.jsx("p",{className:"mt-2 text-sm text-gray-700",children:pe.description}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:pe.technologies&&pe.technologies.map((ke,Gr)=>l.jsx("span",{className:"bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded",children:ke},Gr))}),l.jsxs("div",{className:"mt-3 flex gap-3",children:[pe.githubLink&&l.jsxs("a",{href:pe.githubLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-xs text-indigo-500 hover:text-indigo-700",children:[l.jsx("svg",{className:"w-3.5 h-3.5 mr-1",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"GitHub"]}),pe.liveLink&&l.jsxs("a",{href:pe.liveLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-xs text-indigo-500 hover:text-indigo-700",children:[l.jsx("svg",{className:"w-3.5 h-3.5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Live Demo"]})]}),l.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[l.jsx("button",{onClick:()=>{L(ve),T(!0)},className:"p-1.5 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200",children:l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),l.jsx("button",{onClick:async()=>{try{const ke=[...D.projects||[]];ke.splice(ve,1),await U(N.uid,{projects:ke})}catch(ke){console.error("Error deleting project:",ke)}},className:"p-1.5 bg-red-100 text-red-700 rounded-md hover:bg-red-200",children:l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},ve))})]}),r==="education"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Education"}),l.jsx("button",{onClick:()=>{L(null),V(!0)},className:"text-sm bg-indigo-600 text-white px-3 py-1.5 rounded-md font-medium hover:bg-indigo-700",children:"Add Education"})]}),M&&l.jsx("div",{className:"mb-6",children:l.jsx(w5,{onSave:Le,onCancel:()=>{V(!1),L(null)},existingEducation:R!==null?tr[R]:null})}),!M&&tr.length===0?l.jsxs("div",{className:"text-center py-8 border rounded-lg",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"})}),l.jsx("p",{className:"mt-2 text-gray-500",children:"No education history added yet"}),l.jsx("button",{onClick:()=>V(!0),className:"mt-3 px-4 py-2 bg-indigo-500 text-white rounded-md text-sm font-medium hover:bg-indigo-600",children:"Add your education"})]}):!M&&l.jsx("div",{className:"space-y-6",children:tr.map((pe,ve)=>l.jsxs("div",{className:"border-b pb-6 last:border-b-0 last:pb-0 relative group",children:[l.jsx("h3",{className:"font-medium text-gray-800",children:pe.degree}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:pe.institution}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[pe.field&&l.jsxs("span",{children:[pe.field," • "]}),"Graduated: ",pe.year]}),pe.description&&l.jsx("p",{className:"mt-2 text-sm text-gray-700",children:pe.description}),l.jsxs("div",{className:"absolute top-0 right-0 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[l.jsx("button",{onClick:()=>{L(ve),V(!0)},className:"p-1.5 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200",children:l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),l.jsx("button",{onClick:async()=>{try{const ke=[...D.education||[]];ke.splice(ve,1),await U(N.uid,{education:ke})}catch(ke){console.error("Error deleting education:",ke)}},className:"p-1.5 bg-red-100 text-red-700 rounded-md hover:bg-red-200",children:l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},ve))})]})]})})]})},v6=()=>{const[r,e]=A.useState(""),[t,s]=A.useState("all"),[a,c]=A.useState(!1),[d,f]=A.useState(!1),[p,g]=A.useState(""),v=Fr(),[b,E]=A.useState({title:"",description:"",category:"Education",skills:[],skillInput:"",lookingFor:[],roleInput:"",status:"Planning"}),{currentUser:T,userProfile:M}=dt(),{projects:V,loading:R}=D_(null,20),{projects:L,loading:O}=qI(r),S=r?L:V;A.useEffect(()=>{f(R||O)},[R,O]);const F=["Education","Career","Mentorship","Research","Technology","Other"],P=["Planning","Active","Completed"],$=S.filter(Z=>{var ce,Q;return t==="all"?!0:((ce=Z.category)==null?void 0:ce.toLowerCase())===t.toLowerCase()||((Q=Z.status)==null?void 0:Q.toLowerCase())===t.toLowerCase()}),C=()=>{b.skillInput.trim()&&!b.skills.includes(b.skillInput.trim())&&E({...b,skills:[...b.skills,b.skillInput.trim()],skillInput:""})},N=Z=>{E({...b,skills:b.skills.filter(ce=>ce!==Z)})},D=()=>{b.roleInput.trim()&&!b.lookingFor.includes(b.roleInput.trim())&&E({...b,lookingFor:[...b.lookingFor,b.roleInput.trim()],roleInput:""})},U=Z=>{E({...b,lookingFor:b.lookingFor.filter(ce=>ce!==Z)})},q=async Z=>{if(Z.preventDefault(),!T){v("/login");return}try{f(!0);const ce={title:b.title,description:b.description,category:b.category,technologies:b.skills,lookingFor:b.lookingFor,status:b.status,creatorId:T.uid,createdAt:jt.now(),updatedAt:jt.now(),members:[T.uid],teamSize:1},Q=await ji(at(xe,"projects"),ce);M.projects?await On(Qe(xe,"users",T.uid),{projects:ap(Q.id)}):await On(Qe(xe,"users",T.uid),{projects:[Q.id]}),E({title:"",description:"",category:"Education",skills:[],skillInput:"",lookingFor:[],roleInput:"",status:"Planning"}),c(!1),g("Project created successfully!"),setTimeout(()=>{g("")},3e3)}catch(ce){console.error("Error creating project:",ce)}finally{f(!1)}},z=async Z=>{var ce;if(!T){v("/login");return}try{f(!0);const Q=Qe(xe,"projects",Z),te=await cn(Q);if(!te.exists())throw new Error("Project not found");const de=te.data(),Ee=de.creatorId;if(await On(Q,{members:ap(T.uid),teamSize:((ce=V.find(H=>H.id===Z))==null?void 0:ce.teamSize)+1||1}),await On(Qe(xe,"users",T.uid),{projects:ap(Z)}),Ee&&Ee!==T.uid){const H=await cn(Qe(xe,"users",T.uid));if(H.exists()){const ae=H.data();await ji(at(xe,"notifications"),{userId:Ee,type:"project",title:"New project member",description:`${ae.name||"Someone"} has joined your project "${de.name||de.title}"`,projectId:Z,memberId:T.uid,memberName:ae.name,memberProfileImage:ae.profileImage,projectTitle:de.name||de.title,isRead:!1,createdAt:Nn()})}}g("You have successfully joined the project!"),setTimeout(()=>{g("")},3e3)}catch(Q){console.error("Error joining project:",Q)}finally{f(!1)}},I=Z=>{var ce;return(ce=Z.members)==null?void 0:ce.includes(T==null?void 0:T.uid)};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Projects"}),l.jsxs("button",{onClick:()=>c(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700 flex items-center gap-1",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create Project"]})]}),p&&l.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-6 flex justify-between items-center",children:[l.jsx("span",{children:p}),l.jsx("button",{onClick:()=>g(""),className:"text-green-700",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Create New Project"}),l.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("form",{onSubmit:q,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title*"}),l.jsx("input",{type:"text",required:!0,value:b.title,onChange:Z=>E({...b,title:Z.target.value}),className:"w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter a clear title for your project"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description*"}),l.jsx("textarea",{required:!0,value:b.description,onChange:Z=>E({...b,description:Z.target.value}),rows:4,className:"w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe your project, its goals, and what you hope to achieve"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),l.jsx("select",{value:b.category,onChange:Z=>E({...b,category:Z.target.value}),className:"w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:F.map(Z=>l.jsx("option",{value:Z,children:Z},Z))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),l.jsx("select",{value:b.status,onChange:Z=>E({...b,status:Z.target.value}),className:"w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:P.map(Z=>l.jsx("option",{value:Z,children:Z},Z))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Technologies/Skills"}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",value:b.skillInput,onChange:Z=>E({...b,skillInput:Z.target.value}),className:"flex-1 border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Add technologies or skills needed",onKeyPress:Z=>Z.key==="Enter"&&(Z.preventDefault(),C())}),l.jsx("button",{type:"button",onClick:C,className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700",children:"Add"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:b.skills.map((Z,ce)=>l.jsxs("span",{className:"bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded flex items-center",children:[Z,l.jsx("button",{type:"button",onClick:()=>N(Z),className:"ml-1.5 text-indigo-600 hover:text-indigo-800",children:l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},ce))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Looking For (Roles Needed)"}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",value:b.roleInput,onChange:Z=>E({...b,roleInput:Z.target.value}),className:"flex-1 border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Add roles you're looking for",onKeyPress:Z=>Z.key==="Enter"&&(Z.preventDefault(),D())}),l.jsx("button",{type:"button",onClick:D,className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700",children:"Add"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:b.lookingFor.map((Z,ce)=>l.jsxs("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded flex items-center",children:[Z,l.jsx("button",{type:"button",onClick:()=>U(Z),className:"ml-1.5 text-green-600 hover:text-green-800",children:l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},ce))})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>c(!1),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-50",children:"Cancel"}),l.jsxs("button",{type:"submit",disabled:d,className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[d&&l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Create Project"]})]})]})})]})})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:l.jsx("svg",{className:"w-4 h-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:l.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),l.jsx("input",{type:"search",className:"block w-full p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Search for projects, skills, or keywords",value:r,onChange:Z=>e(Z.target.value)})]})}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs("select",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 p-2.5",value:t,onChange:Z=>s(Z.target.value.toLowerCase()),children:[l.jsx("option",{value:"all",children:"All Categories"}),F.map(Z=>l.jsx("option",{value:Z.toLowerCase(),children:Z},Z))]}),l.jsxs("select",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 p-2.5",value:t,onChange:Z=>s(Z.target.value.toLowerCase()),children:[l.jsx("option",{value:"all",children:"All Statuses"}),P.map(Z=>l.jsx("option",{value:Z.toLowerCase(),children:Z},Z))]})]})]})}),d&&l.jsxs("div",{className:"flex justify-center items-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading projects..."})]}),!d&&l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:$.length>0?$.map(Z=>{var ce,Q,te;return l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"p-5",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:Z.title||Z.name}),l.jsx("span",{className:`text-xs font-medium px-2.5 py-0.5 rounded-full ${Z.status==="Active"?"bg-green-100 text-green-800":Z.status==="Planning"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:Z.status||"Active"})]}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["by ",((ce=Z.creator)==null?void 0:ce.name)||"Anonymous"," · ",Z.teamSize||((Q=Z.members)==null?void 0:Q.length)||1," member",(Z.teamSize||((te=Z.members)==null?void 0:te.length)||1)!==1?"s":""]}),l.jsx("p",{className:"mt-3 text-gray-600 line-clamp-3",children:Z.description}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[(Z.technologies||Z.skills||[]).slice(0,5).map((de,Ee)=>l.jsx("span",{className:"bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded",children:de},Ee)),(Z.technologies||Z.skills||[]).length>5&&l.jsxs("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-0.5 rounded",children:["+",(Z.technologies||Z.skills||[]).length-5," more"]})]}),(Z.lookingFor||[]).length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Looking for:"}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(Z.lookingFor||[]).map((de,Ee)=>l.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded",children:de},Ee))})]}),l.jsxs("div",{className:"mt-4 flex justify-between",children:[l.jsx(De,{to:`/projects/${Z.id}`,className:"text-indigo-600 text-sm font-medium hover:text-indigo-800",children:"View Details"}),Z.status!=="Completed"&&(I(Z)?l.jsx("span",{className:"bg-gray-100 text-gray-800 text-sm px-3 py-1 rounded",children:"You're a Member"}):l.jsx("button",{onClick:()=>z(Z.id),className:"bg-indigo-600 text-white text-sm px-3 py-1 rounded hover:bg-indigo-700 transition-colors",children:"Join Project"}))]})]})},Z.id)}):l.jsxs("div",{className:"col-span-2 text-center py-12 bg-gray-50 rounded-lg",children:[l.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),l.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No projects found"}),l.jsx("p",{className:"mt-1 text-gray-500",children:r||t!=="all"?"Try adjusting your search or filter criteria.":"Be the first to create a project and start collaborating!"}),(r||t!=="all")&&l.jsx("button",{onClick:()=>{e(""),s("all")},className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Clear Filters"})]})})]})},x6=()=>{const[r,e]=A.useState(""),[t,s]=A.useState([]),[a,c]=A.useState("any"),[d,f]=A.useState([]),{users:p,loading:g,error:v}=M_(r,"mentor"),{users:b,loading:E,error:T}=l0("mentor"),M=r?p:b,V=r?g:E,R=r?v:T;A.useEffect(()=>{if(b&&b.length>0){const P=new Set;b.forEach($=>{$.skills&&Array.isArray($.skills)&&$.skills.forEach(C=>{typeof C=="string"?P.add(C):C&&C.name&&P.add(C.name)})}),f(Array.from(P).sort())}},[b]);const L=[{value:"any",label:"Any Experience"},{value:"beginner",label:"1-3 years"},{value:"intermediate",label:"4-7 years"},{value:"advanced",label:"8+ years"},{value:"expert",label:"10+ years"}],O=P=>{t.includes(P)?s(t.filter($=>$!==P)):s([...t,P])},S=P=>typeof P=="string"?P:P&&P.name?P.name:"",F=M?M.filter(P=>{if(!P)return!1;const $=t.length===0||t.every(U=>P.skills&&Array.isArray(P.skills)&&P.skills.some(q=>S(q).toLowerCase()===U.toLowerCase())),C=P.yearsOfExperience||P.experience||"0",N=typeof C=="string"?parseInt(C.replace(/\D/g,""),10)||0:typeof C=="number"?C:0,D=a==="any"||a==="beginner"&&N>=1&&N<=3||a==="intermediate"&&N>=4&&N<=7||a==="advanced"&&N>=8&&N<=9||a==="expert"&&N>=10;return $&&D}):[];return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Find a Mentor"}),l.jsx("button",{className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700",children:"Become a Mentor"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Filters"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{htmlFor:"mentor-search",className:"block mb-2 text-sm font-medium text-gray-700",children:"Search"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:l.jsx("svg",{className:"w-4 h-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:l.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),l.jsx("input",{type:"search",id:"mentor-search",className:"block w-full p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Search mentors or skills",value:r,onChange:P=>e(P.target.value)})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{htmlFor:"experience-filter",className:"block mb-2 text-sm font-medium text-gray-700",children:"Experience Level"}),l.jsx("select",{id:"experience-filter",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2.5",value:a,onChange:P=>c(P.target.value),children:L.map(P=>l.jsx("option",{value:P.value,children:P.label},P.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Skills"}),l.jsx("div",{className:"max-h-60 overflow-y-auto p-1 space-y-1",children:d.map((P,$)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:`skill-${$}`,type:"checkbox",className:"w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500",checked:t.includes(P),onChange:()=>O(P)}),l.jsx("label",{htmlFor:`skill-${$}`,className:"ml-2 text-sm font-medium text-gray-900",children:P})]},$))})]}),t.length>0&&l.jsx("div",{className:"mt-4",children:l.jsx("button",{onClick:()=>s([]),className:"text-sm text-indigo-600 hover:text-indigo-800",children:"Clear Filters"})})]})}),l.jsx("div",{className:"lg:col-span-3",children:V?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-500 border-r-transparent"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading mentors..."})]}):R?l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-md",children:[l.jsxs("p",{className:"text-red-500 mb-4",children:["Error loading mentors: ",R]}),R&&R.includes("index")&&l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"text-gray-700 mb-2",children:"This query requires a Firestore index."}),l.jsx("a",{href:"https://console.firebase.google.com/project/skillsync-e6540/firestore/indexes",target:"_blank",rel:"noopener noreferrer",className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700 inline-block",children:"Create Index in Firebase Console"})]})]}):l.jsx("div",{className:"space-y-6",children:F.length>0?F.map(P=>l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:l.jsx("div",{className:"p-5",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"h-16 w-16 rounded-full bg-indigo-200 flex items-center justify-center text-indigo-700 font-bold text-xl overflow-hidden",children:P.profileImage?l.jsx("img",{src:P.profileImage,alt:P.name,className:"h-full w-full object-cover"}):P.name?P.name.split(" ").map($=>$[0]).join(""):"M"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:typeof P.name=="string"?P.name:"Mentor"}),l.jsx("p",{className:"text-gray-600",children:typeof P.title=="string"?P.title:""})]}),l.jsx("div",{className:"flex mt-2 sm:mt-0",children:P.rating&&typeof P.rating=="number"&&l.jsxs(l.Fragment,{children:[Array(5).fill(0).map(($,C)=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 ${C<Math.floor(P.rating)?"text-yellow-400":"text-gray-300"}`,viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},C)),l.jsx("span",{className:"ml-1 text-gray-600",children:P.rating})]})})]}),l.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Experience:"})," ",typeof P.experience=="object"&&P.experience!==null?"Professional experience available on profile":P.yearsOfExperience||P.experience||"Not specified",P.yearsOfExperience&&typeof P.yearsOfExperience=="number"&&P.yearsOfExperience!==1?" years":P.yearsOfExperience===1?" year":""]}),P.availability&&typeof P.availability=="string"&&l.jsxs("span",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Availability:"})," ",P.availability]})]}),l.jsx("p",{className:"mt-3 text-gray-700",children:typeof P.bio=="string"?P.bio:""}),P.skills&&Array.isArray(P.skills)&&P.skills.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Skills:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:P.skills.map(($,C)=>l.jsx("span",{className:"bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded",children:typeof $=="string"?$:$&&$.name?$.name:""},C))})]}),P.specialties&&Array.isArray(P.specialties)&&P.specialties.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Specialties:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:P.specialties.map(($,C)=>l.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-0.5 rounded",children:typeof $=="string"?$:""},C))})]}),l.jsxs("div",{className:"mt-5 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[l.jsx("button",{className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700 text-sm",children:"Request Mentorship"}),l.jsx(De,{to:`/profile/${P.id}`,className:"text-indigo-600 font-medium text-sm hover:text-indigo-800",children:"View Full Profile"})]})]})]})})},P.id)):l.jsxs("div",{className:"text-center bg-white rounded-lg shadow-md p-8",children:[l.jsx("p",{className:"text-gray-500 mb-4",children:"No mentors found matching your search criteria."}),l.jsx("button",{onClick:()=>{e(""),s([]),c("any")},className:"text-indigo-600 font-medium hover:text-indigo-800",children:"Clear Filters"})]})})})]})]})},b6=()=>{const{currentUser:r}=dt(),[e,t]=A.useState("all"),[s,a]=A.useState(""),{users:c,loading:d,error:f}=M_(s,e!=="all"?e:null),{users:p,loading:g,error:v}=l0(e!=="all"?e:null),b=s?c:p,E=s?d:g,T=s?f:v,M=L=>{var O;switch((O=L||"member")==null?void 0:O.toLowerCase()){case"mentor":return"bg-purple-100 text-purple-800";case"learner":return"bg-blue-100 text-blue-800";case"recruiter":return"bg-green-100 text-green-800";case"member":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},V=L=>{var O;return((O=L.role)==null?void 0:O.toLowerCase())==="mentor"&&L.available===!0},R=L=>L?L.toLowerCase()==="member"?"Learner":L.charAt(0).toUpperCase()+L.slice(1).toLowerCase():"Member";return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-indigo-700 to-purple-700 rounded-xl p-6 mb-8 text-white",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Explore Community"}),l.jsx("p",{className:"mb-4",children:"Connect with mentors, learners, and recruiters in the SkillSync community"}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-6",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:l.jsx("svg",{className:"w-5 h-5 text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:l.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),l.jsx("input",{type:"search",className:"block w-full p-3 pl-10 text-gray-900 border border-gray-300 rounded-lg bg-white focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Search by name, bio, or skills",value:s,onChange:L=>a(L.target.value)})]}),l.jsxs("select",{className:"bg-white text-gray-800 font-medium rounded-lg border border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 block p-3",value:e,onChange:L=>t(L.target.value),children:[l.jsx("option",{value:"all",children:"All Roles"}),l.jsx("option",{value:"mentor",children:"Mentors"}),l.jsx("option",{value:"member",children:"Learners"}),l.jsx("option",{value:"recruiter",children:"Recruiters"})]})]})]}),E&&l.jsxs("div",{className:"flex justify-center items-center py-20",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading users..."})]}),T&&l.jsx("div",{className:"text-center py-10 bg-red-50 rounded-xl",children:l.jsx("p",{className:"text-red-600",children:T})}),!E&&!T&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-4",children:l.jsxs("h2",{className:"font-medium text-gray-700",children:[b.length," ",e==="all"?"users":e+"s"," found"]})}),b.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(L=>{var O;return l.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden transition-transform duration-300 hover:-translate-y-1 border ${V(L)?"border-green-300":"border-gray-200"}`,children:[V(L)&&l.jsx("div",{className:"bg-green-500 text-white text-xs font-bold text-center py-1",children:"Available for Mentoring"}),l.jsxs("div",{className:"p-5",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:L.profileImage?l.jsx("img",{src:L.profileImage,alt:L.name||"User",className:"h-16 w-16 rounded-full object-cover"}):l.jsx("div",{className:"h-16 w-16 rounded-full bg-indigo-100 flex items-center justify-center",children:l.jsx("span",{className:"text-indigo-800 font-medium text-xl",children:(((O=L.name)==null?void 0:O.charAt(0))||"U").toUpperCase()})})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:L.name||"Anonymous User"}),l.jsx("p",{className:"text-sm text-gray-500 truncate",children:L.title||"SkillSync Member"})]}),l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M(L.role)}`,children:R(L.role)})]})})]}),l.jsx("p",{className:"mt-3 text-gray-600 line-clamp-3",children:L.bio||"No bio provided."}),L.skills&&L.skills.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Skills"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[L.skills.slice(0,5).map((S,F)=>l.jsx("span",{className:"bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded",children:typeof S=="object"?S.name:S},F)),L.skills.length>5&&l.jsxs("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-0.5 rounded",children:["+",L.skills.length-5," more"]})]})]}),l.jsx("div",{className:"mt-5 flex justify-end",children:l.jsxs(De,{to:`/profile/${L.id}`,className:"text-indigo-600 hover:text-indigo-800 font-medium text-sm flex items-center",children:[r&&r.uid===L.id?"Edit Profile":"View Profile",l.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})})]})]},L.id)})}):l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),l.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No users found"}),l.jsx("p",{className:"mt-1 text-gray-500",children:"Try adjusting your search or filter to find what you're looking for."}),l.jsx("div",{className:"mt-6",children:l.jsx("button",{onClick:()=>{a(""),t("all")},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Clear Filters"})})]})]})]})},w6=()=>l.jsx("div",{className:"min-h-[70vh] flex items-center justify-center",children:l.jsxs("div",{className:"text-center px-4",children:[l.jsx("h1",{className:"text-6xl font-bold text-indigo-600",children:"404"}),l.jsx("h2",{className:"text-3xl font-semibold text-gray-800 mt-4",children:"Page Not Found"}),l.jsx("p",{className:"text-gray-600 mt-2 mb-8",children:"Sorry, we couldn't find the page you're looking for."}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[l.jsx(De,{to:"/",className:"bg-indigo-600 text-white py-2 px-6 rounded-md font-medium hover:bg-indigo-700 transition-colors",children:"Go to Home"}),l.jsx(De,{to:"/explore",className:"bg-white border border-gray-300 text-gray-700 py-2 px-6 rounded-md font-medium hover:bg-gray-50 transition-colors",children:"Explore Skills"})]})]})}),_6=()=>{const[r,e]=A.useState("all"),t=Fr(),{notifications:s,loading:a,error:c,markAsRead:d,acceptConnectionRequest:f,declineConnectionRequest:p}=I_();A.useEffect(()=>{(async()=>{if(s&&s.length>0){const S=new Date;S.setDate(S.getDate()-1);for(const F of s)if(!F.isRead&&F.createdAt&&F.createdAt.toDate&&F.createdAt.toDate()<S)try{await d(F.id)}catch(P){console.error("Error marking notification as read:",P)}}})()},[s,d]);const g=async O=>{try{await f(O.id,O.requestId),ct.success("Connection request accepted")}catch(S){console.error("Error accepting request:",S),ct.error("Failed to accept request")}},v=async O=>{try{await p(O.id,O.requestId),ct.success("Connection request declined")}catch(S){console.error("Error declining request:",S),ct.error("Failed to decline request")}},b=O=>{O&&t(`/projects/${O}`)},E=O=>{O&&t(`/profile/${O}`)},T=async O=>{if(!O.isRead)try{await d(O.id)}catch(S){console.error("Error marking notification as read:",S)}},M=O=>{switch(O){case"connection":case"connection_accepted":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})});case"project":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})});case"verification":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"skill":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})});case"message":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})});default:return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}},V=O=>{switch(O){case"connection":case"connection_accepted":return"bg-indigo-100 text-indigo-600";case"project":return"bg-purple-100 text-purple-600";case"verification":return"bg-green-100 text-green-600";case"skill":return"bg-blue-100 text-blue-600";case"message":return"bg-yellow-100 text-yellow-600";default:return"bg-gray-100 text-gray-600"}},R=O=>{switch(O.type){case"connection":return[{label:"Accept",primary:!0,action:()=>g(O)},{label:"Decline",primary:!1,action:()=>v(O)}];case"project":return[{label:"View Project",primary:!0,action:()=>b(O.projectId)}];case"connection_accepted":return[{label:"View Profile",primary:!0,action:()=>E(O.fromId)}];default:return[]}},L=r==="all"?s:s.filter(O=>O.type.startsWith(r));return l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx(d6,{position:"top-right"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Notifications"}),l.jsx("p",{className:"text-gray-600",children:"Stay updated with your connections, projects, and mentorship opportunities."})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mb-8",children:[l.jsx("div",{className:"border-b",children:l.jsxs("div",{className:"flex overflow-x-auto scrollbar-thin px-2",children:[l.jsx("button",{onClick:()=>e("all"),className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${r==="all"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-900"}`,children:"All"}),l.jsx("button",{onClick:()=>e("connection"),className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${r==="connection"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-900"}`,children:"Connections"}),l.jsx("button",{onClick:()=>e("project"),className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${r==="project"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-900"}`,children:"Projects"})]})}),l.jsx("div",{className:"divide-y",children:a?l.jsxs("div",{className:"py-12 text-center",children:[l.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-500 border-r-transparent"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading notifications..."})]}):c?l.jsxs("div",{className:"py-12 text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsxs("p",{className:"text-gray-500",children:["Error loading notifications: ",c]})]}):L.length===0?l.jsxs("div",{className:"py-12 text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})}),l.jsx("p",{className:"text-gray-500",children:"No notifications to display"})]}):L.map(O=>{const S=R(O);return l.jsxs("div",{className:`p-4 hover:bg-gray-50 transition-colors duration-200 flex items-start ${O.isRead?"opacity-70":""}`,onClick:()=>T(O),children:[l.jsx("div",{className:`h-10 w-10 rounded-full ${V(O.type)} flex-shrink-0 flex items-center justify-center mr-3`,children:M(O.type)}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:O.title}),!O.isRead&&l.jsx("span",{className:"text-xs bg-indigo-100 text-indigo-800 px-2 py-0.5 rounded-full",children:"New"})]}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:O.description}),l.jsxs("div",{className:"flex justify-between items-center mt-2",children:[l.jsx("p",{className:"text-xs text-gray-400",children:O.time}),S.length>0&&l.jsx("div",{className:"flex space-x-1",children:S.map((F,P)=>l.jsx("button",{onClick:$=>{$.stopPropagation(),F.action()},className:`text-xs ${F.primary?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"} px-2 py-1 rounded transition-colors`,children:F.label},P))})]})]})]},O.id)})})]}),l.jsx("div",{className:"text-center text-gray-500 text-sm",children:l.jsx("p",{children:"You're all caught up! Check back later for more updates."})})]})},E6=()=>{const[r,e]=A.useState(null),{conversations:t,conversationsLoading:s,chatError:a}=s0(),{currentUser:c}=dt(),d=g=>{if(!g)return"";try{const v=g.toDate?g.toDate():new Date(g);return o0(v,{addSuffix:!0})}catch{return""}},f=g=>{e({userId:g.otherUser.id,name:g.otherUser.name,photo:g.otherUser.profileImage,role:g.otherUser.role})},p=()=>{e(null)};return s?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading conversations..."})]}):a?l.jsx("div",{className:"p-6 text-center text-red-600",children:l.jsx("p",{children:a})}):t.length===0?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-indigo-100 rounded-full mb-4",children:l.jsx("svg",{className:"h-8 w-8 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No conversations yet"}),l.jsx("p",{className:"mt-1 text-gray-500",children:"Connect with mentors and learners to start chatting"})]}):r?l.jsx("div",{className:"h-[75vh]",children:l.jsx(u0,{otherUserId:r.userId,otherUserName:r.name,otherUserPhoto:r.photo,onClose:p})}):l.jsxs("div",{className:"divide-y divide-gray-200",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 px-4 py-3",children:"Messages"}),l.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:t.map(g=>{var E,T;const v=g.otherUser||{},b=((E=g.unreadCount)==null?void 0:E[c==null?void 0:c.uid])||0;return l.jsx("div",{onClick:()=>f(g),className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"h-12 w-12 rounded-full bg-indigo-100 flex-shrink-0 overflow-hidden",children:v.profileImage?l.jsx("img",{src:v.profileImage,alt:v.name,className:"h-full w-full object-cover"}):l.jsx("div",{className:"h-full w-full flex items-center justify-center font-bold text-indigo-700",children:((T=v.name)==null?void 0:T.charAt(0))||"?"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:v.name||"User"}),l.jsx("span",{className:"text-xs text-gray-500",children:d(g.lastMessageTimestamp)})]}),l.jsxs("div",{className:"flex justify-between items-start mt-1",children:[l.jsx("p",{className:"text-sm text-gray-600 truncate",children:g.lastMessage||"Start a conversation"}),b>0&&l.jsx("span",{className:"ml-2 inline-flex items-center justify-center h-5 w-5 rounded-full bg-indigo-600 text-xs font-medium text-white",children:b})]}),l.jsx("div",{className:"mt-1",children:l.jsx("span",{className:"text-xs text-gray-500 capitalize",children:v.role||"User"})})]})]})},g.id)})})]})},N6=()=>{const{connections:r,loading:e,error:t}=z_(),{currentUser:s}=dt(),[a,c]=A.useState(null),[d,f]=A.useState(!1),p=async v=>{if(!(!v.connectedUser||d))try{f(!0),c({userId:v.connectedUser.id,name:v.connectedUser.name,photo:v.connectedUser.profileImage,role:v.connectedUser.role}),f(!1)}catch(b){console.error("Error starting chat:",b),f(!1)}},g=()=>{c(null)};return e?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your connections..."})]}):t?l.jsx("div",{className:"p-6 text-center text-red-600",children:l.jsxs("p",{children:["Error loading connections: ",t]})}):!r||r.length===0?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-indigo-100 rounded-full mb-4",children:l.jsx("svg",{className:"h-8 w-8 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No connections yet"}),l.jsx("p",{className:"mt-1 text-gray-500",children:"Connect with mentors and learners to start chatting"})]}):a?l.jsx("div",{className:"h-[75vh]",children:l.jsx(u0,{otherUserId:a.userId,otherUserName:a.name,otherUserPhoto:a.photo,onClose:g})}):l.jsxs("div",{className:"divide-y divide-gray-200",children:[l.jsxs("div",{className:"px-4 py-3 flex justify-between items-center",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Your Connections"}),l.jsxs("span",{className:"text-sm text-gray-500",children:["Total: ",r.length]})]}),l.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:r.map(v=>{var M;const b=v.connectedUser||{},T=v.fromId===(s==null?void 0:s.uid)?v.toRole:v.fromRole;return l.jsx("div",{className:"border-b border-gray-100 last:border-b-0",children:l.jsx("div",{onClick:()=>p(v),className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-12 w-12 rounded-full bg-indigo-100 flex-shrink-0 overflow-hidden",children:b.profileImage?l.jsx("img",{src:b.profileImage,alt:b.name,className:"h-full w-full object-cover"}):l.jsx("div",{className:"h-full w-full flex items-center justify-center font-bold text-indigo-700",children:((M=b.name)==null?void 0:M.charAt(0))||"?"})}),l.jsxs("div",{className:"ml-4 flex-1",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:b.name||"User"}),l.jsx("p",{className:"text-sm text-gray-500 capitalize",children:T||"Connection"})]}),l.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none",onClick:V=>{V.stopPropagation(),p(v)},children:"Message"})]})})},v.id)})})]})},T6=()=>{const{isAuthenticated:r,loading:e}=dt(),[t,s]=A.useState("conversations");return e?l.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):r?l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Messages"}),l.jsx("p",{className:"text-gray-600",children:"Chat with your mentors, mentees, and connections"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex","aria-label":"Tabs",children:[l.jsx("button",{onClick:()=>s("conversations"),className:`whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm ${t==="conversations"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Conversations"}),l.jsx("button",{onClick:()=>s("connections"),className:`whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm ${t==="connections"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Connections"})]})}),t==="conversations"?l.jsx(E6,{}):l.jsx(N6,{})]})]}):l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-md",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-indigo-100 rounded-full mb-4",children:l.jsx("svg",{className:"h-8 w-8 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sign in required"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Please sign in to view and send messages"}),l.jsx("div",{className:"mt-6",children:l.jsx("a",{href:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Sign in"})})]})},S6=()=>{const[r,e]=A.useState(""),[t,s]=A.useState(""),[a,c]=A.useState(""),[d,f]=A.useState(!1),{login:p,googleSignIn:g}=dt(),v=Fr(),b=async T=>{T.preventDefault(),c(""),f(!0);try{await p(r,t),v("/")}catch(M){c("Invalid email or password. Please try again."),console.error(M)}f(!1)},E=async()=>{c(""),f(!0);try{await g(),v("/")}catch(T){c("Failed to sign in with Google. Please try again."),console.error(T)}f(!1)};return l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-indigo-50 to-slate-50 px-4 py-12",children:[l.jsxs(De,{to:"/",className:"flex items-center mb-8",children:[l.jsx("div",{className:"h-10 w-10 rounded-md bg-indigo-600 flex items-center justify-center mr-2",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),l.jsx("span",{className:"text-2xl font-bold text-indigo-600",children:"SkillSync"})]}),l.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-md",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Welcome back"}),l.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to continue to SkillSync"})]}),a&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md",role:"alert",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-red-700",children:a})})]})}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"you@example.com",value:r,onChange:T=>e(T.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"••••••••",value:t,onChange:T=>s(T.target.value)})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),l.jsx("div",{className:"text-sm",children:l.jsx("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot password?"})})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200",children:d?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),l.jsx("div",{className:"mt-6",children:l.jsxs("button",{onClick:E,disabled:d,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200",children:[l.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",l.jsx(De,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors duration-200",children:"Sign up now"})]})})]})]})},j6=()=>l.jsx(S6,{}),A6=()=>{const[r,e]=A.useState(""),[t,s]=A.useState(""),[a,c]=A.useState(""),[d,f]=A.useState(""),[p,g]=A.useState("member"),[v,b]=A.useState(""),[E,T]=A.useState(!1),{signup:M,googleSignIn:V}=dt(),R=Fr(),L=async S=>{if(S.preventDefault(),a!==d)return b("Passwords do not match");if(a.length<6)return b("Password must be at least 6 characters");b(""),T(!0);try{await M(t,a,r,p),R("/")}catch(F){F.code==="auth/email-already-in-use"?b("This email is already in use. Please use a different email or sign in instead."):b("Failed to create an account. Please try again."),console.error(F)}T(!1)},O=async()=>{b(""),T(!0);try{await V(),R("/")}catch(S){b("Failed to sign up with Google. Please try again."),console.error(S)}T(!1)};return l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-indigo-50 to-slate-50 px-4 py-12",children:[l.jsxs(De,{to:"/",className:"flex items-center mb-8",children:[l.jsx("div",{className:"h-10 w-10 rounded-md bg-indigo-600 flex items-center justify-center mr-2",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),l.jsx("span",{className:"text-2xl font-bold text-indigo-600",children:"SkillSync"})]}),l.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-md",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),l.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join SkillSync to connect with mentors and collaborate on projects"})]}),v&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md",role:"alert",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-red-700",children:v})})]})}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:L,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full name"}),l.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"John Smith",value:r,onChange:S=>e(S.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"you@example.com",value:t,onChange:S=>s(S.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"I want to join as"}),l.jsxs("select",{id:"role",name:"role",value:p,onChange:S=>g(S.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[l.jsx("option",{value:"member",children:"Member (Looking to learn and collaborate)"}),l.jsx("option",{value:"mentor",children:"Mentor (Offering guidance and expertise)"}),l.jsx("option",{value:"recruiter",children:"Recruiter (Seeking talent)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"••••••••",value:a,onChange:S=>c(S.target.value)}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 6 characters"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),l.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"••••••••",value:d,onChange:S=>f(S.target.value)})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),l.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["I agree to the ",l.jsx("a",{href:"#",className:"text-indigo-600 hover:text-indigo-500",children:"Terms of Service"})," and ",l.jsx("a",{href:"#",className:"text-indigo-600 hover:text-indigo-500",children:"Privacy Policy"})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:E,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200",children:E?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create account"})})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or sign up with"})})]}),l.jsx("div",{className:"mt-6",children:l.jsxs("button",{onClick:O,disabled:E,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200",children:[l.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]})})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",l.jsx(De,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors duration-200",children:"Sign in now"})]})})]})]})},C6=()=>l.jsx(A6,{}),R6=()=>{const[r]=WT(),e=r.get("talentId"),t=Fr(),{userProfile:s}=dt(),[a,c]=A.useState(null),[d,f]=A.useState(!0),[p,g]=A.useState({message:"",availability:[],topics:[],duration:"3 months"}),[v,b]=A.useState({}),[E,T]=A.useState(null),M=[{value:"weekday-mornings",label:"Weekday Mornings"},{value:"weekday-evenings",label:"Weekday Evenings"},{value:"weekends",label:"Weekends"},{value:"flexible",label:"Flexible"}],V=["1 month","3 months","6 months","Ongoing"];A.useEffect(()=>{setTimeout(()=>{e&&c({id:e,name:"Alex Johnson",title:"Frontend Developer",skills:["React","TypeScript","CSS","UI Design"],bio:"Passionate frontend developer with 3 years of experience building modern web applications.",location:"Seattle, WA",profileImage:"https://i.pravatar.cc/150?img=1",learningGoals:["Master advanced React patterns","Learn Node.js for full-stack development","Improve UI design skills"]}),f(!1)},500)},[e]);const R=C=>{const{name:N,value:D}=C.target;g({...p,[N]:D}),v[N]&&b({...v,[N]:null})},L=(C,N)=>{const{value:D,checked:U}=C.target;g(U?{...p,[N]:[...p[N],D]}:{...p,[N]:p[N].filter(q=>q!==D)}),v[N]&&b({...v,[N]:null})},O=C=>{const N=C.target.value.trim();N&&C.key==="Enter"&&(C.preventDefault(),p.topics.includes(N)||g({...p,topics:[...p.topics,N]}),C.target.value="",v.topics&&b({...v,topics:null}))},S=C=>{g({...p,topics:p.topics.filter(N=>N!==C)})},F=()=>{const C={};return p.message.trim()||(C.message="Please enter a personalized message"),p.availability.length===0&&(C.availability="Please select at least one availability option"),p.topics.length===0&&(C.topics="Please enter at least one mentorship topic"),b(C),Object.keys(C).length===0},P=C=>{C.preventDefault(),F()&&(T("submitting"),setTimeout(()=>{console.log("Mentorship offer submitted:",{mentorId:s.uid,mentorName:s.name,talentId:a.id,talentName:a.name,...p}),T("success"),setTimeout(()=>{t("/mentorship")},2e3)},1e3))},$=()=>{t(-1)};return d?l.jsx("div",{className:"p-6 flex justify-center",children:l.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[l.jsx("div",{className:"rounded-full bg-slate-200 h-16 w-16 mb-4"}),l.jsx("div",{className:"h-4 bg-slate-200 rounded w-36 mb-2"}),l.jsx("div",{className:"h-3 bg-slate-200 rounded w-24"}),l.jsxs("div",{className:"mt-8 w-full max-w-md",children:[l.jsx("div",{className:"h-6 bg-slate-200 rounded mb-4"}),l.jsx("div",{className:"h-24 bg-slate-200 rounded mb-4"}),l.jsx("div",{className:"h-12 bg-slate-200 rounded"})]})]})}):a?l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Offer Mentorship"}),E==="success"?l.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("svg",{className:"w-12 h-12 text-green-500 mr-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("h2",{className:"text-xl font-semibold text-green-800",children:"Mentorship Offer Sent!"})]}),l.jsxs("p",{className:"text-green-700",children:["Your mentorship offer has been sent to ",a.name,". They will be notified and can choose to accept your offer. We'll let you know when they respond!"]}),l.jsx("div",{className:"mt-4",children:l.jsx("button",{onClick:()=>t("/mentorship"),className:"bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-green-700",children:"View My Mentorships"})})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:l.jsx("div",{className:"p-5",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("img",{src:a.profileImage,alt:a.name,className:"w-16 h-16 rounded-full object-cover mr-4"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:a.name}),l.jsx("p",{className:"text-sm text-gray-600",children:a.title}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.location}),l.jsxs("div",{className:"mt-3",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Learning Goals:"}),l.jsx("ul",{className:"pl-5 list-disc text-sm text-gray-600",children:a.learningGoals.map((C,N)=>l.jsx("li",{children:C},N))})]})]})]})})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[l.jsxs("div",{className:"px-5 py-4 bg-indigo-50",children:[l.jsx("h2",{className:"text-lg font-semibold text-indigo-800",children:"Craft Your Mentorship Offer"}),l.jsxs("p",{className:"text-sm text-indigo-700",children:["Tailor your offer to match ",a.name,"'s goals and experience level"]})]}),l.jsxs("form",{onSubmit:P,className:"p-5",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personalized Message"}),l.jsx("textarea",{name:"message",value:p.message,onChange:R,className:`block w-full px-3 py-2 text-gray-700 border ${v.message?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500`,placeholder:`Introduce yourself to ${a.name} and explain why you'd like to mentor them...`,rows:5}),v.message&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.message})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Availability"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:M.map(C=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:C.value,value:C.value,checked:p.availability.includes(C.value),onChange:N=>L(N,"availability"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:C.value,className:"ml-2 block text-sm text-gray-700",children:C.label})]},C.value))}),v.availability&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.availability})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mentorship Topics (press Enter to add)"}),l.jsxs("div",{className:`flex flex-wrap p-2 gap-2 border ${v.topics?"border-red-500":"border-gray-300"} rounded-md focus-within:ring-1 focus-within:ring-indigo-500 focus-within:border-indigo-500`,children:[p.topics.map((C,N)=>l.jsxs("div",{className:"bg-indigo-100 text-indigo-800 text-sm px-2 py-1 rounded-md flex items-center",children:[C,l.jsx("button",{type:"button",onClick:()=>S(C),className:"ml-1 text-indigo-600 hover:text-indigo-800",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},N)),l.jsx("input",{type:"text",onKeyDown:O,placeholder:"Type topic and press Enter...",className:"flex-grow outline-none text-sm p-1"})]}),v.topics&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.topics}),l.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Focus on topics that align with ",a.name,"'s learning goals"]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mentorship Duration"}),l.jsx("select",{name:"duration",value:p.duration,onChange:R,className:"block w-full px-3 py-2 text-gray-700 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:V.map(C=>l.jsx("option",{value:C,children:C},C))})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[l.jsx("button",{type:"button",onClick:$,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:E==="submitting",className:`px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 ${E==="submitting"?"opacity-70 cursor-not-allowed":""}`,children:E==="submitting"?"Sending...":"Send Mentorship Offer"})]})]})]})]})]}):l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[l.jsx("p",{className:"text-yellow-800",children:"Talent not found. Please select a talent from the talents directory."}),l.jsx("button",{onClick:()=>t("/talents"),className:"mt-2 text-indigo-600 font-medium hover:text-indigo-800",children:"Browse Talents →"})]})})};class mp extends gN.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),console.error("Error caught by ErrorBoundary:",e,t)}render(){return this.state.hasError?l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-md p-8",children:[l.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"We encountered an error while rendering this component. Please try refreshing the page."}),l.jsxs("details",{className:"text-left bg-gray-50 p-4 rounded-md mb-4",children:[l.jsx("summary",{className:"cursor-pointer text-indigo-600 font-medium",children:"Technical Details"}),l.jsx("p",{className:"mt-2 text-gray-800 text-sm overflow-auto",children:this.state.error&&this.state.error.toString()}),l.jsx("div",{className:"mt-2 text-gray-600 text-xs",children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700",children:"Refresh Page"})]}):this.props.children}}function k6(){return l.jsx(qk,{children:l.jsx(Hk,{children:l.jsx(BT,{children:l.jsxs(yT,{children:[l.jsx(bn,{path:"/login",element:l.jsx(j6,{})}),l.jsx(bn,{path:"/signup",element:l.jsx(C6,{})}),l.jsxs(bn,{path:"/",element:l.jsx(VI,{}),children:[l.jsx(bn,{index:!0,element:l.jsx(GI,{})}),l.jsx(bn,{path:"profile",element:l.jsx(Mw,{})}),l.jsx(bn,{path:"profile/:userId",element:l.jsx(Mw,{})}),l.jsx(bn,{path:"projects",element:l.jsx(v6,{})}),l.jsx(bn,{path:"mentorship",element:l.jsx(mp,{children:l.jsx(x6,{})})}),l.jsx(bn,{path:"explore",element:l.jsx(mp,{children:l.jsx(b6,{})})}),l.jsx(bn,{path:"notifications",element:l.jsx(_6,{})}),l.jsx(bn,{path:"messages",element:l.jsx(mp,{children:l.jsx(T6,{})})}),l.jsx(bn,{path:"offer-mentorship",element:l.jsx(R6,{})}),l.jsx(bn,{path:"*",element:l.jsx(w6,{})})]})]})})})})}EN.createRoot(document.getElementById("root")).render(l.jsx(A.StrictMode,{children:l.jsx(k6,{})}));
